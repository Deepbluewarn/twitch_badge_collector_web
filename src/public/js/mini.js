(()=>{var e={455:function(e){e.exports=function(){"use strict";const e="SweetAlert2:",t=e=>e.charAt(0).toUpperCase()+e.slice(1),n=e=>Array.prototype.slice.call(e),s=t=>{console.warn("".concat(e," ").concat("object"==typeof t?t.join(" "):t))},o=t=>{console.error("".concat(e," ").concat(t))},i=[],r=(e,t)=>{var n;n='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'),i.includes(n)||(i.push(n),s(n))},a=e=>"function"==typeof e?e():e,l=e=>e&&"function"==typeof e.toPromise,c=e=>l(e)?e.toPromise():Promise.resolve(e),u=e=>e&&Promise.resolve(e)===e,d={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},h=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],p={},m=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],g=e=>Object.prototype.hasOwnProperty.call(d,e),f=e=>-1!==h.indexOf(e),w=e=>p[e],b=e=>{g(e)||s('Unknown parameter "'.concat(e,'"'))},y=e=>{m.includes(e)&&s('The parameter "'.concat(e,'" is incompatible with toasts'))},v=e=>{w(e)&&r(e,w(e))},_=e=>{const t={};for(const n in e)t[e[n]]="swal2-"+e[n];return t},k=_(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),C=_(["success","warning","info","question","error"]),x=()=>document.body.querySelector(".".concat(k.container)),S=e=>{const t=x();return t?t.querySelector(e):null},O=e=>S(".".concat(e)),E=()=>O(k.popup),L=()=>O(k.icon),P=()=>O(k.title),T=()=>O(k["html-container"]),A=()=>O(k.image),j=()=>O(k["progress-steps"]),I=()=>O(k["validation-message"]),N=()=>S(".".concat(k.actions," .").concat(k.confirm)),R=()=>S(".".concat(k.actions," .").concat(k.deny)),D=()=>S(".".concat(k.loader)),M=()=>S(".".concat(k.actions," .").concat(k.cancel)),B=()=>O(k.actions),F=()=>O(k.footer),$=()=>O(k["timer-progress-bar"]),U=()=>O(k.close),H=()=>{const e=n(E().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(((e,t)=>{const n=parseInt(e.getAttribute("tabindex")),s=parseInt(t.getAttribute("tabindex"));return n>s?1:n<s?-1:0})),t=n(E().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((e=>"-1"!==e.getAttribute("tabindex")));return(e=>{const t=[];for(let n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t})(e.concat(t)).filter((e=>re(e)))},z=()=>!K(document.body,k["toast-shown"])&&!K(document.body,k["no-backdrop"]),q=()=>E()&&K(E(),k.toast),V={previousBodyPadding:null},J=(e,t)=>{if(e.textContent="",t){const s=(new DOMParser).parseFromString(t,"text/html");n(s.querySelector("head").childNodes).forEach((t=>{e.appendChild(t)})),n(s.querySelector("body").childNodes).forEach((t=>{e.appendChild(t)}))}},K=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let t=0;t<n.length;t++)if(!e.classList.contains(n[t]))return!1;return!0},W=(e,t,o)=>{if(((e,t)=>{n(e.classList).forEach((n=>{Object.values(k).includes(n)||Object.values(C).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))})(e,t),t.customClass&&t.customClass[o]){if("string"!=typeof t.customClass[o]&&!t.customClass[o].forEach)return s("Invalid type of customClass.".concat(o,'! Expected string or iterable object, got "').concat(typeof t.customClass[o],'"'));X(e,t.customClass[o])}},G=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(k.popup," > .").concat(k[t]));case"checkbox":return e.querySelector(".".concat(k.popup," > .").concat(k.checkbox," input"));case"radio":return e.querySelector(".".concat(k.popup," > .").concat(k.radio," input:checked"))||e.querySelector(".".concat(k.popup," > .").concat(k.radio," input:first-child"));case"range":return e.querySelector(".".concat(k.popup," > .").concat(k.range," input"));default:return e.querySelector(".".concat(k.popup," > .").concat(k.input))}},Y=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},Z=(e,t,n)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},X=(e,t)=>{Z(e,t,!0)},Q=(e,t)=>{Z(e,t,!1)},ee=(e,t)=>{const s=n(e.childNodes);for(let e=0;e<s.length;e++)if(K(s[e],t))return s[e]},te=(e,t,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},ne=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},se=e=>{e.style.display="none"},oe=(e,t,n,s)=>{const o=e.querySelector(t);o&&(o.style[n]=s)},ie=(e,t,n)=>{t?ne(e,n):se(e)},re=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),ae=e=>!!(e.scrollHeight>e.clientHeight),le=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),s=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||s>0},ce=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$();re(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},ue=()=>"undefined"==typeof window||"undefined"==typeof document,de={},he=e=>new Promise((t=>{if(!e)return t();const n=window.scrollX,s=window.scrollY;de.restoreFocusTimeout=setTimeout((()=>{de.previousActiveElement&&de.previousActiveElement.focus?(de.previousActiveElement.focus(),de.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),window.scrollTo(n,s)})),pe='\n <div aria-labelledby="'.concat(k.title,'" aria-describedby="').concat(k["html-container"],'" class="').concat(k.popup,'" tabindex="-1">\n   <button type="button" class="').concat(k.close,'"></button>\n   <ul class="').concat(k["progress-steps"],'"></ul>\n   <div class="').concat(k.icon,'"></div>\n   <img class="').concat(k.image,'" />\n   <h2 class="').concat(k.title,'" id="').concat(k.title,'"></h2>\n   <div class="').concat(k["html-container"],'" id="').concat(k["html-container"],'"></div>\n   <input class="').concat(k.input,'" />\n   <input type="file" class="').concat(k.file,'" />\n   <div class="').concat(k.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(k.select,'"></select>\n   <div class="').concat(k.radio,'"></div>\n   <label for="').concat(k.checkbox,'" class="').concat(k.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(k.label,'"></span>\n   </label>\n   <textarea class="').concat(k.textarea,'"></textarea>\n   <div class="').concat(k["validation-message"],'" id="').concat(k["validation-message"],'"></div>\n   <div class="').concat(k.actions,'">\n     <div class="').concat(k.loader,'"></div>\n     <button type="button" class="').concat(k.confirm,'"></button>\n     <button type="button" class="').concat(k.deny,'"></button>\n     <button type="button" class="').concat(k.cancel,'"></button>\n   </div>\n   <div class="').concat(k.footer,'"></div>\n   <div class="').concat(k["timer-progress-bar-container"],'">\n     <div class="').concat(k["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),me=()=>{de.currentInstance.resetValidationMessage()},ge=e=>{const t=(()=>{const e=x();return!!e&&(e.remove(),Q([document.documentElement,document.body],[k["no-backdrop"],k["toast-shown"],k["has-column"]]),!0)})();if(ue())return void o("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=k.container,t&&X(n,k["no-transition"]),J(n,pe);const s="string"==typeof(i=e.target)?document.querySelector(i):i;var i;s.appendChild(n),(e=>{const t=E();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")})(e),(e=>{"rtl"===window.getComputedStyle(e).direction&&X(x(),k.rtl)})(s),(()=>{const e=E(),t=ee(e,k.input),n=ee(e,k.file),s=e.querySelector(".".concat(k.range," input")),o=e.querySelector(".".concat(k.range," output")),i=ee(e,k.select),r=e.querySelector(".".concat(k.checkbox," input")),a=ee(e,k.textarea);t.oninput=me,n.onchange=me,i.onchange=me,r.onchange=me,a.oninput=me,s.oninput=()=>{me(),o.value=s.value},s.onchange=()=>{me(),s.nextSibling.value=s.value}})()},fe=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?we(e,t):e&&J(t,e)},we=(e,t)=>{e.jquery?be(t,e):J(t,e.toString())},be=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},ye=(()=>{if(ue())return!1;const e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1})(),ve=(e,t)=>{const n=B(),s=D();t.showConfirmButton||t.showDenyButton||t.showCancelButton?ne(n):se(n),W(n,t,"actions"),function(e,t,n){const s=N(),o=R(),i=M();_e(s,"confirm",n),_e(o,"deny",n),_e(i,"cancel",n),function(e,t,n,s){if(!s.buttonsStyling)return Q([e,t,n],k.styled);X([e,t,n],k.styled),s.confirmButtonColor&&(e.style.backgroundColor=s.confirmButtonColor,X(e,k["default-outline"])),s.denyButtonColor&&(t.style.backgroundColor=s.denyButtonColor,X(t,k["default-outline"])),s.cancelButtonColor&&(n.style.backgroundColor=s.cancelButtonColor,X(n,k["default-outline"]))}(s,o,i,n),n.reverseButtons&&(n.toast?(e.insertBefore(i,s),e.insertBefore(o,s)):(e.insertBefore(i,t),e.insertBefore(o,t),e.insertBefore(s,t)))}(n,s,t),J(s,t.loaderHtml),W(s,t,"loader")};function _e(e,n,s){ie(e,s["show".concat(t(n),"Button")],"inline-block"),J(e,s["".concat(n,"ButtonText")]),e.setAttribute("aria-label",s["".concat(n,"ButtonAriaLabel")]),e.className=k[n],W(e,s,"".concat(n,"Button")),X(e,s["".concat(n,"ButtonClass")])}const ke=(e,t)=>{const n=x();n&&(function(e,t){"string"==typeof t?e.style.background=t:t||X([document.documentElement,document.body],k["no-backdrop"])}(n,t.backdrop),function(e,t){t in k?X(e,k[t]):(s('The "position" parameter is not valid, defaulting to "center"'),X(e,k.center))}(n,t.position),function(e,t){if(t&&"string"==typeof t){const n="grow-".concat(t);n in k&&X(e,k[n])}}(n,t.grow),W(n,t,"container"))};var Ce={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const xe=["input","file","range","select","radio","checkbox","textarea"],Se=e=>{if(!Ae[e.input])return o('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));const t=Te(e.input),n=Ae[e.input](t,e);ne(n),setTimeout((()=>{Y(n)}))},Oe=(e,t)=>{const n=G(E(),e);if(n){(e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}})(n);for(const e in t)n.setAttribute(e,t[e])}},Ee=e=>{const t=Te(e.input);e.customClass&&X(t,e.customClass.input)},Le=(e,t)=>{e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Pe=(e,t,n)=>{if(n.inputLabel){e.id=k.input;const s=document.createElement("label"),o=k["input-label"];s.setAttribute("for",e.id),s.className=o,X(s,n.customClass.inputLabel),s.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",s)}},Te=e=>{const t=k[e]?k[e]:k.input;return ee(E(),t)},Ae={};Ae.text=Ae.email=Ae.password=Ae.number=Ae.tel=Ae.url=(e,t)=>("string"==typeof t.inputValue||"number"==typeof t.inputValue?e.value=t.inputValue:u(t.inputValue)||s('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t.inputValue,'"')),Pe(e,e,t),Le(e,t),e.type=t.input,e),Ae.file=(e,t)=>(Pe(e,e,t),Le(e,t),e),Ae.range=(e,t)=>{const n=e.querySelector("input"),s=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,s.value=t.inputValue,Pe(n,e,t),e},Ae.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");J(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Pe(e,e,t),e},Ae.radio=e=>(e.textContent="",e),Ae.checkbox=(e,t)=>{const n=G(E(),"checkbox");n.value="1",n.id=k.checkbox,n.checked=Boolean(t.inputValue);const s=e.querySelector("span");return J(s,t.inputPlaceholder),e},Ae.textarea=(e,t)=>{e.value=t.inputValue,Le(e,t),Pe(e,e,t);return setTimeout((()=>{if("MutationObserver"in window){const t=parseInt(window.getComputedStyle(E()).width);new MutationObserver((()=>{const n=e.offsetWidth+(s=e,parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight));var s;E().style.width=n>t?"".concat(n,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const je=(e,t)=>{const n=T();W(n,t,"htmlContainer"),t.html?(fe(t.html,n),ne(n,"block")):t.text?(n.textContent=t.text,ne(n,"block")):se(n),((e,t)=>{const n=E(),s=Ce.innerParams.get(e),o=!s||t.input!==s.input;xe.forEach((e=>{const s=k[e],i=ee(n,s);Oe(e,t.inputAttributes),i.className=s,o&&se(i)})),t.input&&(o&&Se(t),Ee(t))})(e,t)},Ie=(e,t)=>{for(const n in C)t.icon!==n&&Q(e,C[n]);X(e,C[t.icon]),De(e,t),Ne(),W(e,t,"icon")},Ne=()=>{const e=E(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<n.length;e++)n[e].style.backgroundColor=t},Re=(e,t)=>{e.textContent="",t.iconHtml?J(e,Me(t.iconHtml)):"success"===t.icon?J(e,'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n'):"error"===t.icon?J(e,'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n'):J(e,Me({question:"?",warning:"!",info:"i"}[t.icon]))},De=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])oe(e,n,"backgroundColor",t.iconColor);oe(e,".swal2-success-ring","borderColor",t.iconColor)}},Me=e=>'<div class="'.concat(k["icon-content"],'">').concat(e,"</div>"),Be=(e,t)=>{const n=j();if(!t.progressSteps||0===t.progressSteps.length)return se(n);ne(n),n.textContent="",t.currentProgressStep>=t.progressSteps.length&&s("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(((e,s)=>{const o=(e=>{const t=document.createElement("li");return X(t,k["progress-step"]),J(t,e),t})(e);if(n.appendChild(o),s===t.currentProgressStep&&X(o,k["active-progress-step"]),s!==t.progressSteps.length-1){const e=(e=>{const t=document.createElement("li");return X(t,k["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t})(t);n.appendChild(e)}}))},Fe=(e,t)=>{e.className="".concat(k.popup," ").concat(re(e)?t.showClass.popup:""),t.toast?(X([document.documentElement,document.body],k["toast-shown"]),X(e,k.toast)):X(e,k.modal),W(e,t,"popup"),"string"==typeof t.customClass&&X(e,t.customClass),t.icon&&X(e,k["icon-".concat(t.icon)])},$e=(e,t)=>{((e,t)=>{const n=x(),s=E();t.toast?(te(n,"width",t.width),s.style.width="100%",s.insertBefore(D(),L())):te(s,"width",t.width),te(s,"padding",t.padding),t.color&&(s.style.color=t.color),t.background&&(s.style.background=t.background),se(I()),Fe(s,t)})(0,t),ke(0,t),Be(0,t),((e,t)=>{const n=Ce.innerParams.get(e),s=L();n&&t.icon===n.icon?(Re(s,t),Ie(s,t)):t.icon||t.iconHtml?t.icon&&-1===Object.keys(C).indexOf(t.icon)?(o('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),se(s)):(ne(s),Re(s,t),Ie(s,t),X(s,t.showClass.icon)):se(s)})(e,t),((e,t)=>{const n=A();if(!t.imageUrl)return se(n);ne(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),te(n,"width",t.imageWidth),te(n,"height",t.imageHeight),n.className=k.image,W(n,t,"image")})(0,t),((e,t)=>{const n=P();ie(n,t.title||t.titleText,"block"),t.title&&fe(t.title,n),t.titleText&&(n.innerText=t.titleText),W(n,t,"title")})(0,t),((e,t)=>{const n=U();J(n,t.closeButtonHtml),W(n,t,"closeButton"),ie(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)})(0,t),je(e,t),ve(0,t),((e,t)=>{const n=F();ie(n,t.footer),t.footer&&fe(t.footer,n),W(n,t,"footer")})(0,t),"function"==typeof t.didRender&&t.didRender(E())},Ue=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),He=()=>{n(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},ze=["swal-title","swal-html","swal-footer"],qe=e=>{const t={};return n(e.querySelectorAll("swal-param")).forEach((e=>{Ze(e,["name","value"]);const n=e.getAttribute("name"),s=e.getAttribute("value");"boolean"==typeof d[n]&&"false"===s&&(t[n]=!1),"object"==typeof d[n]&&(t[n]=JSON.parse(s))})),t},Ve=e=>{const s={};return n(e.querySelectorAll("swal-button")).forEach((e=>{Ze(e,["type","color","aria-label"]);const n=e.getAttribute("type");s["".concat(n,"ButtonText")]=e.innerHTML,s["show".concat(t(n),"Button")]=!0,e.hasAttribute("color")&&(s["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(s["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),s},Je=e=>{const t={},n=e.querySelector("swal-image");return n&&(Ze(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Ke=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Ze(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},We=e=>{const t={},s=e.querySelector("swal-input");s&&(Ze(s,["type","label","placeholder","value"]),t.input=s.getAttribute("type")||"text",s.hasAttribute("label")&&(t.inputLabel=s.getAttribute("label")),s.hasAttribute("placeholder")&&(t.inputPlaceholder=s.getAttribute("placeholder")),s.hasAttribute("value")&&(t.inputValue=s.getAttribute("value")));const o=e.querySelectorAll("swal-input-option");return o.length&&(t.inputOptions={},n(o).forEach((e=>{Ze(e,["value"]);const n=e.getAttribute("value"),s=e.innerHTML;t.inputOptions[n]=s}))),t},Ge=(e,t)=>{const n={};for(const s in t){const o=t[s],i=e.querySelector(o);i&&(Ze(i,[]),n[o.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},Ye=e=>{const t=ze.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);n(e.children).forEach((e=>{const n=e.tagName.toLowerCase();-1===t.indexOf(n)&&s("Unrecognized element <".concat(n,">"))}))},Ze=(e,t)=>{n(e.attributes).forEach((n=>{-1===t.indexOf(n.name)&&s(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))};var Xe={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Qe(e){(function(e){e.inputValidator||Object.keys(Xe).forEach((t=>{e.input===t&&(e.inputValidator=Xe[t])}))})(e),e.showLoaderOnConfirm&&!e.preConfirm&&s("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(s('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),ge(e)}class et{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const tt=()=>{null===V.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(V.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(V.previousBodyPadding+(()=>{const e=document.createElement("div");e.className=k["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t})(),"px"))},nt=()=>{const e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){const e=44;E().scrollHeight>window.innerHeight-e&&(x().style.paddingBottom="".concat(e,"px"))}},st=()=>{const e=x();let t;e.ontouchstart=e=>{t=ot(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},ot=e=>{const t=e.target,n=x();return!(it(e)||rt(e)||t!==n&&(ae(n)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||ae(T())&&T().contains(t)))},it=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,rt=e=>e.touches&&e.touches.length>1,at=e=>{const t=x(),s=E();"function"==typeof e.willOpen&&e.willOpen(s);const o=window.getComputedStyle(document.body).overflowY;dt(t,s,e),setTimeout((()=>{ct(t,s)}),10),z()&&(ut(t,e.scrollbarPadding,o),n(document.body.children).forEach((e=>{e===x()||e.contains(x())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))),q()||de.previousActiveElement||(de.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((()=>e.didOpen(s))),Q(t,k["no-transition"])},lt=e=>{const t=E();if(e.target!==t)return;const n=x();t.removeEventListener(ye,lt),n.style.overflowY="auto"},ct=(e,t)=>{ye&&le(t)?(e.style.overflowY="hidden",t.addEventListener(ye,lt)):e.style.overflowY="auto"},ut=(e,t,n)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!K(document.body,k.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),X(document.body,k.iosfix),st(),nt()}})(),t&&"hidden"!==n&&tt(),setTimeout((()=>{e.scrollTop=0}))},dt=(e,t,n)=>{X(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),ne(t,"grid"),setTimeout((()=>{X(t,n.showClass.popup),t.style.removeProperty("opacity")}),10),X([document.documentElement,document.body],k.shown),n.heightAuto&&n.backdrop&&!n.toast&&X([document.documentElement,document.body],k["height-auto"])},ht=e=>{let t=E();t||new xn,t=E();const n=D();q()?se(L()):pt(t,e),ne(n),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},pt=(e,t)=>{const n=B(),s=D();!t&&re(N())&&(t=N()),ne(n),t&&(se(t),s.setAttribute("data-button-to-replace",t.className)),s.parentNode.insertBefore(s,t),X([e,n],k.loading)},mt=e=>e.checked?1:0,gt=e=>e.checked?e.value:null,ft=e=>e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,wt=(e,t)=>{const n=E(),s=e=>yt[t.input](n,vt(e),t);l(t.inputOptions)||u(t.inputOptions)?(ht(N()),c(t.inputOptions).then((t=>{e.hideLoading(),s(t)}))):"object"==typeof t.inputOptions?s(t.inputOptions):o("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},bt=(e,t)=>{const n=e.getInput();se(n),c(t.inputValue).then((s=>{n.value="number"===t.input?parseFloat(s)||0:"".concat(s),ne(n),n.focus(),e.hideLoading()})).catch((t=>{o("Error in inputValue promise: ".concat(t)),n.value="",ne(n),n.focus(),e.hideLoading()}))},yt={select:(e,t,n)=>{const s=ee(e,k.select),o=(e,t,s)=>{const o=document.createElement("option");o.value=s,J(o,t),o.selected=_t(s,n.inputValue),e.appendChild(o)};t.forEach((e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,s.appendChild(e),n.forEach((t=>o(e,t[1],t[0])))}else o(s,n,t)})),s.focus()},radio:(e,t,n)=>{const s=ee(e,k.radio);t.forEach((e=>{const t=e[0],o=e[1],i=document.createElement("input"),r=document.createElement("label");i.type="radio",i.name=k.radio,i.value=t,_t(t,n.inputValue)&&(i.checked=!0);const a=document.createElement("span");J(a,o),a.className=k.label,r.appendChild(i),r.appendChild(a),s.appendChild(r)}));const o=s.querySelectorAll("input");o.length&&o[0].focus()}},vt=e=>{const t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach(((e,n)=>{let s=e;"object"==typeof s&&(s=vt(s)),t.push([n,s])})):Object.keys(e).forEach((n=>{let s=e[n];"object"==typeof s&&(s=vt(s)),t.push([n,s])})),t},_t=(e,t)=>t&&t.toString()===e.toString(),kt=(e,n)=>{const s=Ce.innerParams.get(e);if(!s.input)return o('The "input" parameter is needed to be set when using returnInputValueOn'.concat(t(n)));const i=((e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return mt(n);case"radio":return gt(n);case"file":return ft(n);default:return t.inputAutoTrim?n.value.trim():n.value}})(e,s);s.inputValidator?Ct(e,i,n):e.getInput().checkValidity()?"deny"===n?xt(e,i):Et(e,i):(e.enableButtons(),e.showValidationMessage(s.validationMessage))},Ct=(e,t,n)=>{const s=Ce.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>c(s.inputValidator(t,s.validationMessage)))).then((s=>{e.enableButtons(),e.enableInput(),s?e.showValidationMessage(s):"deny"===n?xt(e,t):Et(e,t)}))},xt=(e,t)=>{const n=Ce.innerParams.get(e||void 0);n.showLoaderOnDeny&&ht(R()),n.preDeny?(Ce.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>c(n.preDeny(t,n.validationMessage)))).then((n=>{!1===n?e.hideLoading():e.closePopup({isDenied:!0,value:void 0===n?t:n})})).catch((t=>Ot(e||void 0,t)))):e.closePopup({isDenied:!0,value:t})},St=(e,t)=>{e.closePopup({isConfirmed:!0,value:t})},Ot=(e,t)=>{e.rejectPromise(t)},Et=(e,t)=>{const n=Ce.innerParams.get(e||void 0);n.showLoaderOnConfirm&&ht(),n.preConfirm?(e.resetValidationMessage(),Ce.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>c(n.preConfirm(t,n.validationMessage)))).then((n=>{re(I())||!1===n?e.hideLoading():St(e,void 0===n?t:n)})).catch((t=>Ot(e||void 0,t)))):St(e,t)},Lt=(e,t,n)=>{t.popup.onclick=()=>{const t=Ce.innerParams.get(e);t&&(Pt(t)||t.timer||t.input)||n(Ue.close)}},Pt=e=>e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton;let Tt=!1;const At=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(Tt=!0)}}},jt=e=>{e.container.onmousedown=()=>{e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(Tt=!0)}}},It=(e,t,n)=>{t.container.onclick=s=>{const o=Ce.innerParams.get(e);Tt?Tt=!1:s.target===t.container&&a(o.allowOutsideClick)&&n(Ue.backdrop)}},Nt=()=>N()&&N().click(),Rt=(e,t,n)=>{const s=H();if(s.length)return(t+=n)===s.length?t=0:-1===t&&(t=s.length-1),s[t].focus();E().focus()},Dt=["ArrowRight","ArrowDown"],Mt=["ArrowLeft","ArrowUp"],Bt=(e,t,n)=>{const s=Ce.innerParams.get(e);s&&(s.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Ft(e,t,s):"Tab"===t.key?$t(t,s):[...Dt,...Mt].includes(t.key)?Ut(t.key):"Escape"===t.key&&Ht(t,s,n))},Ft=(e,t,n)=>{if(a(n.allowEnterKey)&&!t.isComposing&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;Nt(),t.preventDefault()}},$t=(e,t)=>{const n=e.target,s=H();let o=-1;for(let e=0;e<s.length;e++)if(n===s[e]){o=e;break}e.shiftKey?Rt(0,o,-1):Rt(0,o,1),e.stopPropagation(),e.preventDefault()},Ut=e=>{if(![N(),R(),M()].includes(document.activeElement))return;const t=Dt.includes(e)?"nextElementSibling":"previousElementSibling",n=document.activeElement[t];n instanceof HTMLElement&&n.focus()},Ht=(e,t,n)=>{a(t.allowEscapeKey)&&(e.preventDefault(),n(Ue.esc))},zt=e=>e instanceof Element||(e=>"object"==typeof e&&e.jquery)(e);const qt=()=>{if(de.timeout)return(()=>{const e=$(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.removeProperty("transition"),e.style.width="".concat(n,"%")})(),de.timeout.stop()},Vt=()=>{if(de.timeout){const e=de.timeout.start();return ce(e),e}};let Jt=!1;const Kt={};const Wt=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in Kt){const n=t.getAttribute(e);if(n)return void Kt[e].fire({template:n})}};var Gt=Object.freeze({isValidParameter:g,isUpdatableParameter:f,isDeprecatedParameter:w,argsToParams:e=>{const t={};return"object"!=typeof e[0]||zt(e[0])?["title","html","icon"].forEach(((n,s)=>{const i=e[s];"string"==typeof i||zt(i)?t[n]=i:void 0!==i&&o("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof i))})):Object.assign(t,e[0]),t},isVisible:()=>re(E()),clickConfirm:Nt,clickDeny:()=>R()&&R().click(),clickCancel:()=>M()&&M().click(),getContainer:x,getPopup:E,getTitle:P,getHtmlContainer:T,getImage:A,getIcon:L,getInputLabel:()=>O(k["input-label"]),getCloseButton:U,getActions:B,getConfirmButton:N,getDenyButton:R,getCancelButton:M,getLoader:D,getFooter:F,getTimerProgressBar:$,getFocusableElements:H,getValidationMessage:I,isLoading:()=>E().hasAttribute("data-loading"),fire:function(){const e=this;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return new e(...n)},mixin:function(e){return class extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}},showLoading:ht,enableLoading:ht,getTimerLeft:()=>de.timeout&&de.timeout.getTimerLeft(),stopTimer:qt,resumeTimer:Vt,toggleTimer:()=>{const e=de.timeout;return e&&(e.running?qt():Vt())},increaseTimer:e=>{if(de.timeout){const t=de.timeout.increase(e);return ce(t,!0),t}},isTimerRunning:()=>de.timeout&&de.timeout.isRunning(),bindClickHandler:function(){Kt[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Jt||(document.body.addEventListener("click",Wt),Jt=!0)}});function Yt(){const e=Ce.innerParams.get(this);if(!e)return;const t=Ce.domCache.get(this);se(t.loader),q()?e.icon&&ne(L()):Zt(t),Q([t.popup,t.actions],k.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Zt=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ne(t[0],"inline-block"):!re(N())&&!re(R())&&!re(M())&&se(e.actions)};var Xt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Qt(e,t,n,s){q()?an(e,s):(he(n).then((()=>an(e,s))),de.keydownTarget.removeEventListener("keydown",de.keydownHandler,{capture:de.keydownListenerCapture}),de.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),z()&&(null!==V.previousBodyPadding&&(document.body.style.paddingRight="".concat(V.previousBodyPadding,"px"),V.previousBodyPadding=null),(()=>{if(K(document.body,k.iosfix)){const e=parseInt(document.body.style.top,10);Q(document.body,k.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}})(),He()),Q([document.documentElement,document.body],[k.shown,k["height-auto"],k["no-backdrop"],k["toast-shown"]])}function en(e){e=sn(e);const t=Xt.swalPromiseResolve.get(this),n=tn(this);this.isAwaitingPromise()?e.isDismissed||(nn(this),t(e)):n&&t(e)}const tn=e=>{const t=E();if(!t)return!1;const n=Ce.innerParams.get(e);if(!n||K(t,n.hideClass.popup))return!1;Q(t,n.showClass.popup),X(t,n.hideClass.popup);const s=x();return Q(s,n.showClass.backdrop),X(s,n.hideClass.backdrop),on(e,t,n),!0};const nn=e=>{e.isAwaitingPromise()&&(Ce.awaitingPromise.delete(e),Ce.innerParams.get(e)||e._destroy())},sn=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),on=(e,t,n)=>{const s=x(),o=ye&&le(t);"function"==typeof n.willClose&&n.willClose(t),o?rn(e,t,s,n.returnFocus,n.didClose):Qt(e,s,n.returnFocus,n.didClose)},rn=(e,t,n,s,o)=>{de.swalCloseEventFinishedCallback=Qt.bind(null,e,n,s,o),t.addEventListener(ye,(function(e){e.target===t&&(de.swalCloseEventFinishedCallback(),delete de.swalCloseEventFinishedCallback)}))},an=(e,t)=>{setTimeout((()=>{"function"==typeof t&&t.bind(e.params)(),e._destroy()}))};function ln(e,t,n){const s=Ce.domCache.get(e);t.forEach((e=>{s[e].disabled=n}))}function cn(e,t){if(!e)return!1;if("radio"===e.type){const n=e.parentNode.parentNode.querySelectorAll("input");for(let e=0;e<n.length;e++)n[e].disabled=t}else e.disabled=t}const un=e=>{const t={};return Object.keys(e).forEach((n=>{f(n)?t[n]=e[n]:s('Invalid parameter to update: "'.concat(n,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))})),t};const dn=e=>{hn(e),delete e.params,delete de.keydownHandler,delete de.keydownTarget,delete de.currentInstance},hn=e=>{e.isAwaitingPromise()?(pn(Ce,e),Ce.awaitingPromise.set(e,!0)):(pn(Xt,e),pn(Ce,e))},pn=(e,t)=>{for(const n in e)e[n].delete(t)};var mn=Object.freeze({hideLoading:Yt,disableLoading:Yt,getInput:function(e){const t=Ce.innerParams.get(e||this),n=Ce.domCache.get(e||this);return n?G(n.popup,t.input):null},close:en,isAwaitingPromise:function(){return!!Ce.awaitingPromise.get(this)},rejectPromise:function(e){const t=Xt.swalPromiseReject.get(this);nn(this),t&&t(e)},closePopup:en,closeModal:en,closeToast:en,enableButtons:function(){ln(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){ln(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return cn(this.getInput(),!1)},disableInput:function(){return cn(this.getInput(),!0)},showValidationMessage:function(e){const t=Ce.domCache.get(this),n=Ce.innerParams.get(this);J(t.validationMessage,e),t.validationMessage.className=k["validation-message"],n.customClass&&n.customClass.validationMessage&&X(t.validationMessage,n.customClass.validationMessage),ne(t.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid",!0),s.setAttribute("aria-describedby",k["validation-message"]),Y(s),X(s,k.inputerror))},resetValidationMessage:function(){const e=Ce.domCache.get(this);e.validationMessage&&se(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Q(t,k.inputerror))},getProgressSteps:function(){return Ce.domCache.get(this).progressSteps},update:function(e){const t=E(),n=Ce.innerParams.get(this);if(!t||K(t,n.hideClass.popup))return s("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const o=un(e),i=Object.assign({},n,o);$e(this,i),Ce.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){const e=Ce.domCache.get(this),t=Ce.innerParams.get(this);t?(e.popup&&de.swalCloseEventFinishedCallback&&(de.swalCloseEventFinishedCallback(),delete de.swalCloseEventFinishedCallback),de.deferDisposalTimer&&(clearTimeout(de.deferDisposalTimer),delete de.deferDisposalTimer),"function"==typeof t.didDestroy&&t.didDestroy(),dn(this)):hn(this)}});let gn;class fn{constructor(){if("undefined"==typeof window)return;gn=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:s,writable:!1,enumerable:!0,configurable:!0}});const o=this._main(this.params);Ce.promise.set(this,o)}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(e=>{!e.backdrop&&e.allowOutsideClick&&s('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)b(t),e.toast&&y(t),v(t)})(Object.assign({},t,e)),de.currentInstance&&(de.currentInstance._destroy(),z()&&He()),de.currentInstance=this;const n=bn(e,t);Qe(n),Object.freeze(n),de.timeout&&(de.timeout.stop(),delete de.timeout),clearTimeout(de.restoreFocusTimeout);const o=yn(this);return $e(this,n),Ce.innerParams.set(this,n),wn(this,o,n)}then(e){return Ce.promise.get(this).then(e)}finally(e){return Ce.promise.get(this).finally(e)}}const wn=(e,t,n)=>new Promise(((s,o)=>{const i=t=>{e.closePopup({isDismissed:!0,dismiss:t})};Xt.swalPromiseResolve.set(e,s),Xt.swalPromiseReject.set(e,o),t.confirmButton.onclick=()=>(e=>{const t=Ce.innerParams.get(e);e.disableButtons(),t.input?kt(e,"confirm"):Et(e,!0)})(e),t.denyButton.onclick=()=>(e=>{const t=Ce.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?kt(e,"deny"):xt(e,!1)})(e),t.cancelButton.onclick=()=>((e,t)=>{e.disableButtons(),t(Ue.cancel)})(e,i),t.closeButton.onclick=()=>i(Ue.close),((e,t,n)=>{Ce.innerParams.get(e).toast?Lt(e,t,n):(At(t),jt(t),It(e,t,n))})(e,t,i),((e,t,n,s)=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),n.toast||(t.keydownHandler=t=>Bt(e,t,s),t.keydownTarget=n.keydownListenerCapture?window:E(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)})(e,de,n,i),((e,t)=>{"select"===t.input||"radio"===t.input?wt(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(l(t.inputValue)||u(t.inputValue))&&(ht(N()),bt(e,t))})(e,n),at(n),vn(de,n,i),_n(t,n),setTimeout((()=>{t.container.scrollTop=0}))})),bn=(e,t)=>{const n=(e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Ye(n),Object.assign(qe(n),Ve(n),Je(n),Ke(n),We(n),Ge(n,ze))})(e),s=Object.assign({},d,t,n,e);return s.showClass=Object.assign({},d.showClass,s.showClass),s.hideClass=Object.assign({},d.hideClass,s.hideClass),s},yn=e=>{const t={popup:E(),container:x(),actions:B(),confirmButton:N(),denyButton:R(),cancelButton:M(),loader:D(),closeButton:U(),validationMessage:I(),progressSteps:j()};return Ce.domCache.set(e,t),t},vn=(e,t,n)=>{const s=$();se(s),t.timer&&(e.timeout=new et((()=>{n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ne(s),setTimeout((()=>{e.timeout&&e.timeout.running&&ce(t.timer)}))))},_n=(e,t)=>{if(!t.toast)return a(t.allowEnterKey)?void(kn(e,t)||Rt(0,-1,1)):Cn()},kn=(e,t)=>t.focusDeny&&re(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&re(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!re(e.confirmButton)||(e.confirmButton.focus(),0)),Cn=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(fn.prototype,mn),Object.assign(fn,Gt),Object.keys(mn).forEach((e=>{fn[e]=function(){if(gn)return gn[e](...arguments)}})),fn.DismissReason=Ue,fn.version="11.3.10";const xn=fn;return xn.default=xn,xn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},993:(e,t,n)=>{const s=n(839);e.exports={client:s,Client:s}},681:(e,t,n)=>{const s=n(604),o=n(49);e.exports=function(e,t){let n=void 0!==e.url?e.url:e.uri;if(o.isURL(n)||(n=`https://api.twitch.tv/kraken${"/"===n[0]?n:`/${n}`}`),o.isNode()){const o=Object.assign({method:"GET",json:!0},e);o.qs&&(n+=`?${new URLSearchParams(o.qs)}`);const i={};"fetchAgent"in this.opts.connection&&(i.agent=this.opts.connection.fetchAgent);const r=s(n,{...i,method:o.method,headers:o.headers,body:o.body});let a={};r.then((e=>(a={statusCode:e.status,headers:e.headers},o.json?e.json():e.text()))).then((e=>t(null,a,e)),(e=>t(e,a,null)))}else{const s=Object.assign({method:"GET",headers:{}},e,{url:n}),o=new XMLHttpRequest;o.open(s.method,s.url,!0);for(const e in s.headers)o.setRequestHeader(e,s.headers[e]);o.responseType="json",o.addEventListener("load",(e=>{4===o.readyState&&(200!==o.status?t(o.status,null,null):t(null,null,o.response))})),o.send()}}},839:(e,t,n)=>{const s=void 0!==n.g?n.g:"undefined"!=typeof window?window:{},o=s.WebSocket||n(726),i=s.fetch||n(604),r=n(681),a=n(641),l=n(378).EventEmitter,c=n(352),u=n(549),d=n(776),h=n(49);let p=!1;const m=function e(t){if(this instanceof e==0)return new e(t);this.opts=h.get(t,{}),this.opts.channels=this.opts.channels||[],this.opts.connection=this.opts.connection||{},this.opts.identity=this.opts.identity||{},this.opts.options=this.opts.options||{},this.clientId=h.get(this.opts.options.clientId,null),this._globalDefaultChannel=h.channel(h.get(this.opts.options.globalDefaultChannel,"#tmijs")),this._skipMembership=h.get(this.opts.options.skipMembership,!1),this._skipUpdatingEmotesets=h.get(this.opts.options.skipUpdatingEmotesets,!1),this._updateEmotesetsTimer=null,this._updateEmotesetsTimerDelay=h.get(this.opts.options.updateEmotesetsTimer,6e4),this.maxReconnectAttempts=h.get(this.opts.connection.maxReconnectAttempts,1/0),this.maxReconnectInterval=h.get(this.opts.connection.maxReconnectInterval,3e4),this.reconnect=h.get(this.opts.connection.reconnect,!0),this.reconnectDecay=h.get(this.opts.connection.reconnectDecay,1.5),this.reconnectInterval=h.get(this.opts.connection.reconnectInterval,1e3),this.reconnecting=!1,this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.secure=h.get(this.opts.connection.secure,!this.opts.connection.server&&!this.opts.connection.port),this.emotes="",this.emotesets={},this.channels=[],this.currentLatency=0,this.globaluserstate={},this.lastJoined="",this.latency=new Date,this.moderators={},this.pingLoop=null,this.pingTimeout=null,this.reason="",this.username="",this.userstate={},this.wasCloseCalled=!1,this.ws=null;let n="error";this.opts.options.debug&&(n="info"),this.log=this.opts.logger||c;try{c.setLevel(n)}catch(e){}this.opts.channels.forEach(((e,t,n)=>n[t]=h.channel(e))),l.call(this),this.setMaxListeners(0)};h.inherits(m,l);for(const e in a)m.prototype[e]=a[e];m.prototype.emits=function(e,t){for(let n=0;n<e.length;n++){const s=n<t.length?t[n]:t[t.length-1];this.emit.apply(this,[e[n]].concat(s))}},m.prototype.api=function(...e){p||(this.log.warn("Client.prototype.api is deprecated and will be removed for version 2.0.0"),p=!0),r(...e)},m.prototype.handleMessage=function(e){if(!e)return;this.listenerCount("raw_message")&&this.emit("raw_message",JSON.parse(JSON.stringify(e)),e);const t=h.channel(h.get(e.params[0],null));let n=h.get(e.params[1],null);const s=h.get(e.tags["msg-id"],null),o=e.tags=u.badges(u.badgeInfo(u.emotes(e.tags)));for(const e in o){if("emote-sets"===e||"ban-duration"===e||"bits"===e)continue;let t=o[e];"boolean"==typeof t?t=null:"1"===t?t=!0:"0"===t?t=!1:"string"==typeof t&&(t=h.unescapeIRC(t)),o[e]=t}if(null===e.prefix)switch(e.command){case"PING":this.emit("ping"),this._isConnected()&&this.ws.send("PONG");break;case"PONG":{const e=new Date;this.currentLatency=(e.getTime()-this.latency.getTime())/1e3,this.emits(["pong","_promisePing"],[[this.currentLatency]]),clearTimeout(this.pingTimeout);break}default:this.log.warn(`Could not parse message with no prefix:\n${JSON.stringify(e,null,4)}`)}else if("tmi.twitch.tv"===e.prefix)switch(e.command){case"002":case"003":case"004":case"372":case"375":case"CAP":case"SERVERCHANGE":break;case"001":this.username=e.params[0];break;case"376":{this.log.info("Connected to server."),this.userstate[this._globalDefaultChannel]={},this.emits(["connected","_promiseConnect"],[[this.server,this.port],[null]]),this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.pingLoop=setInterval((()=>{this._isConnected()&&this.ws.send("PING"),this.latency=new Date,this.pingTimeout=setTimeout((()=>{null!==this.ws&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer))}),h.get(this.opts.connection.timeout,9999))}),6e4);let e=h.get(this.opts.options.joinInterval,2e3);e<300&&(e=300);const t=new d(e),n=[...new Set([...this.opts.channels,...this.channels])];this.channels=[];for(let e=0;e<n.length;e++){const s=n[e];t.add((()=>{this._isConnected()&&this.join(s).catch((e=>this.log.error(e)))}))}t.next();break}case"NOTICE":{const o=[null],i=[t,s,n],r=[t,!0],a=[t,!1],l=[i,o],c=[i,[s]],u=`[${t}] ${n}`;switch(s){case"subs_on":this.log.info(`[${t}] This room is now in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribers"],[r,r,o]);break;case"subs_off":this.log.info(`[${t}] This room is no longer in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribersoff"],[a,a,o]);break;case"emote_only_on":this.log.info(`[${t}] This room is now in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonly"],[r,o]);break;case"emote_only_off":this.log.info(`[${t}] This room is no longer in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonlyoff"],[a,o]);break;case"slow_on":case"slow_off":case"followers_on_zero":case"followers_on":case"followers_off":case"host_on":case"host_off":break;case"r9k_on":this.log.info(`[${t}] This room is now in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbeta"],[r,r,o]);break;case"r9k_off":this.log.info(`[${t}] This room is no longer in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbetaoff"],[a,a,o]);break;case"room_mods":{const e=n.split(": "),s=(e.length>1?e[1]:"").toLowerCase().split(", ").filter((e=>e));this.emits(["_promiseMods","mods"],[[null,s],[t,s]]);break}case"no_mods":this.emits(["_promiseMods","mods"],[[null,[]],[t,[]]]);break;case"vips_success":{n.endsWith(".")&&(n=n.slice(0,-1));const e=n.split(": "),s=(e.length>1?e[1]:"").toLowerCase().split(", ").filter((e=>e));this.emits(["_promiseVips","vips"],[[null,s],[t,s]]);break}case"no_vips":this.emits(["_promiseVips","vips"],[[null,[]],[t,[]]]);break;case"already_banned":case"bad_ban_admin":case"bad_ban_anon":case"bad_ban_broadcaster":case"bad_ban_global_mod":case"bad_ban_mod":case"bad_ban_self":case"bad_ban_staff":case"usage_ban":this.log.info(u),this.emits(["notice","_promiseBan"],c);break;case"ban_success":this.log.info(u),this.emits(["notice","_promiseBan"],l);break;case"usage_clear":this.log.info(u),this.emits(["notice","_promiseClear"],c);break;case"usage_mods":this.log.info(u),this.emits(["notice","_promiseMods"],[i,[s,[]]]);break;case"mod_success":this.log.info(u),this.emits(["notice","_promiseMod"],l);break;case"usage_vips":this.log.info(u),this.emits(["notice","_promiseVips"],[i,[s,[]]]);break;case"usage_vip":case"bad_vip_grantee_banned":case"bad_vip_grantee_already_vip":case"bad_vip_max_vips_reached":case"bad_vip_achievement_incomplete":this.log.info(u),this.emits(["notice","_promiseVip"],[i,[s,[]]]);break;case"vip_success":this.log.info(u),this.emits(["notice","_promiseVip"],l);break;case"usage_mod":case"bad_mod_banned":case"bad_mod_mod":this.log.info(u),this.emits(["notice","_promiseMod"],c);break;case"unmod_success":this.log.info(u),this.emits(["notice","_promiseUnmod"],l);break;case"unvip_success":this.log.info(u),this.emits(["notice","_promiseUnvip"],l);break;case"usage_unmod":case"bad_unmod_mod":this.log.info(u),this.emits(["notice","_promiseUnmod"],c);break;case"usage_unvip":case"bad_unvip_grantee_not_vip":this.log.info(u),this.emits(["notice","_promiseUnvip"],c);break;case"color_changed":this.log.info(u),this.emits(["notice","_promiseColor"],l);break;case"usage_color":case"turbo_only_color":this.log.info(u),this.emits(["notice","_promiseColor"],c);break;case"commercial_success":this.log.info(u),this.emits(["notice","_promiseCommercial"],l);break;case"usage_commercial":case"bad_commercial_error":this.log.info(u),this.emits(["notice","_promiseCommercial"],c);break;case"hosts_remaining":{this.log.info(u);const e=isNaN(n[0])?0:parseInt(n[0]);this.emits(["notice","_promiseHost"],[i,[null,~~e]]);break}case"bad_host_hosting":case"bad_host_rate_exceeded":case"bad_host_error":case"usage_host":this.log.info(u),this.emits(["notice","_promiseHost"],[i,[s,null]]);break;case"already_r9k_on":case"usage_r9k_on":this.log.info(u),this.emits(["notice","_promiseR9kbeta"],c);break;case"already_r9k_off":case"usage_r9k_off":this.log.info(u),this.emits(["notice","_promiseR9kbetaoff"],c);break;case"timeout_success":this.log.info(u),this.emits(["notice","_promiseTimeout"],l);break;case"delete_message_success":this.log.info(`[${t} ${n}]`),this.emits(["notice","_promiseDeletemessage"],l);break;case"already_subs_off":case"usage_subs_off":this.log.info(u),this.emits(["notice","_promiseSubscribersoff"],c);break;case"already_subs_on":case"usage_subs_on":this.log.info(u),this.emits(["notice","_promiseSubscribers"],c);break;case"already_emote_only_off":case"usage_emote_only_off":this.log.info(u),this.emits(["notice","_promiseEmoteonlyoff"],c);break;case"already_emote_only_on":case"usage_emote_only_on":this.log.info(u),this.emits(["notice","_promiseEmoteonly"],c);break;case"usage_slow_on":this.log.info(u),this.emits(["notice","_promiseSlow"],c);break;case"usage_slow_off":this.log.info(u),this.emits(["notice","_promiseSlowoff"],c);break;case"usage_timeout":case"bad_timeout_admin":case"bad_timeout_anon":case"bad_timeout_broadcaster":case"bad_timeout_duration":case"bad_timeout_global_mod":case"bad_timeout_mod":case"bad_timeout_self":case"bad_timeout_staff":this.log.info(u),this.emits(["notice","_promiseTimeout"],c);break;case"untimeout_success":case"unban_success":this.log.info(u),this.emits(["notice","_promiseUnban"],l);break;case"usage_unban":case"bad_unban_no_ban":this.log.info(u),this.emits(["notice","_promiseUnban"],c);break;case"usage_delete":case"bad_delete_message_error":case"bad_delete_message_broadcaster":case"bad_delete_message_mod":this.log.info(u),this.emits(["notice","_promiseDeletemessage"],c);break;case"usage_unhost":case"not_hosting":this.log.info(u),this.emits(["notice","_promiseUnhost"],c);break;case"whisper_invalid_login":case"whisper_invalid_self":case"whisper_limit_per_min":case"whisper_limit_per_sec":case"whisper_restricted":case"whisper_restricted_recipient":this.log.info(u),this.emits(["notice","_promiseWhisper"],c);break;case"no_permission":case"msg_banned":case"msg_room_not_found":case"msg_channel_suspended":case"tos_ban":case"invalid_user":this.log.info(u),this.emits(["notice","_promiseBan","_promiseClear","_promiseUnban","_promiseTimeout","_promiseDeletemessage","_promiseMods","_promiseMod","_promiseUnmod","_promiseVips","_promiseVip","_promiseUnvip","_promiseCommercial","_promiseHost","_promiseUnhost","_promiseJoin","_promisePart","_promiseR9kbeta","_promiseR9kbetaoff","_promiseSlow","_promiseSlowoff","_promiseFollowers","_promiseFollowersoff","_promiseSubscribers","_promiseSubscribersoff","_promiseEmoteonly","_promiseEmoteonlyoff","_promiseWhisper"],[i,[s,t]]);break;case"msg_rejected":case"msg_rejected_mandatory":this.log.info(u),this.emit("automod",t,s,n);break;case"unrecognized_cmd":case"cmds_available":case"host_target_went_offline":case"msg_censored_broadcaster":case"msg_duplicate":case"msg_emoteonly":case"msg_verified_email":case"msg_ratelimit":case"msg_subsonly":case"msg_timedout":case"msg_bad_characters":case"msg_channel_blocked":case"msg_facebook":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_slowmode":case"msg_suspended":case"no_help":case"usage_disconnect":case"usage_help":case"usage_me":case"unavailable_command":this.log.info(u),this.emit("notice",t,s,n);break;default:n.includes("Login unsuccessful")||n.includes("Login authentication failed")||n.includes("Error logging in")||n.includes("Improperly formatted auth")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=n,this.log.error(this.reason),this.ws.close()):n.includes("Invalid NICK")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason="Invalid NICK.",this.log.error(this.reason),this.ws.close()):(this.log.warn(`Could not parse NOTICE from tmi.twitch.tv:\n${JSON.stringify(e,null,4)}`),this.emit("notice",t,s,n))}break}case"USERNOTICE":{const e=o["display-name"]||o.login,i=o["msg-param-sub-plan"]||"",r=h.unescapeIRC(h.get(o["msg-param-sub-plan-name"],""))||null,a={prime:i.includes("Prime"),plan:i,planName:r},l=~~(o["msg-param-streak-months"]||0),c=o["msg-param-recipient-display-name"]||o["msg-param-recipient-user-name"],u=~~o["msg-param-mass-gift-count"];switch(o["message-type"]=s,s){case"resub":this.emits(["resub","subanniversary"],[[t,e,l,n,o,a]]);break;case"sub":this.emits(["subscription","sub"],[[t,e,a,n,o]]);break;case"subgift":this.emit("subgift",t,e,l,c,a,o);break;case"anonsubgift":this.emit("anonsubgift",t,l,c,a,o);break;case"submysterygift":this.emit("submysterygift",t,e,u,a,o);break;case"anonsubmysterygift":this.emit("anonsubmysterygift",t,u,a,o);break;case"primepaidupgrade":this.emit("primepaidupgrade",t,e,a,o);break;case"giftpaidupgrade":{const n=o["msg-param-sender-name"]||o["msg-param-sender-login"];this.emit("giftpaidupgrade",t,e,n,o);break}case"anongiftpaidupgrade":this.emit("anongiftpaidupgrade",t,e,o);break;case"raid":{const e=o["msg-param-displayName"]||o["msg-param-login"],n=+o["msg-param-viewerCount"];this.emit("raided",t,e,n,o);break}case"ritual":{const s=o["msg-param-ritual-name"];"new_chatter"===s?this.emit("newchatter",t,e,o,n):this.emit("ritual",s,t,e,o,n);break}default:this.emit("usernotice",s,t,o,n)}break}case"HOSTTARGET":{const e=n.split(" "),s=~~e[1]||0;"-"===e[0]?(this.log.info(`[${t}] Exited host mode.`),this.emits(["unhost","_promiseUnhost"],[[t,s],[null]])):(this.log.info(`[${t}] Now hosting ${e[0]} for ${s} viewer(s).`),this.emit("hosting",t,e[0],s));break}case"CLEARCHAT":if(e.params.length>1){const s=h.get(e.tags["ban-duration"],null);null===s?(this.log.info(`[${t}] ${n} has been banned.`),this.emit("ban",t,n,null,e.tags)):(this.log.info(`[${t}] ${n} has been timed out for ${s} seconds.`),this.emit("timeout",t,n,null,~~s,e.tags))}else this.log.info(`[${t}] Chat was cleared by a moderator.`),this.emits(["clearchat","_promiseClear"],[[t],[null]]);break;case"CLEARMSG":if(e.params.length>1){const e=n,s=o.login;o["message-type"]="messagedeleted",this.log.info(`[${t}] ${s}'s message has been deleted.`),this.emit("messagedeleted",t,s,e,o)}break;case"RECONNECT":this.log.info("Received RECONNECT request from Twitch.."),this.log.info(`Disconnecting and reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.disconnect().catch((e=>this.log.error(e))),setTimeout((()=>this.connect().catch((e=>this.log.error(e)))),this.reconnectTimer);break;case"USERSTATE":e.tags.username=this.username,"mod"===e.tags["user-type"]&&(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].includes(this.username)||this.moderators[t].push(this.username)),h.isJustinfan(this.getUsername())||this.userstate[t]||(this.userstate[t]=o,this.lastJoined=t,this.channels.push(t),this.log.info(`Joined ${t}`),this.emit("join",t,h.username(this.getUsername()),!0)),e.tags["emote-sets"]!==this.emotes&&this._updateEmoteset(e.tags["emote-sets"]),this.userstate[t]=o;break;case"GLOBALUSERSTATE":this.globaluserstate=o,this.emit("globaluserstate",o),void 0!==e.tags["emote-sets"]&&this._updateEmoteset(e.tags["emote-sets"]);break;case"ROOMSTATE":if(h.channel(this.lastJoined)===t&&this.emit("_promiseJoin",null,t),e.tags.channel=t,this.emit("roomstate",t,e.tags),!h.hasOwn(e.tags,"subs-only")){if(h.hasOwn(e.tags,"slow"))if("boolean"!=typeof e.tags.slow||e.tags.slow){const n=[t,!0,~~e.tags.slow];this.log.info(`[${t}] This room is now in slow mode.`),this.emits(["slow","slowmode","_promiseSlow"],[n,n,[null]])}else{const e=[t,!1,0];this.log.info(`[${t}] This room is no longer in slow mode.`),this.emits(["slow","slowmode","_promiseSlowoff"],[e,e,[null]])}if(h.hasOwn(e.tags,"followers-only"))if("-1"===e.tags["followers-only"]){const e=[t,!1,0];this.log.info(`[${t}] This room is no longer in followers-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowersoff"],[e,e,[null]])}else{const n=[t,!0,~~e.tags["followers-only"]];this.log.info(`[${t}] This room is now in follower-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowers"],[n,n,[null]])}}break;default:this.log.warn(`Could not parse message from tmi.twitch.tv:\n${JSON.stringify(e,null,4)}`)}else if("jtv"===e.prefix)"MODE"===e.command?"+o"===n?(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].includes(e.params[2])||this.moderators[t].push(e.params[2]),this.emit("mod",t,e.params[2])):"-o"===n&&(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].filter((t=>t!==e.params[2])),this.emit("unmod",t,e.params[2])):this.log.warn(`Could not parse message from jtv:\n${JSON.stringify(e,null,4)}`);else switch(e.command){case"353":this.emit("names",e.params[2],e.params[3].split(" "));break;case"366":break;case"JOIN":{const n=e.prefix.split("!")[0];h.isJustinfan(this.getUsername())&&this.username===n&&(this.lastJoined=t,this.channels.push(t),this.log.info(`Joined ${t}`),this.emit("join",t,n,!0)),this.username!==n&&this.emit("join",t,n,!1);break}case"PART":{let n=!1;const s=e.prefix.split("!")[0];if(this.username===s){n=!0,this.userstate[t]&&delete this.userstate[t];let e=this.channels.indexOf(t);-1!==e&&this.channels.splice(e,1),e=this.opts.channels.indexOf(t),-1!==e&&this.opts.channels.splice(e,1),this.log.info(`Left ${t}`),this.emit("_promisePart",null)}this.emit("part",t,s,n);break}case"WHISPER":{const t=e.prefix.split("!")[0];this.log.info(`[WHISPER] <${t}>: ${n}`),h.hasOwn(e.tags,"username")||(e.tags.username=t),e.tags["message-type"]="whisper";const s=h.channel(e.tags.username);this.emits(["whisper","message"],[[s,e.tags,n,!1]]);break}case"PRIVMSG":if(e.tags.username=e.prefix.split("!")[0],"jtv"===e.tags.username){const e=h.username(n.split(" ")[0]),s=n.includes("auto");if(n.includes("hosting you for")){const o=h.extractNumber(n);this.emit("hosted",t,e,o,s)}else n.includes("hosting you")&&this.emit("hosted",t,e,0,s)}else{const s=h.get(this.opts.options.messagesLogLevel,"info"),o=h.actionMessage(n);if(e.tags["message-type"]=o?"action":"chat",n=o?o[1]:n,h.hasOwn(e.tags,"bits"))this.emit("cheer",t,e.tags,n);else{if(h.hasOwn(e.tags,"msg-id")){if("highlighted-message"===e.tags["msg-id"]){const s=e.tags["msg-id"];this.emit("redeem",t,e.tags.username,s,e.tags,n)}else if("skip-subs-mode-message"===e.tags["msg-id"]){const s=e.tags["msg-id"];this.emit("redeem",t,e.tags.username,s,e.tags,n)}}else if(h.hasOwn(e.tags,"custom-reward-id")){const s=e.tags["custom-reward-id"];this.emit("redeem",t,e.tags.username,s,e.tags,n)}o?(this.log[s](`[${t}] *<${e.tags.username}>: ${n}`),this.emits(["action","message"],[[t,e.tags,n,!1]])):(this.log[s](`[${t}] <${e.tags.username}>: ${n}`),this.emits(["chat","message"],[[t,e.tags,n,!1]]))}}break;default:this.log.warn(`Could not parse message:\n${JSON.stringify(e,null,4)}`)}},m.prototype.connect=function(){return new Promise(((e,t)=>{this.server=h.get(this.opts.connection.server,"irc-ws.chat.twitch.tv"),this.port=h.get(this.opts.connection.port,80),this.secure&&(this.port=443),443===this.port&&(this.secure=!0),this.reconnectTimer=this.reconnectTimer*this.reconnectDecay,this.reconnectTimer>=this.maxReconnectInterval&&(this.reconnectTimer=this.maxReconnectInterval),this._openConnection(),this.once("_promiseConnect",(n=>{n?t(n):e([this.server,~~this.port])}))}))},m.prototype._openConnection=function(){const e=`${this.secure?"wss":"ws"}://${this.server}:${this.port}/`,t={};"agent"in this.opts.connection&&(t.agent=this.opts.connection.agent),this.ws=new o(e,"irc",t),this.ws.onmessage=this._onMessage.bind(this),this.ws.onerror=this._onError.bind(this),this.ws.onclose=this._onClose.bind(this),this.ws.onopen=this._onOpen.bind(this)},m.prototype._onOpen=function(){this._isConnected()&&(this.log.info(`Connecting to ${this.server} on port ${this.port}..`),this.emit("connecting",this.server,~~this.port),this.username=h.get(this.opts.identity.username,h.justinfan()),this._getToken().then((e=>{const t=h.password(e);this.log.info("Sending authentication to server.."),this.emit("logon");let n="twitch.tv/tags twitch.tv/commands";this._skipMembership||(n+=" twitch.tv/membership"),this.ws.send("CAP REQ :"+n),t?this.ws.send(`PASS ${t}`):h.isJustinfan(this.username)&&this.ws.send("PASS SCHMOOPIIE"),this.ws.send(`NICK ${this.username}`)})).catch((e=>{this.emits(["_promiseConnect","disconnected"],[[e],["Could not get a token."]])})))},m.prototype._getToken=function(){const e=this.opts.identity.password;let t;return"function"==typeof e?(t=e(),t instanceof Promise?t:Promise.resolve(t)):Promise.resolve(e)},m.prototype._onMessage=function(e){e.data.trim().split("\r\n").forEach((e=>{const t=u.msg(e);t&&this.handleMessage(t)}))},m.prototype._onError=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer),this.reason=null===this.ws?"Connection closed.":"Unable to connect.",this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout((()=>{this.reconnecting=!1,this.connect().catch((e=>this.log.error(e)))}),this.reconnectTimer)),this.ws=null},m.prototype._onClose=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer),this.wasCloseCalled?(this.wasCloseCalled=!1,this.reason="Connection closed.",this.log.info(this.reason),this.emits(["_promiseConnect","_promiseDisconnect","disconnected"],[[this.reason],[null],[this.reason]])):(this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Could not connect to server. Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout((()=>{this.reconnecting=!1,this.connect().catch((e=>this.log.error(e)))}),this.reconnectTimer))),this.ws=null},m.prototype._getPromiseDelay=function(){return this.currentLatency<=600?600:this.currentLatency+100},m.prototype._sendCommand=function(e,t,n,s){return new Promise(((o,i)=>{if(!this._isConnected())return i("Not connected to server.");if(null!==e&&"number"!=typeof e||(null===e&&(e=this._getPromiseDelay()),h.promiseDelay(e).then((()=>i("No response from Twitch.")))),null!==t){const e=h.channel(t);this.log.info(`[${e}] Executing command: ${n}`),this.ws.send(`PRIVMSG ${e} :${n}`)}else this.log.info(`Executing command: ${n}`),this.ws.send(n);"function"==typeof s?s(o,i):o()}))},m.prototype._sendMessage=function(e,t,n,s){return new Promise(((o,i)=>{if(!this._isConnected())return i("Not connected to server.");if(h.isJustinfan(this.getUsername()))return i("Cannot send anonymous messages.");const r=h.channel(t);if(this.userstate[r]||(this.userstate[r]={}),n.length>=500){const s=h.splitLine(n,500);n=s[0],setTimeout((()=>{this._sendMessage(e,t,s[1],(()=>{}))}),350)}this.ws.send(`PRIVMSG ${r} :${n}`);const a={};Object.keys(this.emotesets).forEach((e=>this.emotesets[e].forEach((e=>(h.isRegex(e.code)?u.emoteRegex:u.emoteString)(n,e.code,e.id,a)))));const l=Object.assign(this.userstate[r],u.emotes({emotes:u.transformEmotes(a)||null})),c=h.get(this.opts.options.messagesLogLevel,"info"),d=h.actionMessage(n);d?(l["message-type"]="action",this.log[c](`[${r}] *<${this.getUsername()}>: ${d[1]}`),this.emits(["action","message"],[[r,l,d[1],!0]])):(l["message-type"]="chat",this.log[c](`[${r}] <${this.getUsername()}>: ${n}`),this.emits(["chat","message"],[[r,l,n,!0]])),"function"==typeof s?s(o,i):o()}))},m.prototype._updateEmoteset=function(e){let t=void 0!==e;if(t&&(e===this.emotes?t=!1:this.emotes=e),this._skipUpdatingEmotesets)return void(t&&this.emit("emotesets",e,{}));const n=()=>{this._updateEmotesetsTimerDelay>0&&(clearTimeout(this._updateEmotesetsTimer),this._updateEmotesetsTimer=setTimeout((()=>this._updateEmoteset(e)),this._updateEmotesetsTimerDelay))};this._getToken().then((t=>{const n=`https://api.twitch.tv/kraken/chat/emoticon_images?emotesets=${e}`,s={};return"fetchAgent"in this.opts.connection&&(s.agent=this.opts.connection.fetchAgent),i(n,{...s,headers:{Accept:"application/vnd.twitchtv.v5+json",Authorization:`OAuth ${h.token(t)}`,"Client-ID":this.clientId}})})).then((e=>e.json())).then((t=>{this.emotesets=t.emoticon_sets||{},this.emit("emotesets",e,this.emotesets),n()})).catch((()=>n()))},m.prototype.getUsername=function(){return this.username},m.prototype.getOptions=function(){return this.opts},m.prototype.getChannels=function(){return this.channels},m.prototype.isMod=function(e,t){const n=h.channel(e);return this.moderators[n]||(this.moderators[n]=[]),this.moderators[n].includes(h.username(t))},m.prototype.readyState=function(){return null===this.ws?"CLOSED":["CONNECTING","OPEN","CLOSING","CLOSED"][this.ws.readyState]},m.prototype._isConnected=function(){return null!==this.ws&&1===this.ws.readyState},m.prototype.disconnect=function(){return new Promise(((e,t)=>{null!==this.ws&&3!==this.ws.readyState?(this.wasCloseCalled=!0,this.log.info("Disconnecting from server.."),this.ws.close(),this.once("_promiseDisconnect",(()=>e([this.server,~~this.port])))):(this.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing."),t("Cannot disconnect from server. Socket is not opened or connection is already closing."))}))},m.prototype.off=m.prototype.removeListener,e.exports&&(e.exports=m),"undefined"!=typeof window&&(window.tmi={client:m,Client:m})},641:(e,t,n)=>{const s=n(49);function o(e,t){return e=s.channel(e),t=s.get(t,30),this._sendCommand(null,e,`/followers ${t}`,((n,s)=>{this.once("_promiseFollowers",(o=>{o?s(o):n([e,~~t])}))}))}function i(e){return e=s.channel(e),this._sendCommand(null,e,"/followersoff",((t,n)=>{this.once("_promiseFollowersoff",(s=>{s?n(s):t([e])}))}))}function r(e){return e=s.channel(e),this._sendCommand(null,null,`PART ${e}`,((t,n)=>{this.once("_promisePart",(s=>{s?n(s):t([e])}))}))}function a(e){return e=s.channel(e),this._sendCommand(null,e,"/r9kbeta",((t,n)=>{this.once("_promiseR9kbeta",(s=>{s?n(s):t([e])}))}))}function l(e){return e=s.channel(e),this._sendCommand(null,e,"/r9kbetaoff",((t,n)=>{this.once("_promiseR9kbetaoff",(s=>{s?n(s):t([e])}))}))}function c(e,t){return e=s.channel(e),t=s.get(t,300),this._sendCommand(null,e,`/slow ${t}`,((n,s)=>{this.once("_promiseSlow",(o=>{o?s(o):n([e,~~t])}))}))}function u(e){return e=s.channel(e),this._sendCommand(null,e,"/slowoff",((t,n)=>{this.once("_promiseSlowoff",(s=>{s?n(s):t([e])}))}))}e.exports={action(e,t){return e=s.channel(e),t=`ACTION ${t}`,this._sendMessage(this._getPromiseDelay(),e,t,((n,s)=>{n([e,t])}))},ban(e,t,n){return e=s.channel(e),t=s.username(t),n=s.get(n,""),this._sendCommand(null,e,`/ban ${t} ${n}`,((s,o)=>{this.once("_promiseBan",(i=>{i?o(i):s([e,t,n])}))}))},clear(e){return e=s.channel(e),this._sendCommand(null,e,"/clear",((t,n)=>{this.once("_promiseClear",(s=>{s?n(s):t([e])}))}))},color(e,t){return t=s.get(t,e),this._sendCommand(null,"#tmijs",`/color ${t}`,((e,n)=>{this.once("_promiseColor",(s=>{s?n(s):e([t])}))}))},commercial(e,t){return e=s.channel(e),t=s.get(t,30),this._sendCommand(null,e,`/commercial ${t}`,((n,s)=>{this.once("_promiseCommercial",(o=>{o?s(o):n([e,~~t])}))}))},deletemessage(e,t){return e=s.channel(e),this._sendCommand(null,e,`/delete ${t}`,((t,n)=>{this.once("_promiseDeletemessage",(s=>{s?n(s):t([e])}))}))},emoteonly(e){return e=s.channel(e),this._sendCommand(null,e,"/emoteonly",((t,n)=>{this.once("_promiseEmoteonly",(s=>{s?n(s):t([e])}))}))},emoteonlyoff(e){return e=s.channel(e),this._sendCommand(null,e,"/emoteonlyoff",((t,n)=>{this.once("_promiseEmoteonlyoff",(s=>{s?n(s):t([e])}))}))},followersonly:o,followersmode:o,followersonlyoff:i,followersmodeoff:i,host(e,t){return e=s.channel(e),t=s.username(t),this._sendCommand(2e3,e,`/host ${t}`,((n,s)=>{this.once("_promiseHost",((o,i)=>{o?s(o):n([e,t,~~i])}))}))},join(e){return e=s.channel(e),this._sendCommand(void 0,null,`JOIN ${e}`,((t,n)=>{const o="_promiseJoin";let i=!1;const r=(a,l)=>{e===s.channel(l)&&(this.removeListener(o,r),i=!0,a?n(a):t([e]))};this.on(o,r);const a=this._getPromiseDelay();s.promiseDelay(a).then((()=>{i||this.emit(o,"No response from Twitch.",e)}))}))},mod(e,t){return e=s.channel(e),t=s.username(t),this._sendCommand(null,e,`/mod ${t}`,((n,s)=>{this.once("_promiseMod",(o=>{o?s(o):n([e,t])}))}))},mods(e){return e=s.channel(e),this._sendCommand(null,e,"/mods",((t,n)=>{this.once("_promiseMods",((s,o)=>{s?n(s):(o.forEach((t=>{this.moderators[e]||(this.moderators[e]=[]),this.moderators[e].includes(t)||this.moderators[e].push(t)})),t(o))}))}))},part:r,leave:r,ping(){return this._sendCommand(null,null,"PING",((e,t)=>{this.latency=new Date,this.pingTimeout=setTimeout((()=>{null!==this.ws&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))}),s.get(this.opts.connection.timeout,9999)),this.once("_promisePing",(t=>e([parseFloat(t)])))}))},r9kbeta:a,r9kmode:a,r9kbetaoff:l,r9kmodeoff:l,raw(e){return this._sendCommand(null,null,e,((t,n)=>{t([e])}))},say(e,t){return e=s.channel(e),t.startsWith(".")&&!t.startsWith("..")||t.startsWith("/")||t.startsWith("\\")?"me "===t.substr(1,3)?this.action(e,t.substr(4)):this._sendCommand(null,e,t,((n,s)=>{n([e,t])})):this._sendMessage(this._getPromiseDelay(),e,t,((n,s)=>{n([e,t])}))},slow:c,slowmode:c,slowoff:u,slowmodeoff:u,subscribers(e){return e=s.channel(e),this._sendCommand(null,e,"/subscribers",((t,n)=>{this.once("_promiseSubscribers",(s=>{s?n(s):t([e])}))}))},subscribersoff(e){return e=s.channel(e),this._sendCommand(null,e,"/subscribersoff",((t,n)=>{this.once("_promiseSubscribersoff",(s=>{s?n(s):t([e])}))}))},timeout(e,t,n,o){return e=s.channel(e),t=s.username(t),null===n||s.isInteger(n)||(o=n,n=300),n=s.get(n,300),o=s.get(o,""),this._sendCommand(null,e,`/timeout ${t} ${n} ${o}`,((s,i)=>{this.once("_promiseTimeout",(r=>{r?i(r):s([e,t,~~n,o])}))}))},unban(e,t){return e=s.channel(e),t=s.username(t),this._sendCommand(null,e,`/unban ${t}`,((n,s)=>{this.once("_promiseUnban",(o=>{o?s(o):n([e,t])}))}))},unhost(e){return e=s.channel(e),this._sendCommand(2e3,e,"/unhost",((t,n)=>{this.once("_promiseUnhost",(s=>{s?n(s):t([e])}))}))},unmod(e,t){return e=s.channel(e),t=s.username(t),this._sendCommand(null,e,`/unmod ${t}`,((n,s)=>{this.once("_promiseUnmod",(o=>{o?s(o):n([e,t])}))}))},unvip(e,t){return e=s.channel(e),t=s.username(t),this._sendCommand(null,e,`/unvip ${t}`,((n,s)=>{this.once("_promiseUnvip",(o=>{o?s(o):n([e,t])}))}))},vip(e,t){return e=s.channel(e),t=s.username(t),this._sendCommand(null,e,`/vip ${t}`,((n,s)=>{this.once("_promiseVip",(o=>{o?s(o):n([e,t])}))}))},vips(e){return e=s.channel(e),this._sendCommand(null,e,"/vips",((e,t)=>{this.once("_promiseVips",((n,s)=>{n?t(n):e(s)}))}))},whisper(e,t){return(e=s.username(e))===this.getUsername()?Promise.reject("Cannot send a whisper to the same account."):this._sendCommand(null,"#tmijs",`/w ${e} ${t}`,((e,t)=>{this.once("_promiseWhisper",(e=>{e&&t(e)}))})).catch((n=>{if(n&&"string"==typeof n&&0!==n.indexOf("No response from Twitch."))throw n;const o=s.channel(e),i=Object.assign({"message-type":"whisper","message-id":null,"thread-id":null,username:this.getUsername()},this.globaluserstate);return this.emits(["whisper","message"],[[o,i,t,!0],[o,i,t,!0]]),[e,t]}))}}},378:e=>{function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function s(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,i,r,a,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(o(i=this._events[e]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(s(i))for(a=Array.prototype.slice.call(arguments,1),r=(c=i.slice()).length,l=0;l<r;l++)c[l].apply(this,a);return!0},t.prototype.addListener=function(e,i){var r;if(!n(i))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(i.listener)?i.listener:i),this._events[e]?s(this._events[e])?this._events[e].push(i):this._events[e]=[this._events[e],i]:this._events[e]=i,s(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var s=!1;if(this._events.hasOwnProperty(e)&&"_"===e.charAt(0)){var o=1,i=e;for(var r in this._events)this._events.hasOwnProperty(r)&&r.startsWith(i)&&o++;e+=o}function a(){"_"!==e.charAt(0)||isNaN(e.substr(e.length-1))||(e=e.substring(0,e.length-1)),this.removeListener(e,a),s||(s=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},t.prototype.removeListener=function(e,t){var o,i,r,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(o=this._events[e]).length,i=-1,o===t||n(o.listener)&&o.listener===t){if(delete this._events[e],this._events.hasOwnProperty(e+"2")&&"_"===e.charAt(0)){var l=e;for(var c in this._events)this._events.hasOwnProperty(c)&&c.startsWith(l)&&(isNaN(parseInt(c.substr(c.length-1)))||(this._events[e+parseInt(c.substr(c.length-1)-1)]=this._events[c],delete this._events[c]));this._events[e]=this._events[e+"1"],delete this._events[e+"1"]}this._events.removeListener&&this.emit("removeListener",e,t)}else if(s(o)){for(a=r;a-- >0;)if(o[a]===t||o[a].listener&&o[a].listener===t){i=a;break}if(i<0)return this;1===o.length?(o.length=0,delete this._events[e]):o.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,s;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(s=this._events[e]))this.removeListener(e,s);else if(s)for(;s.length;)this.removeListener(e,s[s.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},352:(e,t,n)=>{const s=n(49);let o="info";const i={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};function r(e){return function(t){i[e]>=i[o]&&console.log(`[${s.formatDate(new Date)}] ${e}: ${t}`)}}e.exports={setLevel(e){o=e},trace:r("trace"),debug:r("debug"),info:r("info"),warn:r("warn"),error:r("error"),fatal:r("fatal")}},549:(e,t,n)=>{const s=n(49),o=/\S+/g;function i(e,t,n=",",s="/",o){const i=e[t];if(void 0===i)return e;const r="string"==typeof i;if(e[t+"-raw"]=r?i:null,!0===i)return e[t]=null,e;if(e[t]={},r){const r=i.split(n);for(let n=0;n<r.length;n++){const i=r[n].split(s);let a=i[1];void 0!==o&&a&&(a=a.split(o)),e[t][i[0]]=a||null}}return e}e.exports={badges:e=>i(e,"badges"),badgeInfo:e=>i(e,"badge-info"),emotes:e=>i(e,"emotes","/",":",","),emoteRegex(e,t,n,i){o.lastIndex=0;const r=new RegExp("(\\b|^|\\s)"+s.unescapeHtml(t)+"(\\b|$|\\s)");let a;for(;null!==(a=o.exec(e));)r.test(a[0])&&(i[n]=i[n]||[],i[n].push([a.index,o.lastIndex-1]))},emoteString(e,t,n,i){let r;for(o.lastIndex=0;null!==(r=o.exec(e));)r[0]===s.unescapeHtml(t)&&(i[n]=i[n]||[],i[n].push([r.index,o.lastIndex-1]))},transformEmotes(e){let t="";return Object.keys(e).forEach((n=>{t=`${t+n}:`,e[n].forEach((e=>t=`${t+e.join("-")},`)),t=`${t.slice(0,-1)}/`})),t.slice(0,-1)},formTags(e){const t=[];for(const n in e){const o=s.escapeIRC(e[n]);t.push(`${n}=${o}`)}return`@${t.join(";")}`},msg(e){const t={raw:e,tags:{},prefix:null,command:null,params:[]};let n=0,s=0;if(64===e.charCodeAt(0)){if(s=e.indexOf(" "),-1===s)return null;const o=e.slice(1,s).split(";");for(let e=0;e<o.length;e++){const n=o[e],s=n.split("=");t.tags[s[0]]=n.substring(n.indexOf("=")+1)||!0}n=s+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(s=e.indexOf(" ",n),-1===s)return null;for(t.prefix=e.slice(n+1,s),n=s+1;32===e.charCodeAt(n);)n++}if(s=e.indexOf(" ",n),-1===s)return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,s),n=s+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(s=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===s){if(-1===s){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,s)),n=s+1;32===e.charCodeAt(n);)n++}return t}}},776:e=>{e.exports=class{constructor(e){this.queue=[],this.index=0,this.defaultDelay=void 0===e?3e3:e}add(e,t){this.queue.push({fn:e,delay:t})}next(){const e=this.index++,t=this.queue[e];if(!t)return;const n=this.queue[this.index];if(t.fn(),n){const e=void 0===n.delay?this.defaultDelay:n.delay;setTimeout((()=>this.next()),e)}}}},49:e=>{const t=/^\u0001ACTION ([^\u0001]+)\u0001$/,n=/^(justinfan)(\d+$)/,s=/\\([sn:r\\])/g,o=/([ \n;\r\\])/g,i={s:" ",n:"",":":";",r:""},r={" ":"s","\n":"n",";":":","\r":"r"},a=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),l=/[|\\^$*+?:#]/,c=e.exports={get:(e,t)=>void 0===e?t:e,hasOwn:(e,t)=>({}.hasOwnProperty.call(e,t)),promiseDelay:e=>new Promise((t=>setTimeout(t,e))),isFinite:e=>isFinite(e)&&!isNaN(parseFloat(e)),toNumber(e,t){if(null===e)return 0;const n=Math.pow(10,c.isFinite(t)?t:0);return Math.round(e*n)/n},isInteger:e=>!isNaN(c.toNumber(e,0)),isRegex:e=>l.test(e),isURL:e=>a.test(e),justinfan:()=>`justinfan${Math.floor(8e4*Math.random()+1e3)}`,isJustinfan:e=>n.test(e),channel(e){const t=(e||"").toLowerCase();return"#"===t[0]?t:"#"+t},username(e){const t=(e||"").toLowerCase();return"#"===t[0]?t.slice(1):t},token:e=>e?e.toLowerCase().replace("oauth:",""):"",password(e){const t=c.token(e);return t?`oauth:${t}`:""},actionMessage:e=>e.match(t),replaceAll(e,t){if(null==e)return null;for(const n in t)e=e.replace(new RegExp(n,"g"),t[n]);return e},unescapeHtml:e=>e.replace(/\\&amp\\;/g,"&").replace(/\\&lt\\;/g,"<").replace(/\\&gt\\;/g,">").replace(/\\&quot\\;/g,'"').replace(/\\&#039\\;/g,"'"),unescapeIRC:e=>e&&"string"==typeof e&&e.includes("\\")?e.replace(s,((e,t)=>t in i?i[t]:t)):e,escapeIRC:e=>e&&"string"==typeof e?e.replace(o,((e,t)=>t in r?`\\${r[t]}`:t)):e,addWord:(e,t)=>e.length?e+" "+t:e+t,splitLine(e,t){let n=e.substring(0,t).lastIndexOf(" ");return-1===n&&(n=t-1),[e.substring(0,n),e.substring(n+1)]},extractNumber(e){const t=e.split(" ");for(let e=0;e<t.length;e++)if(c.isInteger(t[e]))return~~t[e];return 0},formatDate(e){let t=e.getHours(),n=e.getMinutes();return t=(t<10?"0":"")+t,n=(n<10?"0":"")+n,`${t}:${n}`},inherits(e,t){e.super_=t;const n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},isNode(){try{return"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)}catch(e){}return!1}}},421:(e,t,n)=>{"use strict";var s=n(455),o=n.n(s);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function h(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},y=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.init(t,n)}return l(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||b,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,s){return s&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,w(w({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}()),v=function(){function e(){r(this,e),this.observers={}}return l(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(this.observers[e]){var o=[].concat(this.observers[e]);o.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var i=[].concat(this.observers["*"]);i.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function _(){var e,t,n=new Promise((function(n,s){e=n,t=s}));return n.resolve=e,n.reject=t,n}function k(e){return null==e?"":""+e}function C(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function x(e,t,n){function s(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(o())return{};var r=s(i.shift());!e[r]&&n&&(e[r]=new n),e=Object.prototype.hasOwnProperty.call(e,r)?e[r]:{}}return o()?{}:{obj:e,k:s(i.shift())}}function S(e,t,n){var s=x(e,t,Object);s.obj[s.k]=n}function O(e,t){var n=x(e,t),s=n.obj,o=n.k;if(s)return s[o]}function E(e,t,n){var s=O(e,n);return void 0!==s?s:O(t,n)}function L(e,t,n){for(var s in t)"__proto__"!==s&&"constructor"!==s&&(s in e?"string"==typeof e[s]||e[s]instanceof String||"string"==typeof t[s]||t[s]instanceof String?n&&(e[s]=t[s]):L(e[s],t[s],n):e[s]=t[s]);return e}function P(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function A(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return T[e]})):e}var j="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,I=[" ",",","?","!",";"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var s=t.split(n),o=e,i=0;i<s.length;++i){if(!o)return;if("string"==typeof o[s[i]]&&i+1<s.length)return;if(void 0===o[s[i]]){for(var r=2,a=s.slice(i,i+r).join(n),l=o[a];void 0===l&&s.length>i+r;)r++,l=o[a=s.slice(i,i+r).join(n)];if(void 0===l)return;if(t.endsWith(a)){if("string"==typeof l)return l;if(a&&"string"==typeof l[a])return l[a]}var c=s.slice(i+r).join(n);return c?D(l,c,n):void 0}o=o[s[i]]}return o}}var M=function(e){d(o,e);var t,n,s=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return h(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return r(this,o),t=s.call(this),j&&v.call(c(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return l(o,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,i=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure,r=[e,t];n&&"string"!=typeof n&&(r=r.concat(n)),n&&"string"==typeof n&&(r=r.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=e.split("."));var a=O(this.data,r);return a||!i||"string"!=typeof n?a:D(this.data&&this.data[e]&&this.data[e][t],n,o)}},{key:"addResource",value:function(e,t,n,s){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var r=[e,t];n&&(r=r.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(s=t,t=(r=e.split("."))[1]),this.addNamespaces(t),S(this.data,r,s),o.silent||this.emit("added",e,t,n,s)}},{key:"addResources",value:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});s.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,s,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},r=[e,t];e.indexOf(".")>-1&&(s=n,n=t,t=(r=e.split("."))[1]),this.addNamespaces(t);var a=O(this.data,r)||{};s?L(a,n,o):a=R(R({},a),n),S(this.data,r,a),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?R(R({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),o}(v),B={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,s,o){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,s,o))})),t}};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={},H=function(e){d(o,e);var t,n,s=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return h(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,o),t=s.call(this),j&&v.call(c(t)),C(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,c(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=y.create("translator"),t}return l(o,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],i=n&&e.indexOf(n)>-1,r=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var s=I.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===s.length)return!0;var o=new RegExp("(".concat(s.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),i=!o.test(e);if(!i){var r=e.indexOf(n);r>0&&!o.test(e.substring(0,r))&&(i=!0)}return i}(e,n,s));if(i&&!r){var a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:e,namespaces:o};var l=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(l[0])>-1)&&(o=l.shift()),e=l.join(s)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(e,t,n){var s=this;if("object"!==i(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],t),l=a.key,c=a.namespaces,u=c[c.length-1],d=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(h){var p=t.nsSeparator||this.options.nsSeparator;return u+p+l}return l}var m=this.resolve(e,t),g=m&&m.res,f=m&&m.usedKey||l,w=m&&m.exactUsedKey||l,b=Object.prototype.toString.apply(g),y=["[object Number]","[object Function]","[object RegExp]"],v=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(_&&g&&k&&y.indexOf(b)<0&&("string"!=typeof v||"[object Array]"!==b)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,g,$($({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");if(r){var C="[object Array]"===b,x=C?[]:{},S=C?w:f;for(var O in g)if(Object.prototype.hasOwnProperty.call(g,O)){var E="".concat(S).concat(r).concat(O);x[O]=this.translate(E,$($({},t),{joinArrays:!1,ns:c})),x[O]===E&&(x[O]=g[O])}g=x}}else if(_&&"string"==typeof v&&"[object Array]"===b)(g=g.join(v))&&(g=this.extendTranslation(g,e,t,n));else{var L=!1,P=!1,T=void 0!==t.count&&"string"!=typeof t.count,A=o.hasDefaultValue(t),j=T?this.pluralResolver.getSuffix(d,t.count,t):"",I=t["defaultValue".concat(j)]||t.defaultValue;!this.isValidLookup(g)&&A&&(L=!0,g=I),this.isValidLookup(g)||(P=!0,g=l);var N=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,R=N&&P?void 0:g,D=A&&I!==g&&this.options.updateMissing;if(P||L||D){if(this.logger.log(D?"updateKey":"missingKey",d,u,l,D?I:g),r){var M=this.resolve(l,$($({},t),{},{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var B=[],F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&F&&F[0])for(var U=0;U<F.length;U++)B.push(F[U]);else"all"===this.options.saveMissingTo?B=this.languageUtils.toResolveHierarchy(t.lng||this.language):B.push(t.lng||this.language);var H=function(e,n,o){var i=A&&o!==g?o:R;s.options.missingKeyHandler?s.options.missingKeyHandler(e,u,n,i,D,t):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(e,u,n,i,D,t),s.emit("missingKey",e,u,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?B.forEach((function(e){s.pluralResolver.getSuffixes(e).forEach((function(n){H([e],l+n,t["defaultValue".concat(n)]||I)}))})):H(B,l,I))}g=this.extendTranslation(g,e,t,m,n),P&&g===l&&this.options.appendNamespaceToMissingKey&&(g="".concat(u,":").concat(l)),(P||L)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(l,L?g:void 0):this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function(e,t,n,s,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init($($({},n),{interpolation:$($({},this.options.interpolation),n.interpolation)}));var r,a="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(a){var l=e.match(this.interpolator.nestingRegexp);r=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=$($({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),a){var u=e.match(this.interpolator.nestingRegexp);r<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o&&o[0]===s[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(s[0]," in key: ").concat(t[0])),null):i.translate.apply(i,s.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,h="string"==typeof d?[d]:d;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=B.handle(h,e,t,this.options&&this.options.postProcessPassResolved?$({i18nResolved:s},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,s,o,i,r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!r.isValidLookup(t)){var l=r.extractFromKey(e,a),c=l.key;n=c;var u=l.namespaces;r.options.fallbackNS&&(u=u.concat(r.options.fallbackNS));var d=void 0!==a.count&&"string"!=typeof a.count,h=d&&!a.ordinal&&0===a.count&&r.pluralResolver.shouldUseIntlApi(),p=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,m=a.lngs?a.lngs:r.languageUtils.toResolveHierarchy(a.lng||r.language,a.fallbackLng);u.forEach((function(e){r.isValidLookup(t)||(i=e,!U["".concat(m[0],"-").concat(e)]&&r.utils&&r.utils.hasLoadedNamespace&&!r.utils.hasLoadedNamespace(i)&&(U["".concat(m[0],"-").concat(e)]=!0,r.logger.warn('key "'.concat(n,'" for languages "').concat(m.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach((function(n){if(!r.isValidLookup(t)){o=n;var i,l=[c];if(r.i18nFormat&&r.i18nFormat.addLookupKeys)r.i18nFormat.addLookupKeys(l,c,n,e,a);else{var u;d&&(u=r.pluralResolver.getSuffix(n,a.count,a));var m="_zero";if(d&&(l.push(c+u),h&&l.push(c+m)),p){var g="".concat(c).concat(r.options.contextSeparator).concat(a.context);l.push(g),d&&(l.push(g+u),h&&l.push(g+m))}}for(;i=l.pop();)r.isValidLookup(t)||(s=i,t=r.getResource(n,e,i,a))}})))}))}})),{res:t,usedKey:n,exactUsedKey:s,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,s):this.resourceStore.getResource(e,t,n,s)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),o}(v);function z(e){return e.charAt(0).toUpperCase()+e.slice(1)}var q=function(){function e(t){r(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=y.create("languageUtils")}return l(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=z(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=z(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=z(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var s=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(s)||(t=s)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var s=n.getLanguagePartFromCode(e);if(n.isSupportedCode(s))return t=s;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(s))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,s=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],i=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),s.forEach((function(e){o.indexOf(e)<0&&i(n.formatLanguageCode(e))})),o}}]),e}(),V=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],J={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},K=["v1","v2","v3"],W={zero:0,one:1,two:2,few:3,many:4,other:5};function G(){var e={};return V.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:J[t.fc]}}))})),e}var Y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.languageUtils=t,this.options=n,this.logger=y.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=G()}return l(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getRule(e,n);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((function(e,t){return W[e]-W[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):s.numbers.map((function(s){return t.getSuffix(e,s,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=this.getRule(e,n);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(t)):this.getSuffixRetroCompatible(s,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,s=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),o=e.numbers[s];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!K.includes(this.options.compatibilityJSON)}}]),e}();function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.logger=y.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return l(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:A,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?P(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?P(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?P(t.nestingPrefix):t.nestingPrefixEscaped||P("$t("),this.nestingSuffix=t.nestingSuffix?P(t.nestingSuffix):t.nestingSuffixEscaped||P(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,s){var o,i,r,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(a.formatSeparator)<0){var o=E(t,l,e);return a.alwaysFormat?a.format(o,void 0,n,X(X(X({},s),t),{},{interpolationkey:e})):o}var i=e.split(a.formatSeparator),r=i.shift().trim(),c=i.join(a.formatSeparator).trim();return a.format(E(t,l,r),c,n,X(X(X({},s),t),{},{interpolationkey:r}))};this.resetRegExp();var d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&void 0!==s.interpolation.skipOnVariables?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?c(a.escape(e)):c(e)}}].forEach((function(t){for(r=0;o=t.regex.exec(e);){var n=o[1].trim();if(void 0===(i=u(n)))if("function"==typeof d){var l=d(e,o,s);i="string"==typeof l?l:""}else if(s&&s.hasOwnProperty(n))i="";else{if(h){i=o[0];continue}a.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"==typeof i||a.useRawValueToEscape||(i=k(i));var c=t.safeValue(i);if(e=e.replace(o[0],c),h?(t.regex.lastIndex+=c.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,++r>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,s,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=X({},i);function a(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var s=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(s[1]);e=s[0],o=(o=this.interpolate(o,r)).replace(/'/g,'"');try{r=JSON.parse(o),t&&(r=X(X({},t),r))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(o)}return delete r.defaultValue,e}for(r.applyPostProcessor=!1,delete r.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((s=t(a.call(this,n[1].trim(),r),r))&&n[0]===e&&"string"!=typeof s)return s;"string"!=typeof s&&(s=k(s)),s||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),s=""),c&&(s=l.reduce((function(e,t){return o.format(e,t,i.lng,X(X({},i),{},{interpolationkey:n[1].trim()}))}),s.trim())),e=e.replace(n[0],s),this.regexp.lastIndex=0}return e}}]),e}();function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.logger=y.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,te(te({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,te({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,te({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,te({},n)).format(e)}},this.init(t)}return l(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,s){var o=this;return t.split(this.formatSeparator).reduce((function(e,t){var i=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var s=e.split("(");t=s[0].toLowerCase().trim();var o=s[1].substring(0,s[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((function(e){if(e){var t=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":")),s=t[0],o=t.slice(1).join(":");"false"===o.trim()&&(n[s.trim()]=!1),"true"===o.trim()&&(n[s.trim()]=!0),isNaN(o.trim())||(n[s.trim()]=parseInt(o.trim(),10)),n[s.trim()]||(n[s.trim()]=o.trim())}}))}return{formatName:t,formatOptions:n}}(t),r=i.formatName,a=i.formatOptions;if(o.formats[r]){var l=e;try{var c=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},u=c.locale||c.lng||s.locale||s.lng||n;l=o.formats[r](e,u,te(te(te({},a),s),c))}catch(e){o.logger.warn(e)}return l}return o.logger.warn("there was no format function for ".concat(r)),e}),e)}}]),e}();function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(e){d(o,e);var t,n,s=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return h(this,e)});function o(e,t,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r(this,o),i=s.call(this),j&&v.call(c(i)),i.backend=e,i.store=t,i.services=n,i.languageUtils=n.languageUtils,i.options=a,i.logger=y.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(n,a.backend,a),i}return l(o,[{key:"queueLoad",value:function(e,t,n,s){var o=this,i=[],r=[],a=[],l=[];return e.forEach((function(e){var s=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[a]=2:o.state[a]<0||(1===o.state[a]?r.indexOf(a)<0&&r.push(a):(o.state[a]=1,s=!1,r.indexOf(a)<0&&r.push(a),i.indexOf(a)<0&&i.push(a),l.indexOf(t)<0&&l.push(t)))})),s||a.push(e)})),(i.length||r.length)&&this.queue.push({pending:r,loaded:{},errors:[],callback:s}),{toLoad:i,pending:r,toLoadLanguages:a,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var s=e.split("|"),o=s[0],i=s[1];t&&this.emit("failedLoading",o,i,t),n&&this.store.addResourceBundle(o,i,n),this.state[e]=t?-1:2;var r={};this.queue.forEach((function(n){!function(e,t,n,s){var o=x(e,t,Object),i=o.obj,r=o.k;i[r]=i[r]||[],i[r].push(n)}(n.loaded,[o],i),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){r[e]||(r[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){r[e].indexOf(t)<0&&r[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",r),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var s=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,r=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(a,l){a&&l&&o<5?setTimeout((function(){s.read.call(s,e,t,n,o+1,2*i,r)}),i):r(a,l)})):r(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,s,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=e.split("|"),o=s[0],i=s[1];this.read(o,i,"read",void 0,void 0,(function(s,r){s&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),s),!s&&r&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),r),t.loaded(e,s,r)}))}},{key:"saveMissing",value:function(e,t,n,s,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,s,null,oe(oe({},i),{},{isUpdate:o})),e&&e[0]&&this.store.addResource(e[0],t,n,s))}}]),o}(v);function re(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===i(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===i(e[2])||"object"===i(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,s){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ae(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(){}function de(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var he=function(e){d(o,e);var t,n,s=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return h(this,e)});function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(r(this,o),e=s.call(this),j&&v.call(c(e)),e.options=ae(t),e.services={},e.logger=y,e.modules={external:[]},de(c(e)),n&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,n),h(e,c(e));setTimeout((function(){e.init(t,n)}),0)}return e}return l(o,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var s=re();function o(e){return e?"function"==typeof e?new e:e:null}if(this.options=ce(ce(ce({},s),this.options),ae(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ce(ce({},s.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var i;this.modules.logger?y.init(o(this.modules.logger),this.options):y.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=ne);var r=new q(this.options);this.store=new M(this.options.resources,this.options);var a=this.services;a.logger=y,a.resourceStore=this.store,a.languageUtils=r,a.pluralResolver=new Y(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format||(a.formatter=o(i),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new Q(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new ie(o(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];e.emit.apply(e,[t].concat(s))})),this.modules.languageDetector&&(a.languageDetector=o(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=o(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new H(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];e.emit.apply(e,[t].concat(s))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=ue),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var d=_(),h=function(){var t=function(t,s){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),d.resolve(s),n(t,s)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),d}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue,s=n,o="string"==typeof e?e:this.language;if("function"==typeof e&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&"cimode"===o.toLowerCase())return s();var i=[],r=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};if(o)r(o);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(e){return r(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return r(e)})),this.services.backendConnector.load(i,this.options.ns,s)}else s(null)}},{key:"reloadResources",value:function(e,t,n){var s=_();return e||(e=this.languages),t||(t=this.options.ns),n||(n=ue),this.services.backendConnector.reload(e,t,(function(e){s.resolve(),n(e)})),s}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&B.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var s=_();this.emit("languageChanging",e);var o=function(e){if(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<n.languages.length;t++){var s=n.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&n.store.hasLanguageSomeTranslations(s)){n.resolvedLanguage=s;break}}},i=function(i){e||i||!n.services.languageDetector||(i=[]);var r="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);r&&(n.language||o(r),n.translator.language||n.translator.changeLanguage(r),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(r)),n.loadResources(r,(function(e){!function(e,i){i?(o(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,s.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),s}},{key:"getFixedT",value:function(e,t,n){var s=this,o=function e(t,o){var r;if("object"!==i(o)){for(var a=arguments.length,l=new Array(a>2?a-2:0),c=2;c<a;c++)l[c-2]=arguments[c];r=s.options.overloadTranslationOptionHandler([t,o].concat(l))}else r=ce({},o);r.lng=r.lng||e.lng,r.lngs=r.lngs||e.lngs,r.ns=r.ns||e.ns;var u=s.options.keySeparator||".",d=n?"".concat(n).concat(u).concat(t):t;return s.t(d,r)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===s.toLowerCase())return!0;var r=function(e,n){var s=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===s||2===s};if(n.precheck){var a=n.precheck(this,r);if(void 0!==a)return a}return!!this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||!(!r(s,e)||o&&!r(i,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,s=_();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){s.resolve(),t&&t(e)})),s):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=_();"string"==typeof e&&(e=[e]);var s=this.options.preload||[],o=e.filter((function(e){return s.indexOf(e)<0}));return o.length?(this.options.preload=s.concat(o),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue,s=ce(ce(ce({},this.options),t),{isClone:!0}),i=new o(s),r=["store","services","language"];return r.forEach((function(t){i[t]=e[t]})),i.services=ce({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new H(i.services,i.options),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];i.emit.apply(i,[e].concat(n))})),i.init(s,n),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),o}(v);m(he,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new he(e,t)}));var pe=he.createInstance();pe.createInstance=he.createInstance,pe.createInstance,pe.init,pe.loadResources,pe.reloadResources,pe.use,pe.changeLanguage,pe.getFixedT,pe.t,pe.exists,pe.setDefaultNamespace,pe.hasLoadedNamespace,pe.loadNamespaces,pe.loadLanguages;const me=pe;var ge=[],fe=ge.forEach,we=ge.slice;function be(e){return fe.call(we.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var ye=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ve=function(e,t,n){var s=n||{};s.path=s.path||"/";var o=e+"="+encodeURIComponent(t);if(s.maxAge>0){var i=s.maxAge-0;if(isNaN(i))throw new Error("maxAge should be a Number");o+="; Max-Age="+Math.floor(i)}if(s.domain){if(!ye.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain="+s.domain}if(s.path){if(!ye.test(s.path))throw new TypeError("option path is invalid");o+="; Path="+s.path}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},_e={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t=e+"=",n=document.cookie.split(";"),s=0;s<n.length;s++){for(var o=n[s];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,s){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+60*n*1e3)),s&&(o.domain=s),document.cookie=ve(e,encodeURIComponent(t),o)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},ke={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),s=0;s<n.length;s++){var o=n[s].indexOf("=");o>0&&n[s].substring(0,o)===e.lookupQuerystring&&(t=n[s].substring(o+1))}return t}},Ce=null,xe=function(){if(null!==Ce)return Ce;try{Ce="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Ce=!1}return Ce},Se={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&xe()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&xe()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Oe=null,Ee=function(){if(null!==Oe)return Oe;try{Oe="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Oe=!1}return Oe},Le={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&Ee()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&Ee()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},Pe={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Te={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},Ae={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},je={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}},Ie=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return l(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=be(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(_e),this.addDetector(ke),this.addDetector(Se),this.addDetector(Le),this.addDetector(Pe),this.addDetector(Te),this.addDetector(Ae),this.addDetector(je)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var s=t.detectors[e].lookup(t.options);s&&"string"==typeof s&&(s=[s]),s&&(n=n.concat(s))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();Ie.type="languageDetector";const Ne={page:JSON.parse('{"logout":"Logout","darkmode":"Dark Theme","lightmode":"Light Theme","reqFailed":"Request failed.","noChannel":"No connected chatroom","reqDelay":"Retry after {{time}} seconds.","serverError":"Server error","unknownErrorOccured":"An unknown error has occurred.","authFailed":"Authentication failed. Please refresh and try again.","channelIdInputPh":"Channel ID","connect":"Connect","recentConnection":"Recent connections","onlineFollowed":"Online (Followed)","getMore":"Get more","refresh":"Refresh","loginTwitch":"Login with Twitch","setting":"Setting","filterSetting":"Filter setting","reverseChatOrder":"Reverse Chat Position","chatFontSize":"Chat Font Size","fontSmall":"Small","fontDefault":"Default","fontBig":"Big","fontBigger":"Bigger","chat":"Chat","add":"Add","search":"Search","tokenRefreshed":"Session has been renewed. Please try again.","reqFailedMessage":"The request failed. Please try again.","contactDeveloper":"Contact Developer","advertise":"Get the web version of Twitch Badge Collector!","advertiseChat":"Get the web version of Twitch Badge Collector! https://wtbc.bluewarn.dev"}'),filterPage:JSON.parse('{"title":"{{APP_NAME}} :: Filter Setting","addFilter":"Add Filter","searchBadges":"Search badges","filterList":"Filter list","filterDelete":"Delete Filter","filterApply":"Apply Filter","filterInitConfirm":"All existing filters are reset.","filterDeleteAllConfirm":"Delete all filters.","filterDeleteConfirm":"{{length}} filters are deleted.","searchBadgeDescription":"If you omit the channel name, the Twitch global badge will search.","addFilterInputPlaceholder":"enter your contents","searchChannelInputPlaceholder":"channel","searchBadgeInputPlaceholder":"search badge lists","searchFilterInputPlaceholder":"search filter lists","noInputValue":"Please enter your content.","filterAlreadyExist":"That filter already exists.","uploadFilter":"Upload Filter","noMetaInFile":"No metadate in your files.","noFilterID":"Filter ID not found.","displaySearchResult":"Total of {{count}} search results.","bits":"Bits","tier":"Tier","condition":"cond.","contents":"contents","category":"category","badgeName":"badge name","note":"note","channel":"channel","removeSelection":"Remove","removeAll":"Remove All","backupFile":"Backup to files","uploadFile":"Upload file"}'),chatSaver:JSON.parse('{"title":"{{APP_NAME}} :: Save Chat","saveChat":"Save Chat","saveChat_description":"Save Chat as Image","saveChat_description_1":"Only available with the [ {{settingName}} ] setting.","selectChatRoom":"Select Chat Room","InputImageWidthPlaceholder":"Image Width (px)","InputFilenamePlaceholder":"filename","download":"Download","selectChat":"Select Chat","selectChatRoomError":"Please select chat room.","noChatList":"No Chat Lists","insertChatClient":"Insert Chat Client"}'),tmi:JSON.parse('{"connecting":"connecting Twitch chat server..","connected":"connected to chat server.","channelNotFound":"#{{channel}} channel not found.","emoteEnabled":"{{channel}} channel has emote-only mode enabled.","emoteDisabled":"emote-only mode is disabled for channel {{channel}}.","followerEnabled":"Channel {{channel}} has follower only chat active for {{length}} minutes.","followerDisabled":"Follower only chat is disabled on channel {{channel}}.","slowModeEnabled":"{{channel}} {{length}} second slow mode enabled.","slowModeDisabled":"{{channel}} slow mode disabled.","messageDeleted":"Message deleted.","claerchat":"All chats on {{channel}} have been deleted.","timeout":"You are banned for {{duration}} seconds.","subscribersEnabled":"#{{channel}} Subscriber-only chat enabled.","subscribersDisabled":"#{{channel}} Subscriber-only chat disabled","hosting":"Hosting #{{target}}.","raid":"[raid] {{username}} is raiding with a party of {{viewers}}","chatConnecting":"Connecting #{{channel}}..","chatConnectFailed":"Failed to connect {{channel}} chatroom.","chatConnected":"connected #{{channel}}."}'),filter:JSON.parse('{"broadcaster":"Streamer","manager":"Manager","vip":"VIP","verified":"Verified","login_name":"Name","badge_uuid":"Badge","keyword":"Keyword","include":"Include","exclude":"Exclude","sleep":"Sleep"}')},Re={page:JSON.parse('{"logout":"","darkmode":" ","lightmode":" ","reqFailed":" ","noChannel":"  .","reqDelay":"{{time}}    .","serverError":" ","unknownErrorOccured":"    .","authFailed":" .    .","channelIdInputPh":"  ","connect":"","recentConnection":" ","onlineFollowed":" ()","getMore":" ","refresh":"","loginTwitch":" ","setting":"","filterSetting":" ","reverseChatOrder":"  ","chatFontSize":"  ","fontSmall":"","fontDefault":"","fontBig":"","fontBigger":" ","chat":"","add":"","search":"","cancel":"","apply":"","tokenRefreshed":" .  .","reqFailedMessage":" .  .","contactDeveloper":" ","advertise":"  !","advertiseChat":"Twitch Badge Collector   ! https://wtbc.bluewarn.dev"}'),filterPage:JSON.parse('{"title":"{{APP_NAME}} ::  ","addFilter":" ","searchBadges":" ","filterList":" ","filterDelete":" ","filterApply":" ","filterInitConfirm":"   .  ?","filterDeleteAllConfirm":"  .  ?","filterDeleteConfirm":"{{length}}   .  ?","searchBadgeDescription":"      .","addFilterInputPlaceholder":" ","searchChannelInputPlaceholder":"  .","searchBadgeInputPlaceholder":"  ","searchFilterInputPlaceholder":"  ","noInputValue":" .","filterAlreadyExist":"  .","uploadFilter":" ","noMetaInFile":"   .","noFilterID":"  .","displaySearchResult":" {{count}}    .","bits":"","tier":"","condition":"","contents":"","category":"","badgeName":" ","note":"","channel":"","removeSelection":" ","removeAll":" ","backupFile":" ","uploadFile":" "}'),chatSaver:JSON.parse('{"title":"{{APP_NAME}} ::  ","saveChat":" ","saveChat_description":"  .","saveChat_description_1":"[ {{settingName}} ]    .","selectChatRoom":" ","InputImageWidthPlaceholder":"   (px )","InputFilenamePlaceholder":"  ","download":"","selectChat":" ","selectChatRoomError":" .","noChatList":"  .","insertChatClient":"   "}'),tmi:JSON.parse('{"connecting":"   ..","connected":"   .","channelNotFound":"#{{channel}}    .","emoteEnabled":"{{channel}}     .","emoteDisabled":"{{channel}}     .","followerEnabled":"{{channel}}     {{length}}  .","followerDisabled":"{{channel}}     .","slowModeEnabled":"{{channel}}  {{length}}    .","slowModeDisabled":"{{channel}}    .","messageDeleted":" .","claerchat":"{{channel}}    .","timeout":"{{duration}}   .","subscribersEnabled":"#{{channel}}    .","subscribersDisabled":"#{{channel}}    .","hosting":"#{{target}}  .","raid":"[raid] {{username}} is raiding with a party of {{viewers}}","chatConnecting":"#{{channel}}  ...","chatConnectFailed":"#{{channel}}   .","chatConnected":"#{{channel}}  ."}'),filter:JSON.parse('{"broadcaster":"","manager":"","vip":"VIP","verified":" ","login_name":"","badge_uuid":"","keyword":"","include":"","exclude":"","sleep":""}')},De={order:["localStorage","cookie","htmlTag","querystring"],lookupLocalStorage:"language",lookupCookie:"language",htmlTag:document.documentElement};me.use(Ie).init({resources:{en:Ne,ko:Re},fallbackLng:"en",ns:["page","filterPage","chatSaver","tmi","filter"],detection:De});const Me=me,Be={toast:!0,position:"top-end",width:448,showConfirmButton:!1,showCloseButton:!0,timer:6e3,timerProgressBar:!0,color:"var(--text-color-1)",background:"var(--bg-color-1)",didOpen:e=>{e.addEventListener("mouseenter",o().stopTimer),e.addEventListener("mouseleave",o().resumeTimer)}};class Fe{static isEmpty(e){return 0===Object.keys(e).length}static trim_hash(e){let t="";return e&&""!==e&&(t="#"===e[0]?e.substring(1):e),t}static getRandomString(){return Math.random().toString(36).substring(2,12)}}const $e="https://wtbc.bluewarn.dev",Ue="qrh8nkx7bzpij23zdudqsh05wzi9k0";class He{constructor(){this.Toast=o().mixin(Be)}getToken(){return fetch(`${$e}/token`,{method:"POST"}).then((e=>(history.replaceState({},"",location.pathname),e.json()))).catch((e=>{this.onError()}))}login(e,t){const n=new URLSearchParams;n.append("cstate",e),n.append("page",t),location.replace(`${$e}/login?${n}`)}logout(e){const t=new URLSearchParams;t.append("page",e),location.replace(`${$e}/logout?${t}`)}toggleLoginStatus(e,t){e.access_token?this.logout(t):this.login(Fe.getRandomString(),t)}onError(){this.Toast.fire({icon:"error",title:Me.t("page:serverError"),text:Me.t("page:unknownErrorOccured")})}}var ze;!function(e){e.Badge_UUID="badge_uuid",e.Login_name="login_name",e.Keyword="keyword"}(ze||(ze={}));class qe{}qe.map=new Map;const Ve=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"];class Je{constructor(){}rgbToHsl(e,t,n){e/=255,t/=255,n/=255;var s,o,i=Math.max(e,t,n),r=Math.min(e,t,n),a=(i+r)/2;if(i==r)s=o=0;else{var l=i-r;switch(o=a>.5?l/(2-i-r):l/(i+r),i){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return[s,o,a]}hslToRgb(e,t,n){var s,o,i;if(0==t)s=o=i=n;else{function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var r=n<.5?n*(1+t):n+t-n*t,a=2*n-r;s=l(a,r,e+1/3),o=l(a,r,e),i=l(a,r,e-1/3)}return[255*s,255*o,255*i]}getNewBrightnessColor(e,t){let n,s=this.convertHexCodeToDecArray(e),o=this.rgbToHsl(s[0],s[1],s[2]);return n=this.hslToRgb(o[0],o[1],t/100),"#"+this.convertToTwoDigitHexCodeFromDecimal(n[0])+this.convertToTwoDigitHexCodeFromDecimal(n[1])+this.convertToTwoDigitHexCodeFromDecimal(n[2])}getReadableColor(e,t){const n=document.documentElement.classList.contains("light_theme"),s=n?"light_theme":"dark_theme",o=n?"#f7f7f8":"#121212";let i=this.resolveColor(e,t);const r=this.contrast(i,o);if(r<=4){const e=this.convertHexCodeToDecArray(i),t=this.rgbToHsl(e[0],e[1],e[2]);let n=Math.floor(100*t[2]);if("light_theme"===s)for(let e=0;e<10&&(n=n-9+(4-r),i=this.getNewBrightnessColor(i,n),!(this.contrast(i,o)>=4));e++);else for(let e=0;e<10&&(n=n+9+(4-r),i=this.getNewBrightnessColor(i,n),!(this.contrast(i,o)>=4));e++);}return i}resolveColor(e,t){let n=qe.map.get(e);if(n)t&&n!==t&&(n=t,qe.map.set(e,n));else{if(!t){const e=Math.floor(Math.random()*Ve.length);t=Ve[e]}qe.map.set(e,t),n=t}return n}convertToTwoDigitHexCodeFromDecimal(e){var t=Math.round(e).toString(16);return t.length>1||(t="0"+t),t}convertHexCodeToDecArray(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]}luminance(e,t,n){var s=[e,t,n].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*s[0]+.7152*s[1]+.0722*s[2]}contrast(e,t){let n=this.convertHexCodeToDecArray(e),s=this.convertHexCodeToDecArray(t),o=this.luminance(n[0],n[1],n[2]),i=this.luminance(s[0],s[1],s[2]);return(Math.max(o,i)+.05)/(Math.min(o,i)+.05)}}const Ke=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gi;class We{constructor(e,t,n,s,o){this.badges=t.badges,this.badges_raw=t["badges-raw"],this.login_name=t.username||t.login,this.disp_name=t["display-name"],this.color=t.color,this.text=e,this.msg_id=t["msg-id"],this.user_id=t["user-id"],this.messge_type=t["message-type"],this.tmi_send_ts=t["tmi-sent-ts"],this.id=t.id,this.emotes=t.emotes,this.bits=t.bits,this._cheermotes=s.cheermotes||new Map,this.self=n,this.filter=o,this.cb_info=s.channel_badges,this.gb_info=s.global_badges,this.emoteset=s.emote_sets}checkFilter(){return this.filter.checkFilterWithValues(this.badges_raw,this.text,this.login_name,this.disp_name)}render_chat(){let e=document.createElement("div"),t=this.render_author(),n=this.render_message();return e.appendChild(this.render_time()),this.badges&&e.appendChild(this.render_badges()),e.appendChild(t),e.appendChild(n),e.classList.add("chat",this.login_name),e.id=this.id,e}render_badges(){let e=document.createElement("span");e.classList.add("badges");const t=this.cb_info,n=this.gb_info,s=this.badges_raw.split(",");if(!t||!n)return e;for(let o=0;o<s.length;o++){let i=t.get(s[o])||n.get(s[o]);if(!i)continue;const r=document.createElement("img");r.classList.add("chat_badge"),r.src=i.image_url_1x,r.srcset=`${i.image_url_1x} 1x, ${i.image_url_2x} 2x, ${i.image_url_4x} 4x`,e.appendChild(r)}return e}render_author(){let e=document.createElement("span"),t=document.createElement("span"),n=document.createElement("span"),s=document.createElement("span");t.classList.add("chat_author_disp"),n.classList.add("chat_author_login"),s.classList.add("chat_message_separator"),s.textContent=": ",e.classList.add("author"),t.textContent=this.disp_name,e.appendChild(t),this.login_name&&this.login_name!==this.disp_name.toLowerCase()&&(n.textContent=` (${this.login_name})`,e.appendChild(n));const o=new Je;return e.style.color=o.getReadableColor(this.login_name,this.color),"action"!==this.messge_type?e.appendChild(s):s.textContent=" ",e.appendChild(s),e}render_message(){let e=this.text,t=document.createElement("span");t.classList.add("chat_message"),"action"===this.messge_type&&t.classList.add("italic"),"highlighted-message"===this.msg_id&&t.classList.add("highlighted-message");const n=[...this.resolveLink(e),...this.resolveMotes(e)];n.sort(((e,t)=>e.idx[0]-t.idx[0])),0===n.length&&t.appendChild(this.getTextTag(e));for(let s=0;s<n.length;s++){const o=n[s];if(0===s&&0!==o.idx[0]&&t.appendChild(this.getTextTag(e.substring(0,o.idx[0]))),"emote"===o.type)t.appendChild(this.getEmoteTag(o.value));else if("cheermote"===o.type){let e=document.createElement("span");const n=o.value[0],s=o.value[1],i=this.getMinBits(s),r=this.getTierByMinBits(n,i),a=r.images.dark.animated,l=r.color;e.classList.add("bits_amount"),e.style.color=l,e.textContent=s.toString(),t.appendChild(this.getCheermoteTag(a[1],a[2],a[3])),t.appendChild(e)}else if("link"===o.type){const n=e.substring(o.idx[0],o.idx[1]+1);t.appendChild(this.getLinkAnchor(n))}if(n.length-1===s)o.idx[1]<e.length-1&&t.appendChild(this.getTextTag(e.substring(o.idx[1]+1,e.length)));else{const i=n[s+1];t.appendChild(this.getTextTag(e.substring(o.idx[1]+1,i.idx[0])))}}return t}getTextTag(e){let t=document.createElement("span");return t.textContent=e,t}getEmoteTag(e){let t=document.createElement("div"),n=document.createElement("img"),s=`https://static-cdn.jtvnw.net/emoticons/v2/${e}/default/dark`;return t.classList.add("emoticon_container"),n.classList.add("emoticon"),n.src=s+"/1.0",n.srcset=`${s}/1.0 1x, ${s}/2.0 2x, ${s}/3.0 4x`,t.appendChild(n),t}getCheermoteTag(...e){let t=document.createElement("div"),n=document.createElement("img");return t.classList.add("emoticon_container"),n.classList.add("emoticon"),n.src=e[0],n.srcset=`${e[0]} 1x, ${e[1]} 2x, ${e[2]} 4x`,t.appendChild(n),t}getLinkAnchor(e){const t=document.createElement("a");return t.href=e,t.target="_blank",t.rel="noreferrer",t.textContent=e,t}getTierByMinBits(e,t){const n=this._cheermotes.get(e);for(let e of n)if(t===e.min_bits)return e}getMinBits(e){let t=0;return e>=1&&e<=99?t=1:e>=100&&e<=999?t=100:e>=1e3&&e<=4999?t=1e3:e>=5e3&&e<=9999?t=5e3:e>=1e4&&(t=1e4),t}resolveMotes(e){const t=[],n=e.split(" ");let s=0;const o=this.emotes||{},i=0===Object.keys(o).length&&Object.getPrototypeOf(o)===Object.prototype;i||Object.keys(o).forEach((e=>{for(let n of o[e])t.push({type:"emote",value:e,idx:n.split("-").map((e=>parseInt(e)))})}));for(let e=0;e<n.length;e++){const o=n[e],r=[s,s+o.length-1],a=this.checkCheermote(o);if(this.bits&&0!==a.length)t.push({type:"cheermote",value:a,idx:r});else if(i&&this.emoteset.has(o)){const e=this.emoteset.get(o).id;t.push({type:"emote",value:e,idx:r})}s=s+o.length+1}return t}resolveLink(e){const t=e.matchAll(Ke),n=[];for(const e of t)n.push({type:"link",idx:[e.index,e.index+e[0].length-1]});return n}checkCheermote(e){const t=e.split(/([1-9]+[0-9]*)$/);return this._cheermotes.has(t[0])?[t[0],t[1]]:[]}render_time(){let e,t,n,s=document.createElement("span");return e=this.tmi_send_ts?new Date(parseInt(this.tmi_send_ts)):new Date,t=((e.getHours()+11)%12+1).toString(),n=e.getMinutes().toString(),n=1===n.length?"0"+n:n,s.textContent=t+":"+n,s.classList.add("chat_sent_ts"),s}}class Ge{constructor(e){this.text=e}render_message(){let e=document.createElement("div"),t=document.createElement("span");return e.classList.add("chat","irc_message"),t.classList.add("irc_message_span"),t.textContent=this.text,e.appendChild(t),e}}class Ye{constructor(e,t){this.msg_id=e,this.system_msg=t}render_sub_container(){const e=document.createElement("div"),t=document.createElement("span");return e.classList.add("usernotice",this.msg_id),t.classList.add("system_msg"),t.textContent=this.system_msg,e.appendChild(t),e}}var Ze=n(993);Promise.resolve(!1),Promise.resolve(!0);var Xe=Promise.resolve();function Qe(e,t){return e||(e=0),new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}function et(){return Math.random().toString(36).substring(2)}var tt=0,nt=0;function st(){var e=(new Date).getTime();return e===tt?1e3*e+ ++nt:(tt=e,nt=0,1e3*e)}var ot="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);const it={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),Xe}catch(e){return Promise.reject(e)}},canBeUsed:function(){if(ot&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:st};var rt=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var t=this;this.timeMap.set(e,at()),this.set.add(e),setTimeout((function(){!function(e){for(var t=at()-e.ttl,n=e.set[Symbol.iterator]();;){var s=n.next().value;if(!s)return;if(!(e.timeMap.get(s)<t))return;e.timeMap.delete(s),e.set.delete(s)}}(t)}),0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function at(){return(new Date).getTime()}function lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var ct="messages";function ut(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function dt(e){e.closed||ht(e).then((function(){return Qe(e.options.idb.fallbackInterval)})).then((function(){return dt(e)}))}function ht(e){return e.closed?Xe:e.messagesCallback?(t=e.db,n=e.lastCursorId,s=t.transaction(ct).objectStore(ct),o=[],new Promise((function(e){(function(){try{var e=IDBKeyRange.bound(n+1,1/0);return s.openCursor(e)}catch(e){return s.openCursor()}}()).onsuccess=function(t){var s=t.target.result;s?s.value.id<n+1?s.continue(n+1):(o.push(s.value),s.continue()):e(o)}}))).then((function(t){var n=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return n.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),Xe})):Xe;var t,n,s,o}const pt={create:function(e,t){return t=lt(t),function(e){var t="pubkey.broadcast-channel-0-"+e,n=ut().open(t,1);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(ct,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}(e).then((function(n){var s={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:et(),eMIs:new rt(2*t.idb.ttl),writeBlockPromise:Xe,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){s.closed=!0,t.idb.onclose&&t.idb.onclose()},dt(s),s}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,ht(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var s={uuid:t,time:(new Date).getTime(),data:n},o=e.transaction([ct],"readwrite");return new Promise((function(e,t){o.oncomplete=function(){return e()},o.onerror=function(e){return t(e)},o.objectStore(ct).add(s)}))}(e.db,e.uuid,t)})).then((function(){var t,n;0===(0,10,Math.floor(11*Math.random()+0))&&(t=e.db,n=e.options.idb.ttl,function(e,t){var n=(new Date).getTime()-t,s=e.transaction(ct).objectStore(ct),o=[];return new Promise((function(e){s.openCursor().onsuccess=function(t){var s=t.target.result;if(s){var i=s.value;if(!(i.time<n))return void e(o);o.push(i),s.continue()}else e(o)}}))}(t,n).then((function(e){return Promise.all(e.map((function(e){return function(e,t){var n=e.transaction([ct],"readwrite").objectStore(ct).delete(t);return new Promise((function(e){n.onsuccess=function(){return e()}}))}(t,e.id)})))})))})),e.writeBlockPromise},canBeUsed:function(){return!ot&&!!ut()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:st};function mt(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function gt(e){return"pubkey.broadcastChannel-"+e}function ft(){if(ot)return!1;var e=mt();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}const wt={create:function(e,t){if(t=lt(t),!ft())throw new Error("BroadcastChannel: localstorage cannot be used");var n=et(),s=new rt(t.localstorage.removeTimeout),o={channelName:e,uuid:n,eMIs:s};return o.listener=function(e,t){var i=gt(e),r=function(e){var t;e.key===i&&(t=JSON.parse(e.newValue),o.messagesCallback&&t.uuid!==n&&t.token&&!s.has(t.token)&&(t.data.time&&t.data.time<o.messagesCallbackTime||(s.add(t.token),o.messagesCallback(t.data))))};return window.addEventListener("storage",r),r}(e),o},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){Qe().then((function(){var s=gt(e.channelName),o={token:et(),time:(new Date).getTime(),data:t,uuid:e.uuid},i=JSON.stringify(o);mt().setItem(s,i);var r=document.createEvent("Event");r.initEvent("storage",!0,!0),r.key=s,r.newValue=i,window.dispatchEvent(r),n()}))}))},canBeUsed:ft,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:st};var bt=st,yt=new Set;const vt={create:function(e){var t={name:e,messagesCallback:null};return yt.add(t),t},close:function(e){yt.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(yt).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:bt};var _t=[it,pt,wt],kt=new Set,Ct=0,xt=function(e,t){this.id=Ct++,kt.add(this),this.name=e,this.options=lt(t),this.method=function(e){var t=[].concat(e.methods,_t).filter(Boolean);if(e.type){if("simulate"===e.type)return vt;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||ot||(t=t.filter((function(e){return"idb"!==e.type})));var s=t.find((function(e){return e.canBeUsed()}));if(s)return s;throw new Error("No useable method found in "+JSON.stringify(_t.map((function(e){return e.type}))))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function(e){var t,n=e.method.create(e.name,e.options);(t=n)&&"function"==typeof t.then?(e._prepP=n,n.then((function(t){e._state=t}))):e._state=n}(this)};function St(e,t,n){var s={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Xe).then((function(){var t=e.method.postMessage(e._state,s);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function Ot(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Et(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&Ot(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var n=e.time-1e5;t.time>=n&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function Lt(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!Ot(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}xt._pubkey=!0,xt.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return St(this,"message",e)},postInternal:function(e){return St(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};Lt(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,Et(this,"message",t)):this._onML=null},addEventListener:function(e,t){Et(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){Lt(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){kt.delete(this),this.closed=!0;var t=this._prepP?this._prepP:Xe;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};const Pt=new xt("Filter"),Tt=new xt("Chat"),At=document.getElementById("chat_list_container").getElementsByClassName("chat_list clone")[0],jt=new URLSearchParams(window.location.search),It=Object.fromEntries(jt.entries()),Nt=It.messageId,Rt=It.channel,Dt=It.language||"en",Mt=It.font_size||"default";let Bt="",Ft=It.theme||"light";Me.changeLanguage(Dt),Kt(`font_${Mt}`),Jt(Ft);const $t=new class{constructor(e){this._emote_sets=new Map,this._cheermotes=new Map,this.auth=new He,this.Toast=o().mixin(Be),this.client_id=e}async get_users(...e){let t=new URLSearchParams;e.forEach((e=>{t.append("login",e)}));const n=await this.request(`/api/users?${t}`,"GET");return n.error&&this.Toast.fire(Me.t("page:reqFailed"),Me.t(n.message),"error"),n}async get_followed_streams(e,t){if(null===t)return Promise.reject();let n=new URLSearchParams;n.append("user_id",e),t&&n.append("after",t),n.append("first","20");const s=`/api/streams/followed?${n}`,o=await this.request(s,"GET");return o.error&&this.Toast.fire(Me.t("page:reqFailed"),Me.t(o.message),"error"),o}async get_channel_chat_badges(e,t){const n=`/api/chat/badges?broadcaster_id=${e}`,s=await this.request(n,"GET");return s.error&&this.Toast.fire(Me.t("page:reqFailed"),Me.t(s.message),"error"),t?this.badge_data_to_map(s):s}async get_global_chat_badges(e){const t=await this.request("/api/chat/badges/global","GET");return t.error&&this.Toast.fire(Me.t("page:reqFailed"),Me.t(t.message),"error"),e?this.badge_data_to_map(t):t}async getChannelChatBadges(e){let t=new URLSearchParams;t.append("language",Me.language);const n=`/udapi/badges/channels/${e}/display?${t}`,s=await this.request(n,"GET");return s.error&&this.Toast.fire(Me.t("page:reqFailed"),Me.t(s.message),"error"),s}async getGlobalChatBadges(){let e=new URLSearchParams;e.append("language",Me.language);const t=`/udapi/badges/global/display?${e}`,n=await this.request(t,"GET");return n.error&&this.Toast.fire(Me.t("page:reqFailed"),Me.t(n.message),"error"),n}async get_emote_sets(e){let t=new URLSearchParams;for(let n=0;n<e.length;n++)t.append("emote_set_id",e[n]);const n=await this.request("/api/chat/emotes/set?"+t,"GET");return n.error&&this.Toast.fire(Me.t("page:reqFailed"),Me.t(n.message),"error"),n.data.forEach((e=>{this.emote_sets.set(e.name,e)})),this.emote_sets}async get_cheermotes(e){const t=`/api/bits/cheermotes?broadcaster_id=${e}`,n=await this.request(t,"GET");return n.error&&this.Toast.fire(Me.t("page:reqFailed"),Me.t(n.message),"error"),this.cheermote_map(n)}get user_id(){return this._user_id}set user_id(e){this._user_id=e}get username(){return this._username}set username(e){this._username=e}get access_token(){return this.token}set access_token(e){this.token=e}get expire_time(){return this.t_expire}set expire_time(e){this.t_expire=e}get current_channel(){return this.cur_channel}set current_channel(e){this.cur_channel=e}get targetChannel(){return this._targetChannel}set targetChannel(e){this._targetChannel=e}get channel_badges(){return this.ch_badges}set channel_badges(e){this.ch_badges=e}get global_badges(){return this.gb_badges}set global_badges(e){this.gb_badges=e}get emote_sets(){return this._emote_sets}set emote_sets(e){this._emote_sets=e}get cheermotes(){return this._cheermotes}set cheermotes(e){this._cheermotes=e}request(e,t){return fetch(e,{method:t}).then((async e=>{if(e.ok)return e.json();401===e.status?this.auth.getToken().then((e=>{e.status?(this.access_token=e.access_token,this.Toast.fire(Me.t("page:reqFailed"),Me.t("page:tokenRefreshed"),"error")):this.showErrorMessage()})).catch((e=>{this.showErrorMessage()})):this.showErrorMessage()})).catch((e=>{this.showErrorMessage()}))}showErrorMessage(){this.Toast.fire(Me.t("page:reqFailed"),Me.t("page:reqFailedMessage"),"error")}badge_data_to_map(e){const t=e.data;let n=new Map;for(let e=0;e<t.length;e++){let s=t[e];for(let e=0;e<s.versions.length;e++){const t=`${s.set_id}/${s.versions[e].id}`;n.set(t,s.versions[e])}}return n}cheermote_map(e){const t=e.data;let n=new Map;for(let e=0;e<t.length;e++){let s=t[e];n.set(s.prefix,s.tiers)}return n}get_query_str(e,t){let n="";if(!e)return n;for(let s=0;s<e.length;s++)e&&(n+=`&${t}=${e[s]}`);return"?"+n}}(Ue),Ut=new class{constructor(e,t){this._filter=t,this.tapi=e}checkFilterWithValues(e,t,n,s){if(!this._filter)return"";let o=new Map,i=this.checkFilter("login_name",n,!0),r=this.checkFilter("login_name",s,!0);o.set("u_login_name",i),o.set("d_login_name",r);let a=[];if(e)for(let t of e.split(",")){let e=this.tapi.channel_badges.get(t)||this.tapi.global_badges.get(t);if(!e)break;let n=new URL(e.image_url_1x).pathname.split("/")[3],s=this.checkFilter("badge_uuid",n,!0);a.push(s)}o.set("badge",this.select_cf_result(a));let l=this.checkFilter("keyword",t,!1);o.set("keyword",l);for(const[e,t]of o)if("FILTER_NOT_FOUND"!==t){if("FILTER_INCLUDE"===t)return["u_login_name","d_login_name"].includes(e)?"login_name":e;break}return""}checkFilter(e,t,n){if(!this._filter)return"";let s,o,i=Object.keys(this._filter).map((e=>this._filter[e])).filter((t=>t.category===e&&"sleep"!=t.filter_type));n?(s=i.filter((e=>e.value.toLowerCase()===t.toLowerCase()&&"include"===e.filter_type)),o=i.filter((e=>e.value.toLowerCase()===t.toLowerCase()&&"exclude"===e.filter_type))):(s=i.filter((e=>t.includes(e.value)&&"include"===e.filter_type)),o=i.filter((e=>t.includes(e.value)&&"exclude"===e.filter_type)));let r=s.length,a=o.length;return 0===r&&0===a?"FILTER_NOT_FOUND":0!=r&&0===a?"FILTER_INCLUDE":"FILTER_EXCLUDE"}select_cf_result(e){if(0===e.length)return"FILTER_NOT_FOUND";let t=e.includes("FILTER_EXCLUDE"),n=e.includes("FILTER_INCLUDE"),s=e.includes("FILTER_NOT_FOUND");return t?"FILTER_EXCLUDE":!t&&n?"FILTER_INCLUDE":t||n||!s?void 0:"FILTER_NOT_FOUND"}set filter(e){this._filter=e}}($t),Ht=new class{constructor(e,t,n){this.CHAT_COUNT=144,this.CHAT_COUNT_MAX=444,this._origChatIsAtBottom=!0,this._cloneChatIsAtBottom=!0,this.chat_list_container=document.getElementById("chat_list_container"),this.chat_list_origin=this.chat_list_container.getElementsByClassName("chat_list origin")[0],this.chat_list_clone=this.chat_list_container.getElementsByClassName("chat_list clone")[0],this.filter=e,this.tapi=t,this.origin=n}addMessage(e,t,n,s){if(!(s=null===e)&&Fe.trim_hash(e)!==Fe.trim_hash(this.tapi.current_channel))return;const o=""!==(n=n||""),i=document.createElement("div");let r=o?"tbc_highlight_"+n:"tbc_highlight";if(i.classList.add("chat_line"),i.classList.add(r),i.appendChild(t),o||!this.origin&&s){let e=i.cloneNode(!0);this.chat_list_clone.appendChild(e),this.maintainChatCount(this.chat_list_clone),this._cloneChatIsAtBottom&&this.scrollDownChatList(this.chat_list_clone)}this.origin&&(this.chat_list_origin.appendChild(i),this.maintainChatCount(this.chat_list_origin),this._origChatIsAtBottom&&this.scrollDownChatList(this.chat_list_origin))}addChatMessage(e,t,n,s){const o=new We(t,n,s,this.tapi,this.filter);this.addMessage(e,o.render_chat(),o.checkFilter())}addIRCMessage(e,t,n){const s=new Ge(t);this.addMessage(e,s.render_message(),null,n)}addUserNoticeMessage(e,t,n){let s="";const o=new Ye(t["message-type"],t["system-msg"]).render_sub_container();if(n){const e=new We(n,t,!1,this.tapi,this.filter);s=e.checkFilter(),o.appendChild(e.render_chat())}this.addMessage(e,o,s)}maintainChatCount(e){if(!e.classList.contains("chat_list"))return;const t=e.childElementCount,n=(e.classList.contains("origin")?this._origChatIsAtBottom:this._cloneChatIsAtBottom)?this.CHAT_COUNT:this.CHAT_COUNT_MAX;if(t>n)for(let t of Array.from(e.childNodes))e.childElementCount>n&&t.remove()}scrollDownChatList(e){e.scrollTop=e.scrollHeight}clearAllChat(e){Array.from(this.chat_list_origin.childNodes).forEach((t=>{if(e){const e=t;e.children[0].classList.contains("irc_message")||e.classList.add("cancel_line")}else t.remove()}))}clearCopiedChat(){Array.from(this.chat_list_clone.childNodes).forEach((e=>{e.remove()}))}clearUserChat(e,t){Array.from(this.chat_list_origin.getElementsByClassName(e)).forEach((e=>{t?e.classList.contains("chat")&&e.classList.add("cancel_line"):e.getElementsByClassName("chat_message")[0].textContent=`< ${Me.t("tmi:messageDeleted")} >`}))}set origChatIsAtBottom(e){this._origChatIsAtBottom=e}set cloneChatIsAtBottom(e){this._cloneChatIsAtBottom=e}}(Ut,$t,!1),zt=Math.floor(1e3+9e3*Math.random());let qt={options:{clientId:Ue,skipUpdatingEmotesets:!0,skipMembership:!0},connection:{reconnect:!0,secure:!0},identity:{username:`justinfan${zt}`,password:""}},Vt=new Ze.Client(qt);function Jt(e){let t="";t="dark"===e?"dark_theme":"light_theme",document.documentElement.className=t,function(){const e=new Je,t=document.getElementById("chat_list_container").getElementsByClassName("chat");for(let n of t){const t=n.getElementsByClassName("author")[0];if(!t)continue;const s=n.classList.item(1);t.style.color=e.getReadableColor(s,null)}}()}function Kt(e){e||(e="font_default");let t="";t="font_small"===e?"font_size_0":"font_big"===e?"font_size_2":"font_bigger"===e?"font_size_3":"font_size_1";const n=document.getElementById("chat_room");for(let e of n.classList)/font_size_[0-9]$/.test(e)&&n.classList.remove(e);n.classList.add(t)}$t.get_global_chat_badges(!0).then((e=>{$t.global_badges=e})),Vt.connect().then((async()=>{if(!Rt)return;let e=await $t.get_users(Rt);if(0===e.data.length)return void Ht.addIRCMessage(null,Me.t("tmi:channelNotFound",{channel:Rt}),!0);Bt=e.data[0].display_name;let t=await $t.get_channel_chat_badges(e.data[0].id,!0),n=await $t.get_cheermotes(e.data[0].id);$t.channel_badges=t,$t.cheermotes=n})),Vt.on("connected",((e,t)=>{Ht.addIRCMessage(null,Me.t("tmi:connected"),!0),0===Vt.getChannels().length&&Vt.join(Rt).then((()=>{$t.current_channel=Rt}))})),Vt.on("join",((e,t,n)=>{n&&Ht.addIRCMessage(null,Me.t("tmi:chatConnected",{channel:Fe.trim_hash(e)}),!0)})),Vt.on("message",((e,t,n,s)=>{Ht.addChatMessage(e,n,t,s)})),Vt.on("subscription",((e,t,n,s,o)=>{Ht.addUserNoticeMessage(e,o,s)})),Vt.on("cheer",((e,t,n)=>{Ht.addChatMessage(e,n,t,!1)})),Vt.on("giftpaidupgrade",((e,t,n,s)=>{Ht.addUserNoticeMessage(e,s,s.message)})),Vt.on("anongiftpaidupgrade",((e,t,n)=>{Ht.addUserNoticeMessage(e,n,n.message)})),Vt.on("submysterygift",((e,t,n,s,o)=>{Ht.addUserNoticeMessage(e,o,o.message)})),Vt.on("resub",((e,t,n,s,o,i)=>{Ht.addUserNoticeMessage(e,o,s)})),Vt.on("primepaidupgrade",((e,t,n,s)=>{Ht.addUserNoticeMessage(e,s,s.message)})),Vt.on("subgift",((e,t,n,s,o,i)=>{Ht.addUserNoticeMessage(e,i,i.message)})),Vt.on("emotesets",((e,t)=>{let n=e.split(",");for(let e=0;e<n.length;e+=25)$t.get_emote_sets(n.splice(0,25))})),At.addEventListener("scroll",(function(){Ht.cloneChatIsAtBottom=At.scrollTop+At.clientHeight>=At.scrollHeight-40}),!1),Pt.onmessage=e=>{e.to.includes("wtbc-mini")&&(Ut.filter=Object.fromEntries(e.filter),Ht.addIRCMessage(null,"  .",!0))},Tt.onmessage=e=>{if("REQUEST_CHATROOM_ID"===e.type&&Tt.postMessage({type:"RESPONSE_CHATROOM_ID",theme:Ft,channel:Rt,displayName:Bt,random:zt}),"REQUEST_CHAT_LIST"===e.type){if(e.id!==`${zt}-${Rt}`)return;const t=(new XMLSerializer).serializeToString(document.getElementsByClassName("chat_list")[0]);Tt.postMessage({type:"chatList",chatListXML:t})}},window.addEventListener("message",(e=>{if(!Nt)return;if(e.data.messageId!==Nt)return;const t=e.data,n=t.type,s=t.value;"language"===n?Me.changeLanguage(Dt):"font_size"===n?Kt(`font_${s}`):"theme"===n?(Ft=s,Jt(s)):"filter"===n&&(Ut.filter=Object.fromEntries(t.value))}))},604:()=>{},726:()=>{}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(421)})();