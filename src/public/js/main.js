(()=>{var e={565:(e,t,n)=>{var o="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};o.SENTRY_RELEASE={id:"1.4.8"},o.SENTRY_RELEASES=o.SENTRY_RELEASES||{},o.SENTRY_RELEASES["tbc-web@tbc-b1"]={id:"1.4.8"}},455:function(e){e.exports=function(){"use strict";const e="SweetAlert2:",t=e=>e.charAt(0).toUpperCase()+e.slice(1),n=e=>Array.prototype.slice.call(e),o=t=>{console.warn("".concat(e," ").concat("object"==typeof t?t.join(" "):t))},s=t=>{console.error("".concat(e," ").concat(t))},i=[],a=(e,t)=>{var n;n='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'),i.includes(n)||(i.push(n),o(n))},r=e=>"function"==typeof e?e():e,l=e=>e&&"function"==typeof e.toPromise,c=e=>l(e)?e.toPromise():Promise.resolve(e),u=e=>e&&Promise.resolve(e)===e,d={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},h=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],p={},m=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],g=e=>Object.prototype.hasOwnProperty.call(d,e),f=e=>-1!==h.indexOf(e),w=e=>p[e],b=e=>{g(e)||o('Unknown parameter "'.concat(e,'"'))},y=e=>{m.includes(e)&&o('The parameter "'.concat(e,'" is incompatible with toasts'))},v=e=>{w(e)&&a(e,w(e))},_=e=>{const t={};for(const n in e)t[e[n]]="swal2-"+e[n];return t},k=_(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),C=_(["success","warning","info","question","error"]),x=()=>document.body.querySelector(".".concat(k.container)),E=e=>{const t=x();return t?t.querySelector(e):null},S=e=>E(".".concat(e)),O=()=>S(k.popup),L=()=>S(k.icon),P=()=>S(k.title),T=()=>S(k["html-container"]),I=()=>S(k.image),A=()=>S(k["progress-steps"]),B=()=>S(k["validation-message"]),N=()=>E(".".concat(k.actions," .").concat(k.confirm)),j=()=>E(".".concat(k.actions," .").concat(k.deny)),R=()=>E(".".concat(k.loader)),M=()=>E(".".concat(k.actions," .").concat(k.cancel)),D=()=>S(k.actions),F=()=>S(k.footer),$=()=>S(k["timer-progress-bar"]),U=()=>S(k.close),H=()=>{const e=n(O().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(((e,t)=>{const n=parseInt(e.getAttribute("tabindex")),o=parseInt(t.getAttribute("tabindex"));return n>o?1:n<o?-1:0})),t=n(O().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((e=>"-1"!==e.getAttribute("tabindex")));return(e=>{const t=[];for(let n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t})(e.concat(t)).filter((e=>ae(e)))},z=()=>!K(document.body,k["toast-shown"])&&!K(document.body,k["no-backdrop"]),q=()=>O()&&K(O(),k.toast),V={previousBodyPadding:null},J=(e,t)=>{if(e.textContent="",t){const o=(new DOMParser).parseFromString(t,"text/html");n(o.querySelector("head").childNodes).forEach((t=>{e.appendChild(t)})),n(o.querySelector("body").childNodes).forEach((t=>{e.appendChild(t)}))}},K=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let t=0;t<n.length;t++)if(!e.classList.contains(n[t]))return!1;return!0},W=(e,t,s)=>{if(((e,t)=>{n(e.classList).forEach((n=>{Object.values(k).includes(n)||Object.values(C).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))})(e,t),t.customClass&&t.customClass[s]){if("string"!=typeof t.customClass[s]&&!t.customClass[s].forEach)return o("Invalid type of customClass.".concat(s,'! Expected string or iterable object, got "').concat(typeof t.customClass[s],'"'));X(e,t.customClass[s])}},Y=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(k.popup," > .").concat(k[t]));case"checkbox":return e.querySelector(".".concat(k.popup," > .").concat(k.checkbox," input"));case"radio":return e.querySelector(".".concat(k.popup," > .").concat(k.radio," input:checked"))||e.querySelector(".".concat(k.popup," > .").concat(k.radio," input:first-child"));case"range":return e.querySelector(".".concat(k.popup," > .").concat(k.range," input"));default:return e.querySelector(".".concat(k.popup," > .").concat(k.input))}},G=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},Z=(e,t,n)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},X=(e,t)=>{Z(e,t,!0)},Q=(e,t)=>{Z(e,t,!1)},ee=(e,t)=>{const o=n(e.childNodes);for(let e=0;e<o.length;e++)if(K(o[e],t))return o[e]},te=(e,t,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},ne=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},oe=e=>{e.style.display="none"},se=(e,t,n,o)=>{const s=e.querySelector(t);s&&(s.style[n]=o)},ie=(e,t,n)=>{t?ne(e,n):oe(e)},ae=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),re=e=>!!(e.scrollHeight>e.clientHeight),le=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),o=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||o>0},ce=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$();ae(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},ue=()=>"undefined"==typeof window||"undefined"==typeof document,de={},he=e=>new Promise((t=>{if(!e)return t();const n=window.scrollX,o=window.scrollY;de.restoreFocusTimeout=setTimeout((()=>{de.previousActiveElement&&de.previousActiveElement.focus?(de.previousActiveElement.focus(),de.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),window.scrollTo(n,o)})),pe='\n <div aria-labelledby="'.concat(k.title,'" aria-describedby="').concat(k["html-container"],'" class="').concat(k.popup,'" tabindex="-1">\n   <button type="button" class="').concat(k.close,'"></button>\n   <ul class="').concat(k["progress-steps"],'"></ul>\n   <div class="').concat(k.icon,'"></div>\n   <img class="').concat(k.image,'" />\n   <h2 class="').concat(k.title,'" id="').concat(k.title,'"></h2>\n   <div class="').concat(k["html-container"],'" id="').concat(k["html-container"],'"></div>\n   <input class="').concat(k.input,'" />\n   <input type="file" class="').concat(k.file,'" />\n   <div class="').concat(k.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(k.select,'"></select>\n   <div class="').concat(k.radio,'"></div>\n   <label for="').concat(k.checkbox,'" class="').concat(k.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(k.label,'"></span>\n   </label>\n   <textarea class="').concat(k.textarea,'"></textarea>\n   <div class="').concat(k["validation-message"],'" id="').concat(k["validation-message"],'"></div>\n   <div class="').concat(k.actions,'">\n     <div class="').concat(k.loader,'"></div>\n     <button type="button" class="').concat(k.confirm,'"></button>\n     <button type="button" class="').concat(k.deny,'"></button>\n     <button type="button" class="').concat(k.cancel,'"></button>\n   </div>\n   <div class="').concat(k.footer,'"></div>\n   <div class="').concat(k["timer-progress-bar-container"],'">\n     <div class="').concat(k["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),me=()=>{de.currentInstance.resetValidationMessage()},ge=e=>{const t=(()=>{const e=x();return!!e&&(e.remove(),Q([document.documentElement,document.body],[k["no-backdrop"],k["toast-shown"],k["has-column"]]),!0)})();if(ue())return void s("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=k.container,t&&X(n,k["no-transition"]),J(n,pe);const o="string"==typeof(i=e.target)?document.querySelector(i):i;var i;o.appendChild(n),(e=>{const t=O();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")})(e),(e=>{"rtl"===window.getComputedStyle(e).direction&&X(x(),k.rtl)})(o),(()=>{const e=O(),t=ee(e,k.input),n=ee(e,k.file),o=e.querySelector(".".concat(k.range," input")),s=e.querySelector(".".concat(k.range," output")),i=ee(e,k.select),a=e.querySelector(".".concat(k.checkbox," input")),r=ee(e,k.textarea);t.oninput=me,n.onchange=me,i.onchange=me,a.onchange=me,r.oninput=me,o.oninput=()=>{me(),s.value=o.value},o.onchange=()=>{me(),o.nextSibling.value=o.value}})()},fe=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?we(e,t):e&&J(t,e)},we=(e,t)=>{e.jquery?be(t,e):J(t,e.toString())},be=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},ye=(()=>{if(ue())return!1;const e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1})(),ve=(e,t)=>{const n=D(),o=R();t.showConfirmButton||t.showDenyButton||t.showCancelButton?ne(n):oe(n),W(n,t,"actions"),function(e,t,n){const o=N(),s=j(),i=M();_e(o,"confirm",n),_e(s,"deny",n),_e(i,"cancel",n),function(e,t,n,o){if(!o.buttonsStyling)return Q([e,t,n],k.styled);X([e,t,n],k.styled),o.confirmButtonColor&&(e.style.backgroundColor=o.confirmButtonColor,X(e,k["default-outline"])),o.denyButtonColor&&(t.style.backgroundColor=o.denyButtonColor,X(t,k["default-outline"])),o.cancelButtonColor&&(n.style.backgroundColor=o.cancelButtonColor,X(n,k["default-outline"]))}(o,s,i,n),n.reverseButtons&&(n.toast?(e.insertBefore(i,o),e.insertBefore(s,o)):(e.insertBefore(i,t),e.insertBefore(s,t),e.insertBefore(o,t)))}(n,o,t),J(o,t.loaderHtml),W(o,t,"loader")};function _e(e,n,o){ie(e,o["show".concat(t(n),"Button")],"inline-block"),J(e,o["".concat(n,"ButtonText")]),e.setAttribute("aria-label",o["".concat(n,"ButtonAriaLabel")]),e.className=k[n],W(e,o,"".concat(n,"Button")),X(e,o["".concat(n,"ButtonClass")])}const ke=(e,t)=>{const n=x();n&&(function(e,t){"string"==typeof t?e.style.background=t:t||X([document.documentElement,document.body],k["no-backdrop"])}(n,t.backdrop),function(e,t){t in k?X(e,k[t]):(o('The "position" parameter is not valid, defaulting to "center"'),X(e,k.center))}(n,t.position),function(e,t){if(t&&"string"==typeof t){const n="grow-".concat(t);n in k&&X(e,k[n])}}(n,t.grow),W(n,t,"container"))};var Ce={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const xe=["input","file","range","select","radio","checkbox","textarea"],Ee=e=>{if(!Ie[e.input])return s('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));const t=Te(e.input),n=Ie[e.input](t,e);ne(n),setTimeout((()=>{G(n)}))},Se=(e,t)=>{const n=Y(O(),e);if(n){(e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}})(n);for(const e in t)n.setAttribute(e,t[e])}},Oe=e=>{const t=Te(e.input);e.customClass&&X(t,e.customClass.input)},Le=(e,t)=>{e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Pe=(e,t,n)=>{if(n.inputLabel){e.id=k.input;const o=document.createElement("label"),s=k["input-label"];o.setAttribute("for",e.id),o.className=s,X(o,n.customClass.inputLabel),o.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",o)}},Te=e=>{const t=k[e]?k[e]:k.input;return ee(O(),t)},Ie={};Ie.text=Ie.email=Ie.password=Ie.number=Ie.tel=Ie.url=(e,t)=>("string"==typeof t.inputValue||"number"==typeof t.inputValue?e.value=t.inputValue:u(t.inputValue)||o('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t.inputValue,'"')),Pe(e,e,t),Le(e,t),e.type=t.input,e),Ie.file=(e,t)=>(Pe(e,e,t),Le(e,t),e),Ie.range=(e,t)=>{const n=e.querySelector("input"),o=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,o.value=t.inputValue,Pe(n,e,t),e},Ie.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");J(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Pe(e,e,t),e},Ie.radio=e=>(e.textContent="",e),Ie.checkbox=(e,t)=>{const n=Y(O(),"checkbox");n.value="1",n.id=k.checkbox,n.checked=Boolean(t.inputValue);const o=e.querySelector("span");return J(o,t.inputPlaceholder),e},Ie.textarea=(e,t)=>{e.value=t.inputValue,Le(e,t),Pe(e,e,t);return setTimeout((()=>{if("MutationObserver"in window){const t=parseInt(window.getComputedStyle(O()).width);new MutationObserver((()=>{const n=e.offsetWidth+(o=e,parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight));var o;O().style.width=n>t?"".concat(n,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const Ae=(e,t)=>{const n=T();W(n,t,"htmlContainer"),t.html?(fe(t.html,n),ne(n,"block")):t.text?(n.textContent=t.text,ne(n,"block")):oe(n),((e,t)=>{const n=O(),o=Ce.innerParams.get(e),s=!o||t.input!==o.input;xe.forEach((e=>{const o=k[e],i=ee(n,o);Se(e,t.inputAttributes),i.className=o,s&&oe(i)})),t.input&&(s&&Ee(t),Oe(t))})(e,t)},Be=(e,t)=>{for(const n in C)t.icon!==n&&Q(e,C[n]);X(e,C[t.icon]),Re(e,t),Ne(),W(e,t,"icon")},Ne=()=>{const e=O(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<n.length;e++)n[e].style.backgroundColor=t},je=(e,t)=>{e.textContent="",t.iconHtml?J(e,Me(t.iconHtml)):"success"===t.icon?J(e,'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n'):"error"===t.icon?J(e,'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n'):J(e,Me({question:"?",warning:"!",info:"i"}[t.icon]))},Re=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])se(e,n,"backgroundColor",t.iconColor);se(e,".swal2-success-ring","borderColor",t.iconColor)}},Me=e=>'<div class="'.concat(k["icon-content"],'">').concat(e,"</div>"),De=(e,t)=>{const n=A();if(!t.progressSteps||0===t.progressSteps.length)return oe(n);ne(n),n.textContent="",t.currentProgressStep>=t.progressSteps.length&&o("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(((e,o)=>{const s=(e=>{const t=document.createElement("li");return X(t,k["progress-step"]),J(t,e),t})(e);if(n.appendChild(s),o===t.currentProgressStep&&X(s,k["active-progress-step"]),o!==t.progressSteps.length-1){const e=(e=>{const t=document.createElement("li");return X(t,k["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t})(t);n.appendChild(e)}}))},Fe=(e,t)=>{e.className="".concat(k.popup," ").concat(ae(e)?t.showClass.popup:""),t.toast?(X([document.documentElement,document.body],k["toast-shown"]),X(e,k.toast)):X(e,k.modal),W(e,t,"popup"),"string"==typeof t.customClass&&X(e,t.customClass),t.icon&&X(e,k["icon-".concat(t.icon)])},$e=(e,t)=>{((e,t)=>{const n=x(),o=O();t.toast?(te(n,"width",t.width),o.style.width="100%",o.insertBefore(R(),L())):te(o,"width",t.width),te(o,"padding",t.padding),t.color&&(o.style.color=t.color),t.background&&(o.style.background=t.background),oe(B()),Fe(o,t)})(0,t),ke(0,t),De(0,t),((e,t)=>{const n=Ce.innerParams.get(e),o=L();n&&t.icon===n.icon?(je(o,t),Be(o,t)):t.icon||t.iconHtml?t.icon&&-1===Object.keys(C).indexOf(t.icon)?(s('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),oe(o)):(ne(o),je(o,t),Be(o,t),X(o,t.showClass.icon)):oe(o)})(e,t),((e,t)=>{const n=I();if(!t.imageUrl)return oe(n);ne(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),te(n,"width",t.imageWidth),te(n,"height",t.imageHeight),n.className=k.image,W(n,t,"image")})(0,t),((e,t)=>{const n=P();ie(n,t.title||t.titleText,"block"),t.title&&fe(t.title,n),t.titleText&&(n.innerText=t.titleText),W(n,t,"title")})(0,t),((e,t)=>{const n=U();J(n,t.closeButtonHtml),W(n,t,"closeButton"),ie(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)})(0,t),Ae(e,t),ve(0,t),((e,t)=>{const n=F();ie(n,t.footer),t.footer&&fe(t.footer,n),W(n,t,"footer")})(0,t),"function"==typeof t.didRender&&t.didRender(O())},Ue=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),He=()=>{n(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},ze=["swal-title","swal-html","swal-footer"],qe=e=>{const t={};return n(e.querySelectorAll("swal-param")).forEach((e=>{Ze(e,["name","value"]);const n=e.getAttribute("name"),o=e.getAttribute("value");"boolean"==typeof d[n]&&"false"===o&&(t[n]=!1),"object"==typeof d[n]&&(t[n]=JSON.parse(o))})),t},Ve=e=>{const o={};return n(e.querySelectorAll("swal-button")).forEach((e=>{Ze(e,["type","color","aria-label"]);const n=e.getAttribute("type");o["".concat(n,"ButtonText")]=e.innerHTML,o["show".concat(t(n),"Button")]=!0,e.hasAttribute("color")&&(o["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(o["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),o},Je=e=>{const t={},n=e.querySelector("swal-image");return n&&(Ze(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Ke=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Ze(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},We=e=>{const t={},o=e.querySelector("swal-input");o&&(Ze(o,["type","label","placeholder","value"]),t.input=o.getAttribute("type")||"text",o.hasAttribute("label")&&(t.inputLabel=o.getAttribute("label")),o.hasAttribute("placeholder")&&(t.inputPlaceholder=o.getAttribute("placeholder")),o.hasAttribute("value")&&(t.inputValue=o.getAttribute("value")));const s=e.querySelectorAll("swal-input-option");return s.length&&(t.inputOptions={},n(s).forEach((e=>{Ze(e,["value"]);const n=e.getAttribute("value"),o=e.innerHTML;t.inputOptions[n]=o}))),t},Ye=(e,t)=>{const n={};for(const o in t){const s=t[o],i=e.querySelector(s);i&&(Ze(i,[]),n[s.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},Ge=e=>{const t=ze.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);n(e.children).forEach((e=>{const n=e.tagName.toLowerCase();-1===t.indexOf(n)&&o("Unrecognized element <".concat(n,">"))}))},Ze=(e,t)=>{n(e.attributes).forEach((n=>{-1===t.indexOf(n.name)&&o(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))};var Xe={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Qe(e){(function(e){e.inputValidator||Object.keys(Xe).forEach((t=>{e.input===t&&(e.inputValidator=Xe[t])}))})(e),e.showLoaderOnConfirm&&!e.preConfirm&&o("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(o('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),ge(e)}class et{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const tt=()=>{null===V.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(V.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(V.previousBodyPadding+(()=>{const e=document.createElement("div");e.className=k["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t})(),"px"))},nt=()=>{const e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){const e=44;O().scrollHeight>window.innerHeight-e&&(x().style.paddingBottom="".concat(e,"px"))}},ot=()=>{const e=x();let t;e.ontouchstart=e=>{t=st(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},st=e=>{const t=e.target,n=x();return!(it(e)||at(e)||t!==n&&(re(n)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||re(T())&&T().contains(t)))},it=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,at=e=>e.touches&&e.touches.length>1,rt=e=>{const t=x(),o=O();"function"==typeof e.willOpen&&e.willOpen(o);const s=window.getComputedStyle(document.body).overflowY;dt(t,o,e),setTimeout((()=>{ct(t,o)}),10),z()&&(ut(t,e.scrollbarPadding,s),n(document.body.children).forEach((e=>{e===x()||e.contains(x())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))),q()||de.previousActiveElement||(de.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((()=>e.didOpen(o))),Q(t,k["no-transition"])},lt=e=>{const t=O();if(e.target!==t)return;const n=x();t.removeEventListener(ye,lt),n.style.overflowY="auto"},ct=(e,t)=>{ye&&le(t)?(e.style.overflowY="hidden",t.addEventListener(ye,lt)):e.style.overflowY="auto"},ut=(e,t,n)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!K(document.body,k.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),X(document.body,k.iosfix),ot(),nt()}})(),t&&"hidden"!==n&&tt(),setTimeout((()=>{e.scrollTop=0}))},dt=(e,t,n)=>{X(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),ne(t,"grid"),setTimeout((()=>{X(t,n.showClass.popup),t.style.removeProperty("opacity")}),10),X([document.documentElement,document.body],k.shown),n.heightAuto&&n.backdrop&&!n.toast&&X([document.documentElement,document.body],k["height-auto"])},ht=e=>{let t=O();t||new xn,t=O();const n=R();q()?oe(L()):pt(t,e),ne(n),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},pt=(e,t)=>{const n=D(),o=R();!t&&ae(N())&&(t=N()),ne(n),t&&(oe(t),o.setAttribute("data-button-to-replace",t.className)),o.parentNode.insertBefore(o,t),X([e,n],k.loading)},mt=e=>e.checked?1:0,gt=e=>e.checked?e.value:null,ft=e=>e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,wt=(e,t)=>{const n=O(),o=e=>yt[t.input](n,vt(e),t);l(t.inputOptions)||u(t.inputOptions)?(ht(N()),c(t.inputOptions).then((t=>{e.hideLoading(),o(t)}))):"object"==typeof t.inputOptions?o(t.inputOptions):s("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},bt=(e,t)=>{const n=e.getInput();oe(n),c(t.inputValue).then((o=>{n.value="number"===t.input?parseFloat(o)||0:"".concat(o),ne(n),n.focus(),e.hideLoading()})).catch((t=>{s("Error in inputValue promise: ".concat(t)),n.value="",ne(n),n.focus(),e.hideLoading()}))},yt={select:(e,t,n)=>{const o=ee(e,k.select),s=(e,t,o)=>{const s=document.createElement("option");s.value=o,J(s,t),s.selected=_t(o,n.inputValue),e.appendChild(s)};t.forEach((e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,o.appendChild(e),n.forEach((t=>s(e,t[1],t[0])))}else s(o,n,t)})),o.focus()},radio:(e,t,n)=>{const o=ee(e,k.radio);t.forEach((e=>{const t=e[0],s=e[1],i=document.createElement("input"),a=document.createElement("label");i.type="radio",i.name=k.radio,i.value=t,_t(t,n.inputValue)&&(i.checked=!0);const r=document.createElement("span");J(r,s),r.className=k.label,a.appendChild(i),a.appendChild(r),o.appendChild(a)}));const s=o.querySelectorAll("input");s.length&&s[0].focus()}},vt=e=>{const t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach(((e,n)=>{let o=e;"object"==typeof o&&(o=vt(o)),t.push([n,o])})):Object.keys(e).forEach((n=>{let o=e[n];"object"==typeof o&&(o=vt(o)),t.push([n,o])})),t},_t=(e,t)=>t&&t.toString()===e.toString(),kt=(e,n)=>{const o=Ce.innerParams.get(e);if(!o.input)return s('The "input" parameter is needed to be set when using returnInputValueOn'.concat(t(n)));const i=((e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return mt(n);case"radio":return gt(n);case"file":return ft(n);default:return t.inputAutoTrim?n.value.trim():n.value}})(e,o);o.inputValidator?Ct(e,i,n):e.getInput().checkValidity()?"deny"===n?xt(e,i):Ot(e,i):(e.enableButtons(),e.showValidationMessage(o.validationMessage))},Ct=(e,t,n)=>{const o=Ce.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>c(o.inputValidator(t,o.validationMessage)))).then((o=>{e.enableButtons(),e.enableInput(),o?e.showValidationMessage(o):"deny"===n?xt(e,t):Ot(e,t)}))},xt=(e,t)=>{const n=Ce.innerParams.get(e||void 0);n.showLoaderOnDeny&&ht(j()),n.preDeny?(Ce.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>c(n.preDeny(t,n.validationMessage)))).then((n=>{!1===n?e.hideLoading():e.closePopup({isDenied:!0,value:void 0===n?t:n})})).catch((t=>St(e||void 0,t)))):e.closePopup({isDenied:!0,value:t})},Et=(e,t)=>{e.closePopup({isConfirmed:!0,value:t})},St=(e,t)=>{e.rejectPromise(t)},Ot=(e,t)=>{const n=Ce.innerParams.get(e||void 0);n.showLoaderOnConfirm&&ht(),n.preConfirm?(e.resetValidationMessage(),Ce.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>c(n.preConfirm(t,n.validationMessage)))).then((n=>{ae(B())||!1===n?e.hideLoading():Et(e,void 0===n?t:n)})).catch((t=>St(e||void 0,t)))):Et(e,t)},Lt=(e,t,n)=>{t.popup.onclick=()=>{const t=Ce.innerParams.get(e);t&&(Pt(t)||t.timer||t.input)||n(Ue.close)}},Pt=e=>e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton;let Tt=!1;const It=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(Tt=!0)}}},At=e=>{e.container.onmousedown=()=>{e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(Tt=!0)}}},Bt=(e,t,n)=>{t.container.onclick=o=>{const s=Ce.innerParams.get(e);Tt?Tt=!1:o.target===t.container&&r(s.allowOutsideClick)&&n(Ue.backdrop)}},Nt=()=>N()&&N().click(),jt=(e,t,n)=>{const o=H();if(o.length)return(t+=n)===o.length?t=0:-1===t&&(t=o.length-1),o[t].focus();O().focus()},Rt=["ArrowRight","ArrowDown"],Mt=["ArrowLeft","ArrowUp"],Dt=(e,t,n)=>{const o=Ce.innerParams.get(e);o&&(o.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Ft(e,t,o):"Tab"===t.key?$t(t,o):[...Rt,...Mt].includes(t.key)?Ut(t.key):"Escape"===t.key&&Ht(t,o,n))},Ft=(e,t,n)=>{if(r(n.allowEnterKey)&&!t.isComposing&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;Nt(),t.preventDefault()}},$t=(e,t)=>{const n=e.target,o=H();let s=-1;for(let e=0;e<o.length;e++)if(n===o[e]){s=e;break}e.shiftKey?jt(0,s,-1):jt(0,s,1),e.stopPropagation(),e.preventDefault()},Ut=e=>{if(![N(),j(),M()].includes(document.activeElement))return;const t=Rt.includes(e)?"nextElementSibling":"previousElementSibling",n=document.activeElement[t];n instanceof HTMLElement&&n.focus()},Ht=(e,t,n)=>{r(t.allowEscapeKey)&&(e.preventDefault(),n(Ue.esc))},zt=e=>e instanceof Element||(e=>"object"==typeof e&&e.jquery)(e);const qt=()=>{if(de.timeout)return(()=>{const e=$(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.removeProperty("transition"),e.style.width="".concat(n,"%")})(),de.timeout.stop()},Vt=()=>{if(de.timeout){const e=de.timeout.start();return ce(e),e}};let Jt=!1;const Kt={};const Wt=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in Kt){const n=t.getAttribute(e);if(n)return void Kt[e].fire({template:n})}};var Yt=Object.freeze({isValidParameter:g,isUpdatableParameter:f,isDeprecatedParameter:w,argsToParams:e=>{const t={};return"object"!=typeof e[0]||zt(e[0])?["title","html","icon"].forEach(((n,o)=>{const i=e[o];"string"==typeof i||zt(i)?t[n]=i:void 0!==i&&s("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof i))})):Object.assign(t,e[0]),t},isVisible:()=>ae(O()),clickConfirm:Nt,clickDeny:()=>j()&&j().click(),clickCancel:()=>M()&&M().click(),getContainer:x,getPopup:O,getTitle:P,getHtmlContainer:T,getImage:I,getIcon:L,getInputLabel:()=>S(k["input-label"]),getCloseButton:U,getActions:D,getConfirmButton:N,getDenyButton:j,getCancelButton:M,getLoader:R,getFooter:F,getTimerProgressBar:$,getFocusableElements:H,getValidationMessage:B,isLoading:()=>O().hasAttribute("data-loading"),fire:function(){const e=this;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return new e(...n)},mixin:function(e){return class extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}},showLoading:ht,enableLoading:ht,getTimerLeft:()=>de.timeout&&de.timeout.getTimerLeft(),stopTimer:qt,resumeTimer:Vt,toggleTimer:()=>{const e=de.timeout;return e&&(e.running?qt():Vt())},increaseTimer:e=>{if(de.timeout){const t=de.timeout.increase(e);return ce(t,!0),t}},isTimerRunning:()=>de.timeout&&de.timeout.isRunning(),bindClickHandler:function(){Kt[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Jt||(document.body.addEventListener("click",Wt),Jt=!0)}});function Gt(){const e=Ce.innerParams.get(this);if(!e)return;const t=Ce.domCache.get(this);oe(t.loader),q()?e.icon&&ne(L()):Zt(t),Q([t.popup,t.actions],k.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Zt=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ne(t[0],"inline-block"):!ae(N())&&!ae(j())&&!ae(M())&&oe(e.actions)};var Xt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Qt(e,t,n,o){q()?rn(e,o):(he(n).then((()=>rn(e,o))),de.keydownTarget.removeEventListener("keydown",de.keydownHandler,{capture:de.keydownListenerCapture}),de.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),z()&&(null!==V.previousBodyPadding&&(document.body.style.paddingRight="".concat(V.previousBodyPadding,"px"),V.previousBodyPadding=null),(()=>{if(K(document.body,k.iosfix)){const e=parseInt(document.body.style.top,10);Q(document.body,k.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}})(),He()),Q([document.documentElement,document.body],[k.shown,k["height-auto"],k["no-backdrop"],k["toast-shown"]])}function en(e){e=on(e);const t=Xt.swalPromiseResolve.get(this),n=tn(this);this.isAwaitingPromise()?e.isDismissed||(nn(this),t(e)):n&&t(e)}const tn=e=>{const t=O();if(!t)return!1;const n=Ce.innerParams.get(e);if(!n||K(t,n.hideClass.popup))return!1;Q(t,n.showClass.popup),X(t,n.hideClass.popup);const o=x();return Q(o,n.showClass.backdrop),X(o,n.hideClass.backdrop),sn(e,t,n),!0};const nn=e=>{e.isAwaitingPromise()&&(Ce.awaitingPromise.delete(e),Ce.innerParams.get(e)||e._destroy())},on=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),sn=(e,t,n)=>{const o=x(),s=ye&&le(t);"function"==typeof n.willClose&&n.willClose(t),s?an(e,t,o,n.returnFocus,n.didClose):Qt(e,o,n.returnFocus,n.didClose)},an=(e,t,n,o,s)=>{de.swalCloseEventFinishedCallback=Qt.bind(null,e,n,o,s),t.addEventListener(ye,(function(e){e.target===t&&(de.swalCloseEventFinishedCallback(),delete de.swalCloseEventFinishedCallback)}))},rn=(e,t)=>{setTimeout((()=>{"function"==typeof t&&t.bind(e.params)(),e._destroy()}))};function ln(e,t,n){const o=Ce.domCache.get(e);t.forEach((e=>{o[e].disabled=n}))}function cn(e,t){if(!e)return!1;if("radio"===e.type){const n=e.parentNode.parentNode.querySelectorAll("input");for(let e=0;e<n.length;e++)n[e].disabled=t}else e.disabled=t}const un=e=>{const t={};return Object.keys(e).forEach((n=>{f(n)?t[n]=e[n]:o('Invalid parameter to update: "'.concat(n,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))})),t};const dn=e=>{hn(e),delete e.params,delete de.keydownHandler,delete de.keydownTarget,delete de.currentInstance},hn=e=>{e.isAwaitingPromise()?(pn(Ce,e),Ce.awaitingPromise.set(e,!0)):(pn(Xt,e),pn(Ce,e))},pn=(e,t)=>{for(const n in e)e[n].delete(t)};var mn=Object.freeze({hideLoading:Gt,disableLoading:Gt,getInput:function(e){const t=Ce.innerParams.get(e||this),n=Ce.domCache.get(e||this);return n?Y(n.popup,t.input):null},close:en,isAwaitingPromise:function(){return!!Ce.awaitingPromise.get(this)},rejectPromise:function(e){const t=Xt.swalPromiseReject.get(this);nn(this),t&&t(e)},closePopup:en,closeModal:en,closeToast:en,enableButtons:function(){ln(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){ln(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return cn(this.getInput(),!1)},disableInput:function(){return cn(this.getInput(),!0)},showValidationMessage:function(e){const t=Ce.domCache.get(this),n=Ce.innerParams.get(this);J(t.validationMessage,e),t.validationMessage.className=k["validation-message"],n.customClass&&n.customClass.validationMessage&&X(t.validationMessage,n.customClass.validationMessage),ne(t.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid",!0),o.setAttribute("aria-describedby",k["validation-message"]),G(o),X(o,k.inputerror))},resetValidationMessage:function(){const e=Ce.domCache.get(this);e.validationMessage&&oe(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Q(t,k.inputerror))},getProgressSteps:function(){return Ce.domCache.get(this).progressSteps},update:function(e){const t=O(),n=Ce.innerParams.get(this);if(!t||K(t,n.hideClass.popup))return o("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const s=un(e),i=Object.assign({},n,s);$e(this,i),Ce.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){const e=Ce.domCache.get(this),t=Ce.innerParams.get(this);t?(e.popup&&de.swalCloseEventFinishedCallback&&(de.swalCloseEventFinishedCallback(),delete de.swalCloseEventFinishedCallback),de.deferDisposalTimer&&(clearTimeout(de.deferDisposalTimer),delete de.deferDisposalTimer),"function"==typeof t.didDestroy&&t.didDestroy(),dn(this)):hn(this)}});let gn;class fn{constructor(){if("undefined"==typeof window)return;gn=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});const s=this._main(this.params);Ce.promise.set(this,s)}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(e=>{!e.backdrop&&e.allowOutsideClick&&o('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)b(t),e.toast&&y(t),v(t)})(Object.assign({},t,e)),de.currentInstance&&(de.currentInstance._destroy(),z()&&He()),de.currentInstance=this;const n=bn(e,t);Qe(n),Object.freeze(n),de.timeout&&(de.timeout.stop(),delete de.timeout),clearTimeout(de.restoreFocusTimeout);const s=yn(this);return $e(this,n),Ce.innerParams.set(this,n),wn(this,s,n)}then(e){return Ce.promise.get(this).then(e)}finally(e){return Ce.promise.get(this).finally(e)}}const wn=(e,t,n)=>new Promise(((o,s)=>{const i=t=>{e.closePopup({isDismissed:!0,dismiss:t})};Xt.swalPromiseResolve.set(e,o),Xt.swalPromiseReject.set(e,s),t.confirmButton.onclick=()=>(e=>{const t=Ce.innerParams.get(e);e.disableButtons(),t.input?kt(e,"confirm"):Ot(e,!0)})(e),t.denyButton.onclick=()=>(e=>{const t=Ce.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?kt(e,"deny"):xt(e,!1)})(e),t.cancelButton.onclick=()=>((e,t)=>{e.disableButtons(),t(Ue.cancel)})(e,i),t.closeButton.onclick=()=>i(Ue.close),((e,t,n)=>{Ce.innerParams.get(e).toast?Lt(e,t,n):(It(t),At(t),Bt(e,t,n))})(e,t,i),((e,t,n,o)=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),n.toast||(t.keydownHandler=t=>Dt(e,t,o),t.keydownTarget=n.keydownListenerCapture?window:O(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)})(e,de,n,i),((e,t)=>{"select"===t.input||"radio"===t.input?wt(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(l(t.inputValue)||u(t.inputValue))&&(ht(N()),bt(e,t))})(e,n),rt(n),vn(de,n,i),_n(t,n),setTimeout((()=>{t.container.scrollTop=0}))})),bn=(e,t)=>{const n=(e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Ge(n),Object.assign(qe(n),Ve(n),Je(n),Ke(n),We(n),Ye(n,ze))})(e),o=Object.assign({},d,t,n,e);return o.showClass=Object.assign({},d.showClass,o.showClass),o.hideClass=Object.assign({},d.hideClass,o.hideClass),o},yn=e=>{const t={popup:O(),container:x(),actions:D(),confirmButton:N(),denyButton:j(),cancelButton:M(),loader:R(),closeButton:U(),validationMessage:B(),progressSteps:A()};return Ce.domCache.set(e,t),t},vn=(e,t,n)=>{const o=$();oe(o),t.timer&&(e.timeout=new et((()=>{n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ne(o),setTimeout((()=>{e.timeout&&e.timeout.running&&ce(t.timer)}))))},_n=(e,t)=>{if(!t.toast)return r(t.allowEnterKey)?void(kn(e,t)||jt(0,-1,1)):Cn()},kn=(e,t)=>t.focusDeny&&ae(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ae(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!ae(e.confirmButton)||(e.confirmButton.focus(),0)),Cn=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(fn.prototype,mn),Object.assign(fn,Yt),Object.keys(mn).forEach((e=>{fn[e]=function(){if(gn)return gn[e](...arguments)}})),fn.DismissReason=Ue,fn.version="11.3.10";const xn=fn;return xn.default=xn,xn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},993:(e,t,n)=>{const o=n(839);e.exports={client:o,Client:o}},681:(e,t,n)=>{const o=n(604),s=n(49);e.exports=function(e,t){let n=void 0!==e.url?e.url:e.uri;if(s.isURL(n)||(n=`https://api.twitch.tv/kraken${"/"===n[0]?n:`/${n}`}`),s.isNode()){const s=Object.assign({method:"GET",json:!0},e);s.qs&&(n+=`?${new URLSearchParams(s.qs)}`);const i={};"fetchAgent"in this.opts.connection&&(i.agent=this.opts.connection.fetchAgent);const a=o(n,{...i,method:s.method,headers:s.headers,body:s.body});let r={};a.then((e=>(r={statusCode:e.status,headers:e.headers},s.json?e.json():e.text()))).then((e=>t(null,r,e)),(e=>t(e,r,null)))}else{const o=Object.assign({method:"GET",headers:{}},e,{url:n}),s=new XMLHttpRequest;s.open(o.method,o.url,!0);for(const e in o.headers)s.setRequestHeader(e,o.headers[e]);s.responseType="json",s.addEventListener("load",(e=>{4===s.readyState&&(200!==s.status?t(s.status,null,null):t(null,null,s.response))})),s.send()}}},839:(e,t,n)=>{const o=void 0!==n.g?n.g:"undefined"!=typeof window?window:{},s=o.WebSocket||n(726),i=o.fetch||n(604),a=n(681),r=n(641),l=n(378).EventEmitter,c=n(352),u=n(549),d=n(776),h=n(49);let p=!1;const m=function e(t){if(this instanceof e==0)return new e(t);this.opts=h.get(t,{}),this.opts.channels=this.opts.channels||[],this.opts.connection=this.opts.connection||{},this.opts.identity=this.opts.identity||{},this.opts.options=this.opts.options||{},this.clientId=h.get(this.opts.options.clientId,null),this._globalDefaultChannel=h.channel(h.get(this.opts.options.globalDefaultChannel,"#tmijs")),this._skipMembership=h.get(this.opts.options.skipMembership,!1),this._skipUpdatingEmotesets=h.get(this.opts.options.skipUpdatingEmotesets,!1),this._updateEmotesetsTimer=null,this._updateEmotesetsTimerDelay=h.get(this.opts.options.updateEmotesetsTimer,6e4),this.maxReconnectAttempts=h.get(this.opts.connection.maxReconnectAttempts,1/0),this.maxReconnectInterval=h.get(this.opts.connection.maxReconnectInterval,3e4),this.reconnect=h.get(this.opts.connection.reconnect,!0),this.reconnectDecay=h.get(this.opts.connection.reconnectDecay,1.5),this.reconnectInterval=h.get(this.opts.connection.reconnectInterval,1e3),this.reconnecting=!1,this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.secure=h.get(this.opts.connection.secure,!this.opts.connection.server&&!this.opts.connection.port),this.emotes="",this.emotesets={},this.channels=[],this.currentLatency=0,this.globaluserstate={},this.lastJoined="",this.latency=new Date,this.moderators={},this.pingLoop=null,this.pingTimeout=null,this.reason="",this.username="",this.userstate={},this.wasCloseCalled=!1,this.ws=null;let n="error";this.opts.options.debug&&(n="info"),this.log=this.opts.logger||c;try{c.setLevel(n)}catch(e){}this.opts.channels.forEach(((e,t,n)=>n[t]=h.channel(e))),l.call(this),this.setMaxListeners(0)};h.inherits(m,l);for(const e in r)m.prototype[e]=r[e];m.prototype.emits=function(e,t){for(let n=0;n<e.length;n++){const o=n<t.length?t[n]:t[t.length-1];this.emit.apply(this,[e[n]].concat(o))}},m.prototype.api=function(...e){p||(this.log.warn("Client.prototype.api is deprecated and will be removed for version 2.0.0"),p=!0),a(...e)},m.prototype.handleMessage=function(e){if(!e)return;this.listenerCount("raw_message")&&this.emit("raw_message",JSON.parse(JSON.stringify(e)),e);const t=h.channel(h.get(e.params[0],null));let n=h.get(e.params[1],null);const o=h.get(e.tags["msg-id"],null),s=e.tags=u.badges(u.badgeInfo(u.emotes(e.tags)));for(const e in s){if("emote-sets"===e||"ban-duration"===e||"bits"===e)continue;let t=s[e];"boolean"==typeof t?t=null:"1"===t?t=!0:"0"===t?t=!1:"string"==typeof t&&(t=h.unescapeIRC(t)),s[e]=t}if(null===e.prefix)switch(e.command){case"PING":this.emit("ping"),this._isConnected()&&this.ws.send("PONG");break;case"PONG":{const e=new Date;this.currentLatency=(e.getTime()-this.latency.getTime())/1e3,this.emits(["pong","_promisePing"],[[this.currentLatency]]),clearTimeout(this.pingTimeout);break}default:this.log.warn(`Could not parse message with no prefix:\n${JSON.stringify(e,null,4)}`)}else if("tmi.twitch.tv"===e.prefix)switch(e.command){case"002":case"003":case"004":case"372":case"375":case"CAP":case"SERVERCHANGE":break;case"001":this.username=e.params[0];break;case"376":{this.log.info("Connected to server."),this.userstate[this._globalDefaultChannel]={},this.emits(["connected","_promiseConnect"],[[this.server,this.port],[null]]),this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.pingLoop=setInterval((()=>{this._isConnected()&&this.ws.send("PING"),this.latency=new Date,this.pingTimeout=setTimeout((()=>{null!==this.ws&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer))}),h.get(this.opts.connection.timeout,9999))}),6e4);let e=h.get(this.opts.options.joinInterval,2e3);e<300&&(e=300);const t=new d(e),n=[...new Set([...this.opts.channels,...this.channels])];this.channels=[];for(let e=0;e<n.length;e++){const o=n[e];t.add((()=>{this._isConnected()&&this.join(o).catch((e=>this.log.error(e)))}))}t.next();break}case"NOTICE":{const s=[null],i=[t,o,n],a=[t,!0],r=[t,!1],l=[i,s],c=[i,[o]],u=`[${t}] ${n}`;switch(o){case"subs_on":this.log.info(`[${t}] This room is now in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribers"],[a,a,s]);break;case"subs_off":this.log.info(`[${t}] This room is no longer in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribersoff"],[r,r,s]);break;case"emote_only_on":this.log.info(`[${t}] This room is now in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonly"],[a,s]);break;case"emote_only_off":this.log.info(`[${t}] This room is no longer in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonlyoff"],[r,s]);break;case"slow_on":case"slow_off":case"followers_on_zero":case"followers_on":case"followers_off":case"host_on":case"host_off":break;case"r9k_on":this.log.info(`[${t}] This room is now in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbeta"],[a,a,s]);break;case"r9k_off":this.log.info(`[${t}] This room is no longer in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbetaoff"],[r,r,s]);break;case"room_mods":{const e=n.split(": "),o=(e.length>1?e[1]:"").toLowerCase().split(", ").filter((e=>e));this.emits(["_promiseMods","mods"],[[null,o],[t,o]]);break}case"no_mods":this.emits(["_promiseMods","mods"],[[null,[]],[t,[]]]);break;case"vips_success":{n.endsWith(".")&&(n=n.slice(0,-1));const e=n.split(": "),o=(e.length>1?e[1]:"").toLowerCase().split(", ").filter((e=>e));this.emits(["_promiseVips","vips"],[[null,o],[t,o]]);break}case"no_vips":this.emits(["_promiseVips","vips"],[[null,[]],[t,[]]]);break;case"already_banned":case"bad_ban_admin":case"bad_ban_anon":case"bad_ban_broadcaster":case"bad_ban_global_mod":case"bad_ban_mod":case"bad_ban_self":case"bad_ban_staff":case"usage_ban":this.log.info(u),this.emits(["notice","_promiseBan"],c);break;case"ban_success":this.log.info(u),this.emits(["notice","_promiseBan"],l);break;case"usage_clear":this.log.info(u),this.emits(["notice","_promiseClear"],c);break;case"usage_mods":this.log.info(u),this.emits(["notice","_promiseMods"],[i,[o,[]]]);break;case"mod_success":this.log.info(u),this.emits(["notice","_promiseMod"],l);break;case"usage_vips":this.log.info(u),this.emits(["notice","_promiseVips"],[i,[o,[]]]);break;case"usage_vip":case"bad_vip_grantee_banned":case"bad_vip_grantee_already_vip":case"bad_vip_max_vips_reached":case"bad_vip_achievement_incomplete":this.log.info(u),this.emits(["notice","_promiseVip"],[i,[o,[]]]);break;case"vip_success":this.log.info(u),this.emits(["notice","_promiseVip"],l);break;case"usage_mod":case"bad_mod_banned":case"bad_mod_mod":this.log.info(u),this.emits(["notice","_promiseMod"],c);break;case"unmod_success":this.log.info(u),this.emits(["notice","_promiseUnmod"],l);break;case"unvip_success":this.log.info(u),this.emits(["notice","_promiseUnvip"],l);break;case"usage_unmod":case"bad_unmod_mod":this.log.info(u),this.emits(["notice","_promiseUnmod"],c);break;case"usage_unvip":case"bad_unvip_grantee_not_vip":this.log.info(u),this.emits(["notice","_promiseUnvip"],c);break;case"color_changed":this.log.info(u),this.emits(["notice","_promiseColor"],l);break;case"usage_color":case"turbo_only_color":this.log.info(u),this.emits(["notice","_promiseColor"],c);break;case"commercial_success":this.log.info(u),this.emits(["notice","_promiseCommercial"],l);break;case"usage_commercial":case"bad_commercial_error":this.log.info(u),this.emits(["notice","_promiseCommercial"],c);break;case"hosts_remaining":{this.log.info(u);const e=isNaN(n[0])?0:parseInt(n[0]);this.emits(["notice","_promiseHost"],[i,[null,~~e]]);break}case"bad_host_hosting":case"bad_host_rate_exceeded":case"bad_host_error":case"usage_host":this.log.info(u),this.emits(["notice","_promiseHost"],[i,[o,null]]);break;case"already_r9k_on":case"usage_r9k_on":this.log.info(u),this.emits(["notice","_promiseR9kbeta"],c);break;case"already_r9k_off":case"usage_r9k_off":this.log.info(u),this.emits(["notice","_promiseR9kbetaoff"],c);break;case"timeout_success":this.log.info(u),this.emits(["notice","_promiseTimeout"],l);break;case"delete_message_success":this.log.info(`[${t} ${n}]`),this.emits(["notice","_promiseDeletemessage"],l);break;case"already_subs_off":case"usage_subs_off":this.log.info(u),this.emits(["notice","_promiseSubscribersoff"],c);break;case"already_subs_on":case"usage_subs_on":this.log.info(u),this.emits(["notice","_promiseSubscribers"],c);break;case"already_emote_only_off":case"usage_emote_only_off":this.log.info(u),this.emits(["notice","_promiseEmoteonlyoff"],c);break;case"already_emote_only_on":case"usage_emote_only_on":this.log.info(u),this.emits(["notice","_promiseEmoteonly"],c);break;case"usage_slow_on":this.log.info(u),this.emits(["notice","_promiseSlow"],c);break;case"usage_slow_off":this.log.info(u),this.emits(["notice","_promiseSlowoff"],c);break;case"usage_timeout":case"bad_timeout_admin":case"bad_timeout_anon":case"bad_timeout_broadcaster":case"bad_timeout_duration":case"bad_timeout_global_mod":case"bad_timeout_mod":case"bad_timeout_self":case"bad_timeout_staff":this.log.info(u),this.emits(["notice","_promiseTimeout"],c);break;case"untimeout_success":case"unban_success":this.log.info(u),this.emits(["notice","_promiseUnban"],l);break;case"usage_unban":case"bad_unban_no_ban":this.log.info(u),this.emits(["notice","_promiseUnban"],c);break;case"usage_delete":case"bad_delete_message_error":case"bad_delete_message_broadcaster":case"bad_delete_message_mod":this.log.info(u),this.emits(["notice","_promiseDeletemessage"],c);break;case"usage_unhost":case"not_hosting":this.log.info(u),this.emits(["notice","_promiseUnhost"],c);break;case"whisper_invalid_login":case"whisper_invalid_self":case"whisper_limit_per_min":case"whisper_limit_per_sec":case"whisper_restricted":case"whisper_restricted_recipient":this.log.info(u),this.emits(["notice","_promiseWhisper"],c);break;case"no_permission":case"msg_banned":case"msg_room_not_found":case"msg_channel_suspended":case"tos_ban":case"invalid_user":this.log.info(u),this.emits(["notice","_promiseBan","_promiseClear","_promiseUnban","_promiseTimeout","_promiseDeletemessage","_promiseMods","_promiseMod","_promiseUnmod","_promiseVips","_promiseVip","_promiseUnvip","_promiseCommercial","_promiseHost","_promiseUnhost","_promiseJoin","_promisePart","_promiseR9kbeta","_promiseR9kbetaoff","_promiseSlow","_promiseSlowoff","_promiseFollowers","_promiseFollowersoff","_promiseSubscribers","_promiseSubscribersoff","_promiseEmoteonly","_promiseEmoteonlyoff","_promiseWhisper"],[i,[o,t]]);break;case"msg_rejected":case"msg_rejected_mandatory":this.log.info(u),this.emit("automod",t,o,n);break;case"unrecognized_cmd":case"cmds_available":case"host_target_went_offline":case"msg_censored_broadcaster":case"msg_duplicate":case"msg_emoteonly":case"msg_verified_email":case"msg_ratelimit":case"msg_subsonly":case"msg_timedout":case"msg_bad_characters":case"msg_channel_blocked":case"msg_facebook":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_slowmode":case"msg_suspended":case"no_help":case"usage_disconnect":case"usage_help":case"usage_me":case"unavailable_command":this.log.info(u),this.emit("notice",t,o,n);break;default:n.includes("Login unsuccessful")||n.includes("Login authentication failed")||n.includes("Error logging in")||n.includes("Improperly formatted auth")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=n,this.log.error(this.reason),this.ws.close()):n.includes("Invalid NICK")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason="Invalid NICK.",this.log.error(this.reason),this.ws.close()):(this.log.warn(`Could not parse NOTICE from tmi.twitch.tv:\n${JSON.stringify(e,null,4)}`),this.emit("notice",t,o,n))}break}case"USERNOTICE":{const e=s["display-name"]||s.login,i=s["msg-param-sub-plan"]||"",a=h.unescapeIRC(h.get(s["msg-param-sub-plan-name"],""))||null,r={prime:i.includes("Prime"),plan:i,planName:a},l=~~(s["msg-param-streak-months"]||0),c=s["msg-param-recipient-display-name"]||s["msg-param-recipient-user-name"],u=~~s["msg-param-mass-gift-count"];switch(s["message-type"]=o,o){case"resub":this.emits(["resub","subanniversary"],[[t,e,l,n,s,r]]);break;case"sub":this.emits(["subscription","sub"],[[t,e,r,n,s]]);break;case"subgift":this.emit("subgift",t,e,l,c,r,s);break;case"anonsubgift":this.emit("anonsubgift",t,l,c,r,s);break;case"submysterygift":this.emit("submysterygift",t,e,u,r,s);break;case"anonsubmysterygift":this.emit("anonsubmysterygift",t,u,r,s);break;case"primepaidupgrade":this.emit("primepaidupgrade",t,e,r,s);break;case"giftpaidupgrade":{const n=s["msg-param-sender-name"]||s["msg-param-sender-login"];this.emit("giftpaidupgrade",t,e,n,s);break}case"anongiftpaidupgrade":this.emit("anongiftpaidupgrade",t,e,s);break;case"raid":{const e=s["msg-param-displayName"]||s["msg-param-login"],n=+s["msg-param-viewerCount"];this.emit("raided",t,e,n,s);break}case"ritual":{const o=s["msg-param-ritual-name"];"new_chatter"===o?this.emit("newchatter",t,e,s,n):this.emit("ritual",o,t,e,s,n);break}default:this.emit("usernotice",o,t,s,n)}break}case"HOSTTARGET":{const e=n.split(" "),o=~~e[1]||0;"-"===e[0]?(this.log.info(`[${t}] Exited host mode.`),this.emits(["unhost","_promiseUnhost"],[[t,o],[null]])):(this.log.info(`[${t}] Now hosting ${e[0]} for ${o} viewer(s).`),this.emit("hosting",t,e[0],o));break}case"CLEARCHAT":if(e.params.length>1){const o=h.get(e.tags["ban-duration"],null);null===o?(this.log.info(`[${t}] ${n} has been banned.`),this.emit("ban",t,n,null,e.tags)):(this.log.info(`[${t}] ${n} has been timed out for ${o} seconds.`),this.emit("timeout",t,n,null,~~o,e.tags))}else this.log.info(`[${t}] Chat was cleared by a moderator.`),this.emits(["clearchat","_promiseClear"],[[t],[null]]);break;case"CLEARMSG":if(e.params.length>1){const e=n,o=s.login;s["message-type"]="messagedeleted",this.log.info(`[${t}] ${o}'s message has been deleted.`),this.emit("messagedeleted",t,o,e,s)}break;case"RECONNECT":this.log.info("Received RECONNECT request from Twitch.."),this.log.info(`Disconnecting and reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.disconnect().catch((e=>this.log.error(e))),setTimeout((()=>this.connect().catch((e=>this.log.error(e)))),this.reconnectTimer);break;case"USERSTATE":e.tags.username=this.username,"mod"===e.tags["user-type"]&&(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].includes(this.username)||this.moderators[t].push(this.username)),h.isJustinfan(this.getUsername())||this.userstate[t]||(this.userstate[t]=s,this.lastJoined=t,this.channels.push(t),this.log.info(`Joined ${t}`),this.emit("join",t,h.username(this.getUsername()),!0)),e.tags["emote-sets"]!==this.emotes&&this._updateEmoteset(e.tags["emote-sets"]),this.userstate[t]=s;break;case"GLOBALUSERSTATE":this.globaluserstate=s,this.emit("globaluserstate",s),void 0!==e.tags["emote-sets"]&&this._updateEmoteset(e.tags["emote-sets"]);break;case"ROOMSTATE":if(h.channel(this.lastJoined)===t&&this.emit("_promiseJoin",null,t),e.tags.channel=t,this.emit("roomstate",t,e.tags),!h.hasOwn(e.tags,"subs-only")){if(h.hasOwn(e.tags,"slow"))if("boolean"!=typeof e.tags.slow||e.tags.slow){const n=[t,!0,~~e.tags.slow];this.log.info(`[${t}] This room is now in slow mode.`),this.emits(["slow","slowmode","_promiseSlow"],[n,n,[null]])}else{const e=[t,!1,0];this.log.info(`[${t}] This room is no longer in slow mode.`),this.emits(["slow","slowmode","_promiseSlowoff"],[e,e,[null]])}if(h.hasOwn(e.tags,"followers-only"))if("-1"===e.tags["followers-only"]){const e=[t,!1,0];this.log.info(`[${t}] This room is no longer in followers-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowersoff"],[e,e,[null]])}else{const n=[t,!0,~~e.tags["followers-only"]];this.log.info(`[${t}] This room is now in follower-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowers"],[n,n,[null]])}}break;default:this.log.warn(`Could not parse message from tmi.twitch.tv:\n${JSON.stringify(e,null,4)}`)}else if("jtv"===e.prefix)"MODE"===e.command?"+o"===n?(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].includes(e.params[2])||this.moderators[t].push(e.params[2]),this.emit("mod",t,e.params[2])):"-o"===n&&(this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].filter((t=>t!==e.params[2])),this.emit("unmod",t,e.params[2])):this.log.warn(`Could not parse message from jtv:\n${JSON.stringify(e,null,4)}`);else switch(e.command){case"353":this.emit("names",e.params[2],e.params[3].split(" "));break;case"366":break;case"JOIN":{const n=e.prefix.split("!")[0];h.isJustinfan(this.getUsername())&&this.username===n&&(this.lastJoined=t,this.channels.push(t),this.log.info(`Joined ${t}`),this.emit("join",t,n,!0)),this.username!==n&&this.emit("join",t,n,!1);break}case"PART":{let n=!1;const o=e.prefix.split("!")[0];if(this.username===o){n=!0,this.userstate[t]&&delete this.userstate[t];let e=this.channels.indexOf(t);-1!==e&&this.channels.splice(e,1),e=this.opts.channels.indexOf(t),-1!==e&&this.opts.channels.splice(e,1),this.log.info(`Left ${t}`),this.emit("_promisePart",null)}this.emit("part",t,o,n);break}case"WHISPER":{const t=e.prefix.split("!")[0];this.log.info(`[WHISPER] <${t}>: ${n}`),h.hasOwn(e.tags,"username")||(e.tags.username=t),e.tags["message-type"]="whisper";const o=h.channel(e.tags.username);this.emits(["whisper","message"],[[o,e.tags,n,!1]]);break}case"PRIVMSG":if(e.tags.username=e.prefix.split("!")[0],"jtv"===e.tags.username){const e=h.username(n.split(" ")[0]),o=n.includes("auto");if(n.includes("hosting you for")){const s=h.extractNumber(n);this.emit("hosted",t,e,s,o)}else n.includes("hosting you")&&this.emit("hosted",t,e,0,o)}else{const o=h.get(this.opts.options.messagesLogLevel,"info"),s=h.actionMessage(n);if(e.tags["message-type"]=s?"action":"chat",n=s?s[1]:n,h.hasOwn(e.tags,"bits"))this.emit("cheer",t,e.tags,n);else{if(h.hasOwn(e.tags,"msg-id")){if("highlighted-message"===e.tags["msg-id"]){const o=e.tags["msg-id"];this.emit("redeem",t,e.tags.username,o,e.tags,n)}else if("skip-subs-mode-message"===e.tags["msg-id"]){const o=e.tags["msg-id"];this.emit("redeem",t,e.tags.username,o,e.tags,n)}}else if(h.hasOwn(e.tags,"custom-reward-id")){const o=e.tags["custom-reward-id"];this.emit("redeem",t,e.tags.username,o,e.tags,n)}s?(this.log[o](`[${t}] *<${e.tags.username}>: ${n}`),this.emits(["action","message"],[[t,e.tags,n,!1]])):(this.log[o](`[${t}] <${e.tags.username}>: ${n}`),this.emits(["chat","message"],[[t,e.tags,n,!1]]))}}break;default:this.log.warn(`Could not parse message:\n${JSON.stringify(e,null,4)}`)}},m.prototype.connect=function(){return new Promise(((e,t)=>{this.server=h.get(this.opts.connection.server,"irc-ws.chat.twitch.tv"),this.port=h.get(this.opts.connection.port,80),this.secure&&(this.port=443),443===this.port&&(this.secure=!0),this.reconnectTimer=this.reconnectTimer*this.reconnectDecay,this.reconnectTimer>=this.maxReconnectInterval&&(this.reconnectTimer=this.maxReconnectInterval),this._openConnection(),this.once("_promiseConnect",(n=>{n?t(n):e([this.server,~~this.port])}))}))},m.prototype._openConnection=function(){const e=`${this.secure?"wss":"ws"}://${this.server}:${this.port}/`,t={};"agent"in this.opts.connection&&(t.agent=this.opts.connection.agent),this.ws=new s(e,"irc",t),this.ws.onmessage=this._onMessage.bind(this),this.ws.onerror=this._onError.bind(this),this.ws.onclose=this._onClose.bind(this),this.ws.onopen=this._onOpen.bind(this)},m.prototype._onOpen=function(){this._isConnected()&&(this.log.info(`Connecting to ${this.server} on port ${this.port}..`),this.emit("connecting",this.server,~~this.port),this.username=h.get(this.opts.identity.username,h.justinfan()),this._getToken().then((e=>{const t=h.password(e);this.log.info("Sending authentication to server.."),this.emit("logon");let n="twitch.tv/tags twitch.tv/commands";this._skipMembership||(n+=" twitch.tv/membership"),this.ws.send("CAP REQ :"+n),t?this.ws.send(`PASS ${t}`):h.isJustinfan(this.username)&&this.ws.send("PASS SCHMOOPIIE"),this.ws.send(`NICK ${this.username}`)})).catch((e=>{this.emits(["_promiseConnect","disconnected"],[[e],["Could not get a token."]])})))},m.prototype._getToken=function(){const e=this.opts.identity.password;let t;return"function"==typeof e?(t=e(),t instanceof Promise?t:Promise.resolve(t)):Promise.resolve(e)},m.prototype._onMessage=function(e){e.data.trim().split("\r\n").forEach((e=>{const t=u.msg(e);t&&this.handleMessage(t)}))},m.prototype._onError=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer),this.reason=null===this.ws?"Connection closed.":"Unable to connect.",this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout((()=>{this.reconnecting=!1,this.connect().catch((e=>this.log.error(e)))}),this.reconnectTimer)),this.ws=null},m.prototype._onClose=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer),this.wasCloseCalled?(this.wasCloseCalled=!1,this.reason="Connection closed.",this.log.info(this.reason),this.emits(["_promiseConnect","_promiseDisconnect","disconnected"],[[this.reason],[null],[this.reason]])):(this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Could not connect to server. Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout((()=>{this.reconnecting=!1,this.connect().catch((e=>this.log.error(e)))}),this.reconnectTimer))),this.ws=null},m.prototype._getPromiseDelay=function(){return this.currentLatency<=600?600:this.currentLatency+100},m.prototype._sendCommand=function(e,t,n,o){return new Promise(((s,i)=>{if(!this._isConnected())return i("Not connected to server.");if(null!==e&&"number"!=typeof e||(null===e&&(e=this._getPromiseDelay()),h.promiseDelay(e).then((()=>i("No response from Twitch.")))),null!==t){const e=h.channel(t);this.log.info(`[${e}] Executing command: ${n}`),this.ws.send(`PRIVMSG ${e} :${n}`)}else this.log.info(`Executing command: ${n}`),this.ws.send(n);"function"==typeof o?o(s,i):s()}))},m.prototype._sendMessage=function(e,t,n,o){return new Promise(((s,i)=>{if(!this._isConnected())return i("Not connected to server.");if(h.isJustinfan(this.getUsername()))return i("Cannot send anonymous messages.");const a=h.channel(t);if(this.userstate[a]||(this.userstate[a]={}),n.length>=500){const o=h.splitLine(n,500);n=o[0],setTimeout((()=>{this._sendMessage(e,t,o[1],(()=>{}))}),350)}this.ws.send(`PRIVMSG ${a} :${n}`);const r={};Object.keys(this.emotesets).forEach((e=>this.emotesets[e].forEach((e=>(h.isRegex(e.code)?u.emoteRegex:u.emoteString)(n,e.code,e.id,r)))));const l=Object.assign(this.userstate[a],u.emotes({emotes:u.transformEmotes(r)||null})),c=h.get(this.opts.options.messagesLogLevel,"info"),d=h.actionMessage(n);d?(l["message-type"]="action",this.log[c](`[${a}] *<${this.getUsername()}>: ${d[1]}`),this.emits(["action","message"],[[a,l,d[1],!0]])):(l["message-type"]="chat",this.log[c](`[${a}] <${this.getUsername()}>: ${n}`),this.emits(["chat","message"],[[a,l,n,!0]])),"function"==typeof o?o(s,i):s()}))},m.prototype._updateEmoteset=function(e){let t=void 0!==e;if(t&&(e===this.emotes?t=!1:this.emotes=e),this._skipUpdatingEmotesets)return void(t&&this.emit("emotesets",e,{}));const n=()=>{this._updateEmotesetsTimerDelay>0&&(clearTimeout(this._updateEmotesetsTimer),this._updateEmotesetsTimer=setTimeout((()=>this._updateEmoteset(e)),this._updateEmotesetsTimerDelay))};this._getToken().then((t=>{const n=`https://api.twitch.tv/kraken/chat/emoticon_images?emotesets=${e}`,o={};return"fetchAgent"in this.opts.connection&&(o.agent=this.opts.connection.fetchAgent),i(n,{...o,headers:{Accept:"application/vnd.twitchtv.v5+json",Authorization:`OAuth ${h.token(t)}`,"Client-ID":this.clientId}})})).then((e=>e.json())).then((t=>{this.emotesets=t.emoticon_sets||{},this.emit("emotesets",e,this.emotesets),n()})).catch((()=>n()))},m.prototype.getUsername=function(){return this.username},m.prototype.getOptions=function(){return this.opts},m.prototype.getChannels=function(){return this.channels},m.prototype.isMod=function(e,t){const n=h.channel(e);return this.moderators[n]||(this.moderators[n]=[]),this.moderators[n].includes(h.username(t))},m.prototype.readyState=function(){return null===this.ws?"CLOSED":["CONNECTING","OPEN","CLOSING","CLOSED"][this.ws.readyState]},m.prototype._isConnected=function(){return null!==this.ws&&1===this.ws.readyState},m.prototype.disconnect=function(){return new Promise(((e,t)=>{null!==this.ws&&3!==this.ws.readyState?(this.wasCloseCalled=!0,this.log.info("Disconnecting from server.."),this.ws.close(),this.once("_promiseDisconnect",(()=>e([this.server,~~this.port])))):(this.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing."),t("Cannot disconnect from server. Socket is not opened or connection is already closing."))}))},m.prototype.off=m.prototype.removeListener,e.exports&&(e.exports=m),"undefined"!=typeof window&&(window.tmi={client:m,Client:m})},641:(e,t,n)=>{const o=n(49);function s(e,t){return e=o.channel(e),t=o.get(t,30),this._sendCommand(null,e,`/followers ${t}`,((n,o)=>{this.once("_promiseFollowers",(s=>{s?o(s):n([e,~~t])}))}))}function i(e){return e=o.channel(e),this._sendCommand(null,e,"/followersoff",((t,n)=>{this.once("_promiseFollowersoff",(o=>{o?n(o):t([e])}))}))}function a(e){return e=o.channel(e),this._sendCommand(null,null,`PART ${e}`,((t,n)=>{this.once("_promisePart",(o=>{o?n(o):t([e])}))}))}function r(e){return e=o.channel(e),this._sendCommand(null,e,"/r9kbeta",((t,n)=>{this.once("_promiseR9kbeta",(o=>{o?n(o):t([e])}))}))}function l(e){return e=o.channel(e),this._sendCommand(null,e,"/r9kbetaoff",((t,n)=>{this.once("_promiseR9kbetaoff",(o=>{o?n(o):t([e])}))}))}function c(e,t){return e=o.channel(e),t=o.get(t,300),this._sendCommand(null,e,`/slow ${t}`,((n,o)=>{this.once("_promiseSlow",(s=>{s?o(s):n([e,~~t])}))}))}function u(e){return e=o.channel(e),this._sendCommand(null,e,"/slowoff",((t,n)=>{this.once("_promiseSlowoff",(o=>{o?n(o):t([e])}))}))}e.exports={action(e,t){return e=o.channel(e),t=`ACTION ${t}`,this._sendMessage(this._getPromiseDelay(),e,t,((n,o)=>{n([e,t])}))},ban(e,t,n){return e=o.channel(e),t=o.username(t),n=o.get(n,""),this._sendCommand(null,e,`/ban ${t} ${n}`,((o,s)=>{this.once("_promiseBan",(i=>{i?s(i):o([e,t,n])}))}))},clear(e){return e=o.channel(e),this._sendCommand(null,e,"/clear",((t,n)=>{this.once("_promiseClear",(o=>{o?n(o):t([e])}))}))},color(e,t){return t=o.get(t,e),this._sendCommand(null,"#tmijs",`/color ${t}`,((e,n)=>{this.once("_promiseColor",(o=>{o?n(o):e([t])}))}))},commercial(e,t){return e=o.channel(e),t=o.get(t,30),this._sendCommand(null,e,`/commercial ${t}`,((n,o)=>{this.once("_promiseCommercial",(s=>{s?o(s):n([e,~~t])}))}))},deletemessage(e,t){return e=o.channel(e),this._sendCommand(null,e,`/delete ${t}`,((t,n)=>{this.once("_promiseDeletemessage",(o=>{o?n(o):t([e])}))}))},emoteonly(e){return e=o.channel(e),this._sendCommand(null,e,"/emoteonly",((t,n)=>{this.once("_promiseEmoteonly",(o=>{o?n(o):t([e])}))}))},emoteonlyoff(e){return e=o.channel(e),this._sendCommand(null,e,"/emoteonlyoff",((t,n)=>{this.once("_promiseEmoteonlyoff",(o=>{o?n(o):t([e])}))}))},followersonly:s,followersmode:s,followersonlyoff:i,followersmodeoff:i,host(e,t){return e=o.channel(e),t=o.username(t),this._sendCommand(2e3,e,`/host ${t}`,((n,o)=>{this.once("_promiseHost",((s,i)=>{s?o(s):n([e,t,~~i])}))}))},join(e){return e=o.channel(e),this._sendCommand(void 0,null,`JOIN ${e}`,((t,n)=>{const s="_promiseJoin";let i=!1;const a=(r,l)=>{e===o.channel(l)&&(this.removeListener(s,a),i=!0,r?n(r):t([e]))};this.on(s,a);const r=this._getPromiseDelay();o.promiseDelay(r).then((()=>{i||this.emit(s,"No response from Twitch.",e)}))}))},mod(e,t){return e=o.channel(e),t=o.username(t),this._sendCommand(null,e,`/mod ${t}`,((n,o)=>{this.once("_promiseMod",(s=>{s?o(s):n([e,t])}))}))},mods(e){return e=o.channel(e),this._sendCommand(null,e,"/mods",((t,n)=>{this.once("_promiseMods",((o,s)=>{o?n(o):(s.forEach((t=>{this.moderators[e]||(this.moderators[e]=[]),this.moderators[e].includes(t)||this.moderators[e].push(t)})),t(s))}))}))},part:a,leave:a,ping(){return this._sendCommand(null,null,"PING",((e,t)=>{this.latency=new Date,this.pingTimeout=setTimeout((()=>{null!==this.ws&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))}),o.get(this.opts.connection.timeout,9999)),this.once("_promisePing",(t=>e([parseFloat(t)])))}))},r9kbeta:r,r9kmode:r,r9kbetaoff:l,r9kmodeoff:l,raw(e){return this._sendCommand(null,null,e,((t,n)=>{t([e])}))},say(e,t){return e=o.channel(e),t.startsWith(".")&&!t.startsWith("..")||t.startsWith("/")||t.startsWith("\\")?"me "===t.substr(1,3)?this.action(e,t.substr(4)):this._sendCommand(null,e,t,((n,o)=>{n([e,t])})):this._sendMessage(this._getPromiseDelay(),e,t,((n,o)=>{n([e,t])}))},slow:c,slowmode:c,slowoff:u,slowmodeoff:u,subscribers(e){return e=o.channel(e),this._sendCommand(null,e,"/subscribers",((t,n)=>{this.once("_promiseSubscribers",(o=>{o?n(o):t([e])}))}))},subscribersoff(e){return e=o.channel(e),this._sendCommand(null,e,"/subscribersoff",((t,n)=>{this.once("_promiseSubscribersoff",(o=>{o?n(o):t([e])}))}))},timeout(e,t,n,s){return e=o.channel(e),t=o.username(t),null===n||o.isInteger(n)||(s=n,n=300),n=o.get(n,300),s=o.get(s,""),this._sendCommand(null,e,`/timeout ${t} ${n} ${s}`,((o,i)=>{this.once("_promiseTimeout",(a=>{a?i(a):o([e,t,~~n,s])}))}))},unban(e,t){return e=o.channel(e),t=o.username(t),this._sendCommand(null,e,`/unban ${t}`,((n,o)=>{this.once("_promiseUnban",(s=>{s?o(s):n([e,t])}))}))},unhost(e){return e=o.channel(e),this._sendCommand(2e3,e,"/unhost",((t,n)=>{this.once("_promiseUnhost",(o=>{o?n(o):t([e])}))}))},unmod(e,t){return e=o.channel(e),t=o.username(t),this._sendCommand(null,e,`/unmod ${t}`,((n,o)=>{this.once("_promiseUnmod",(s=>{s?o(s):n([e,t])}))}))},unvip(e,t){return e=o.channel(e),t=o.username(t),this._sendCommand(null,e,`/unvip ${t}`,((n,o)=>{this.once("_promiseUnvip",(s=>{s?o(s):n([e,t])}))}))},vip(e,t){return e=o.channel(e),t=o.username(t),this._sendCommand(null,e,`/vip ${t}`,((n,o)=>{this.once("_promiseVip",(s=>{s?o(s):n([e,t])}))}))},vips(e){return e=o.channel(e),this._sendCommand(null,e,"/vips",((e,t)=>{this.once("_promiseVips",((n,o)=>{n?t(n):e(o)}))}))},whisper(e,t){return(e=o.username(e))===this.getUsername()?Promise.reject("Cannot send a whisper to the same account."):this._sendCommand(null,"#tmijs",`/w ${e} ${t}`,((e,t)=>{this.once("_promiseWhisper",(e=>{e&&t(e)}))})).catch((n=>{if(n&&"string"==typeof n&&0!==n.indexOf("No response from Twitch."))throw n;const s=o.channel(e),i=Object.assign({"message-type":"whisper","message-id":null,"thread-id":null,username:this.getUsername()},this.globaluserstate);return this.emits(["whisper","message"],[[s,i,t,!0],[s,i,t,!0]]),[e,t]}))}}},378:e=>{function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,i,a,r,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(s(i=this._events[e]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),i.apply(this,r)}else if(o(i))for(r=Array.prototype.slice.call(arguments,1),a=(c=i.slice()).length,l=0;l<a;l++)c[l].apply(this,r);return!0},t.prototype.addListener=function(e,i){var a;if(!n(i))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(i.listener)?i.listener:i),this._events[e]?o(this._events[e])?this._events[e].push(i):this._events[e]=[this._events[e],i]:this._events[e]=i,o(this._events[e])&&!this._events[e].warned&&(a=s(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var o=!1;if(this._events.hasOwnProperty(e)&&"_"===e.charAt(0)){var s=1,i=e;for(var a in this._events)this._events.hasOwnProperty(a)&&a.startsWith(i)&&s++;e+=s}function r(){"_"!==e.charAt(0)||isNaN(e.substr(e.length-1))||(e=e.substring(0,e.length-1)),this.removeListener(e,r),o||(o=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},t.prototype.removeListener=function(e,t){var s,i,a,r;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(s=this._events[e]).length,i=-1,s===t||n(s.listener)&&s.listener===t){if(delete this._events[e],this._events.hasOwnProperty(e+"2")&&"_"===e.charAt(0)){var l=e;for(var c in this._events)this._events.hasOwnProperty(c)&&c.startsWith(l)&&(isNaN(parseInt(c.substr(c.length-1)))||(this._events[e+parseInt(c.substr(c.length-1)-1)]=this._events[c],delete this._events[c]));this._events[e]=this._events[e+"1"],delete this._events[e+"1"]}this._events.removeListener&&this.emit("removeListener",e,t)}else if(o(s)){for(r=a;r-- >0;)if(s[r]===t||s[r].listener&&s[r].listener===t){i=r;break}if(i<0)return this;1===s.length?(s.length=0,delete this._events[e]):s.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,o;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(o=this._events[e]))this.removeListener(e,o);else if(o)for(;o.length;)this.removeListener(e,o[o.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},352:(e,t,n)=>{const o=n(49);let s="info";const i={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};function a(e){return function(t){i[e]>=i[s]&&console.log(`[${o.formatDate(new Date)}] ${e}: ${t}`)}}e.exports={setLevel(e){s=e},trace:a("trace"),debug:a("debug"),info:a("info"),warn:a("warn"),error:a("error"),fatal:a("fatal")}},549:(e,t,n)=>{const o=n(49),s=/\S+/g;function i(e,t,n=",",o="/",s){const i=e[t];if(void 0===i)return e;const a="string"==typeof i;if(e[t+"-raw"]=a?i:null,!0===i)return e[t]=null,e;if(e[t]={},a){const a=i.split(n);for(let n=0;n<a.length;n++){const i=a[n].split(o);let r=i[1];void 0!==s&&r&&(r=r.split(s)),e[t][i[0]]=r||null}}return e}e.exports={badges:e=>i(e,"badges"),badgeInfo:e=>i(e,"badge-info"),emotes:e=>i(e,"emotes","/",":",","),emoteRegex(e,t,n,i){s.lastIndex=0;const a=new RegExp("(\\b|^|\\s)"+o.unescapeHtml(t)+"(\\b|$|\\s)");let r;for(;null!==(r=s.exec(e));)a.test(r[0])&&(i[n]=i[n]||[],i[n].push([r.index,s.lastIndex-1]))},emoteString(e,t,n,i){let a;for(s.lastIndex=0;null!==(a=s.exec(e));)a[0]===o.unescapeHtml(t)&&(i[n]=i[n]||[],i[n].push([a.index,s.lastIndex-1]))},transformEmotes(e){let t="";return Object.keys(e).forEach((n=>{t=`${t+n}:`,e[n].forEach((e=>t=`${t+e.join("-")},`)),t=`${t.slice(0,-1)}/`})),t.slice(0,-1)},formTags(e){const t=[];for(const n in e){const s=o.escapeIRC(e[n]);t.push(`${n}=${s}`)}return`@${t.join(";")}`},msg(e){const t={raw:e,tags:{},prefix:null,command:null,params:[]};let n=0,o=0;if(64===e.charCodeAt(0)){if(o=e.indexOf(" "),-1===o)return null;const s=e.slice(1,o).split(";");for(let e=0;e<s.length;e++){const n=s[e],o=n.split("=");t.tags[o[0]]=n.substring(n.indexOf("=")+1)||!0}n=o+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(o=e.indexOf(" ",n),-1===o)return null;for(t.prefix=e.slice(n+1,o),n=o+1;32===e.charCodeAt(n);)n++}if(o=e.indexOf(" ",n),-1===o)return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,o),n=o+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(o=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===o){if(-1===o){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,o)),n=o+1;32===e.charCodeAt(n);)n++}return t}}},776:e=>{e.exports=class{constructor(e){this.queue=[],this.index=0,this.defaultDelay=void 0===e?3e3:e}add(e,t){this.queue.push({fn:e,delay:t})}next(){const e=this.index++,t=this.queue[e];if(!t)return;const n=this.queue[this.index];if(t.fn(),n){const e=void 0===n.delay?this.defaultDelay:n.delay;setTimeout((()=>this.next()),e)}}}},49:e=>{const t=/^\u0001ACTION ([^\u0001]+)\u0001$/,n=/^(justinfan)(\d+$)/,o=/\\([sn:r\\])/g,s=/([ \n;\r\\])/g,i={s:" ",n:"",":":";",r:""},a={" ":"s","\n":"n",";":":","\r":"r"},r=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),l=/[|\\^$*+?:#]/,c=e.exports={get:(e,t)=>void 0===e?t:e,hasOwn:(e,t)=>({}.hasOwnProperty.call(e,t)),promiseDelay:e=>new Promise((t=>setTimeout(t,e))),isFinite:e=>isFinite(e)&&!isNaN(parseFloat(e)),toNumber(e,t){if(null===e)return 0;const n=Math.pow(10,c.isFinite(t)?t:0);return Math.round(e*n)/n},isInteger:e=>!isNaN(c.toNumber(e,0)),isRegex:e=>l.test(e),isURL:e=>r.test(e),justinfan:()=>`justinfan${Math.floor(8e4*Math.random()+1e3)}`,isJustinfan:e=>n.test(e),channel(e){const t=(e||"").toLowerCase();return"#"===t[0]?t:"#"+t},username(e){const t=(e||"").toLowerCase();return"#"===t[0]?t.slice(1):t},token:e=>e?e.toLowerCase().replace("oauth:",""):"",password(e){const t=c.token(e);return t?`oauth:${t}`:""},actionMessage:e=>e.match(t),replaceAll(e,t){if(null==e)return null;for(const n in t)e=e.replace(new RegExp(n,"g"),t[n]);return e},unescapeHtml:e=>e.replace(/\\&amp\\;/g,"&").replace(/\\&lt\\;/g,"<").replace(/\\&gt\\;/g,">").replace(/\\&quot\\;/g,'"').replace(/\\&#039\\;/g,"'"),unescapeIRC:e=>e&&"string"==typeof e&&e.includes("\\")?e.replace(o,((e,t)=>t in i?i[t]:t)):e,escapeIRC:e=>e&&"string"==typeof e?e.replace(s,((e,t)=>t in a?`\\${a[t]}`:t)):e,addWord:(e,t)=>e.length?e+" "+t:e+t,splitLine(e,t){let n=e.substring(0,t).lastIndexOf(" ");return-1===n&&(n=t-1),[e.substring(0,n),e.substring(n+1)]},extractNumber(e){const t=e.split(" ");for(let e=0;e<t.length;e++)if(c.isInteger(t[e]))return~~t[e];return 0},formatDate(e){let t=e.getHours(),n=e.getMinutes();return t=(t<10?"0":"")+t,n=(n<10?"0":"")+n,`${t}:${n}`},inherits(e,t){e.super_=t;const n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},isNode(){try{return"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)}catch(e){}return!1}}},153:(e,t,n)=>{"use strict";var o=n(993),s=n(455),i=n.n(s);const a={toast:!0,position:"top-end",width:448,showConfirmButton:!1,showCloseButton:!0,timer:6e3,timerProgressBar:!0,color:"var(--text-color-1)",background:"var(--bg-color-1)",didOpen:e=>{e.addEventListener("mouseenter",i().stopTimer),e.addEventListener("mouseleave",i().resumeTimer)}};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function m(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},_=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.init(t,n)}return u(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||v,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,y(y({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}()),k=function(){function e(){l(this,e),this.observers={}}return u(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(this.observers[e]){var s=[].concat(this.observers[e]);s.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var i=[].concat(this.observers["*"]);i.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function C(){var e,t,n=new Promise((function(n,o){e=n,t=o}));return n.resolve=e,n.reject=t,n}function x(e){return null==e?"":""+e}function E(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function S(e,t,n){function o(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function s(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(s())return{};var a=o(i.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return s()?{}:{obj:e,k:o(i.shift())}}function O(e,t,n){var o=S(e,t,Object);o.obj[o.k]=n}function L(e,t){var n=S(e,t),o=n.obj,s=n.k;if(o)return o[s]}function P(e,t,n){var o=L(e,n);return void 0!==o?o:L(t,n)}function T(e,t,n){for(var o in t)"__proto__"!==o&&"constructor"!==o&&(o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof t[o]||t[o]instanceof String?n&&(e[o]=t[o]):T(e[o],t[o],n):e[o]=t[o]);return e}function I(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function B(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return A[e]})):e}var N="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,j=[" ",",","?","!",";"];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var o=t.split(n),s=e,i=0;i<o.length;++i){if(!s)return;if("string"==typeof s[o[i]]&&i+1<o.length)return;if(void 0===s[o[i]]){for(var a=2,r=o.slice(i,i+a).join(n),l=s[r];void 0===l&&o.length>i+a;)a++,l=s[r=o.slice(i,i+a).join(n)];if(void 0===l)return;if(t.endsWith(r)){if("string"==typeof l)return l;if(r&&"string"==typeof l[r])return l[r]}var c=o.slice(i+a).join(n);return c?D(l,c,n):void 0}s=s[o[i]]}return s}}var F=function(e){p(s,e);var t,n,o=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=g(t);if(n){var s=g(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return m(this,e)});function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return l(this,s),t=o.call(this),N&&k.call(d(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return u(s,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,i=void 0!==o.ignoreJSONStructure?o.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(a=e.split("."));var r=L(this.data,a);return r||!i||"string"!=typeof n?r:D(this.data&&this.data[e]&&this.data[e][t],n,s)}},{key:"addResource",value:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=t,t=(a=e.split("."))[1]),this.addNamespaces(t),O(this.data,a,o),s.silent||this.emit("added",e,t,n,o)}},{key:"addResources",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var s in n)"string"!=typeof n[s]&&"[object Array]"!==Object.prototype.toString.apply(n[s])||this.addResource(e,t,s,n[s],{silent:!0});o.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,o,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(o=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var r=L(this.data,a)||{};o?T(r,n,s):r=M(M({},r),n),O(this.data,a,r),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?M(M({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),s}(k),$={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,o,s){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,o,s))})),t}};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z={},q=function(e){p(s,e);var t,n,o=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=g(t);if(n){var s=g(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return m(this,e)});function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(this,s),t=o.call(this),N&&k.call(d(t)),E(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,d(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=_.create("translator"),t}return u(s,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=t.ns||this.options.defaultNS||[],i=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var o=j.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===o.length)return!0;var s=new RegExp("(".concat(o.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),i=!s.test(e);if(!i){var a=e.indexOf(n);a>0&&!s.test(e.substring(0,a))&&(i=!0)}return i}(e,n,o));if(i&&!a){var r=e.match(this.interpolator.nestingRegexp);if(r&&r.length>0)return{key:e,namespaces:s};var l=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(l[0])>-1)&&(s=l.shift()),e=l.join(o)}return"string"==typeof s&&(s=[s]),{key:e,namespaces:s}}},{key:"translate",value:function(e,t,n){var o=this;if("object"!==r(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],t),l=a.key,c=a.namespaces,u=c[c.length-1],d=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(h){var p=t.nsSeparator||this.options.nsSeparator;return u+p+l}return l}var m=this.resolve(e,t),g=m&&m.res,f=m&&m.usedKey||l,w=m&&m.exactUsedKey||l,b=Object.prototype.toString.apply(g),y=["[object Number]","[object Function]","[object RegExp]"],v=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(_&&g&&k&&y.indexOf(b)<0&&("string"!=typeof v||"[object Array]"!==b)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,g,H(H({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");if(i){var C="[object Array]"===b,x=C?[]:{},E=C?w:f;for(var S in g)if(Object.prototype.hasOwnProperty.call(g,S)){var O="".concat(E).concat(i).concat(S);x[S]=this.translate(O,H(H({},t),{joinArrays:!1,ns:c})),x[S]===O&&(x[S]=g[S])}g=x}}else if(_&&"string"==typeof v&&"[object Array]"===b)(g=g.join(v))&&(g=this.extendTranslation(g,e,t,n));else{var L=!1,P=!1,T=void 0!==t.count&&"string"!=typeof t.count,I=s.hasDefaultValue(t),A=T?this.pluralResolver.getSuffix(d,t.count,t):"",B=t["defaultValue".concat(A)]||t.defaultValue;!this.isValidLookup(g)&&I&&(L=!0,g=B),this.isValidLookup(g)||(P=!0,g=l);var N=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,j=N&&P?void 0:g,R=I&&B!==g&&this.options.updateMissing;if(P||L||R){if(this.logger.log(R?"updateKey":"missingKey",d,u,l,R?B:g),i){var M=this.resolve(l,H(H({},t),{},{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var D=[],F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&F&&F[0])for(var $=0;$<F.length;$++)D.push(F[$]);else"all"===this.options.saveMissingTo?D=this.languageUtils.toResolveHierarchy(t.lng||this.language):D.push(t.lng||this.language);var U=function(e,n,s){var i=I&&s!==g?s:j;o.options.missingKeyHandler?o.options.missingKeyHandler(e,u,n,i,R,t):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,u,n,i,R,t),o.emit("missingKey",e,u,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?D.forEach((function(e){o.pluralResolver.getSuffixes(e).forEach((function(n){U([e],l+n,t["defaultValue".concat(n)]||B)}))})):U(D,l,B))}g=this.extendTranslation(g,e,t,m,n),P&&g===l&&this.options.appendNamespaceToMissingKey&&(g="".concat(u,":").concat(l)),(P||L)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(l,L?g:void 0):this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function(e,t,n,o,s){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(H(H({},n),{interpolation:H(H({},this.options.interpolation),n.interpolation)}));var a,r="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(r){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=H(H({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),r){var u=e.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return s&&s[0]===o[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(o[0]," in key: ").concat(t[0])),null):i.translate.apply(i,o.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,h="string"==typeof d?[d]:d;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=$.handle(h,e,t,this.options&&this.options.postProcessPassResolved?H({i18nResolved:o},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,o,s,i,a=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,r),c=l.key;n=c;var u=l.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var d=void 0!==r.count&&"string"!=typeof r.count,h=d&&!r.ordinal&&0===r.count&&a.pluralResolver.shouldUseIntlApi(),p=void 0!==r.context&&("string"==typeof r.context||"number"==typeof r.context)&&""!==r.context,m=r.lngs?r.lngs:a.languageUtils.toResolveHierarchy(r.lng||a.language,r.fallbackLng);u.forEach((function(e){a.isValidLookup(t)||(i=e,!z["".concat(m[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(z["".concat(m[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(m.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach((function(n){if(!a.isValidLookup(t)){s=n;var i,l=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(l,c,n,e,r);else{var u;d&&(u=a.pluralResolver.getSuffix(n,r.count,r));var m="_zero";if(d&&(l.push(c+u),h&&l.push(c+m)),p){var g="".concat(c).concat(a.options.contextSeparator).concat(r.context);l.push(g),d&&(l.push(g+u),h&&l.push(g+m))}}for(;i=l.pop();)a.isValidLookup(t)||(o=i,t=a.getResource(n,e,i,r))}})))}))}})),{res:t,usedKey:n,exactUsedKey:o,usedLng:s,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,o):this.resourceStore.getResource(e,t,n,o)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),s}(k);function V(e){return e.charAt(0).toUpperCase()+e.slice(1)}var J=function(){function e(t){l(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_.create("languageUtils")}return u(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=V(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=V(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=V(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var o=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(o)||(t=o)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var o=n.getLanguagePartFromCode(e);if(n.isSupportedCode(o))return t=o;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(o))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,o=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],i=function(e){e&&(n.isSupportedCode(e)?s.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),o.forEach((function(e){s.indexOf(e)<0&&i(n.formatLanguageCode(e))})),s}}]),e}(),K=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],W={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Y=["v1","v2","v3"],G={zero:0,one:1,two:2,few:3,many:4,other:5};function Z(){var e={};return K.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:W[t.fc]}}))})),e}var X=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.languageUtils=t,this.options=n,this.logger=_.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Z()}return u(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.getRule(e,n);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort((function(e,t){return G[e]-G[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):o.numbers.map((function(o){return t.getSuffix(e,o,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.getRule(e,n);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(t)):this.getSuffixRetroCompatible(o,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,o=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),s=e.numbers[o];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===s?s="plural":1===s&&(s=""));var i=function(){return n.options.prepend&&s.toString()?n.options.prepend+s.toString():s.toString()};return"v1"===this.options.compatibilityJSON?1===s?"":"number"==typeof s?"_plural_".concat(s.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!Y.includes(this.options.compatibilityJSON)}}]),e}();function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e),this.logger=_.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return u(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:B,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?I(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?I(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?I(t.nestingPrefix):t.nestingPrefixEscaped||I("$t("),this.nestingSuffix=t.nestingSuffix?I(t.nestingSuffix):t.nestingSuffixEscaped||I(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,o){var s,i,a,r=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(r.formatSeparator)<0){var s=P(t,l,e);return r.alwaysFormat?r.format(s,void 0,n,ee(ee(ee({},o),t),{},{interpolationkey:e})):s}var i=e.split(r.formatSeparator),a=i.shift().trim(),c=i.join(r.formatSeparator).trim();return r.format(P(t,l,a),c,n,ee(ee(ee({},o),t),{},{interpolationkey:a}))};this.resetRegExp();var d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,h=o&&o.interpolation&&void 0!==o.interpolation.skipOnVariables?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return r.escapeValue?c(r.escape(e)):c(e)}}].forEach((function(t){for(a=0;s=t.regex.exec(e);){var n=s[1].trim();if(void 0===(i=u(n)))if("function"==typeof d){var l=d(e,s,o);i="string"==typeof l?l:""}else if(o&&o.hasOwnProperty(n))i="";else{if(h){i=s[0];continue}r.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"==typeof i||r.useRawValueToEscape||(i=x(i));var c=t.safeValue(i);if(e=e.replace(s[0],c),h?(t.regex.lastIndex+=c.length,t.regex.lastIndex-=s[0].length):t.regex.lastIndex=0,++a>=r.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,o,s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=ee({},i);function r(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var o=e.split(new RegExp("".concat(n,"[ ]*{"))),s="{".concat(o[1]);e=o[0],s=(s=this.interpolate(s,a)).replace(/'/g,'"');try{a=JSON.parse(s),t&&(a=ee(ee({},t),a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(s)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((o=t(r.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof o)return o;"string"!=typeof o&&(o=x(o)),o||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),o=""),c&&(o=l.reduce((function(e,t){return s.format(e,t,i.lng,ee(ee({},i),{},{interpolationkey:n[1].trim()}))}),o.trim())),e=e.replace(n[0],o),this.regexp.lastIndex=0}return e}}]),e}();function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e),this.logger=_.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,oe(oe({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,oe({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,oe({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,oe({},n)).format(e)}},this.init(t)}return u(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,o){var s=this;return t.split(this.formatSeparator).reduce((function(e,t){var i=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var o=e.split("(");t=o[0].toLowerCase().trim();var s=o[1].substring(0,o[1].length-1);"currency"===t&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):"relativetime"===t&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach((function(e){if(e){var t=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":")),o=t[0],s=t.slice(1).join(":");"false"===s.trim()&&(n[o.trim()]=!1),"true"===s.trim()&&(n[o.trim()]=!0),isNaN(s.trim())||(n[o.trim()]=parseInt(s.trim(),10)),n[o.trim()]||(n[o.trim()]=s.trim())}}))}return{formatName:t,formatOptions:n}}(t),a=i.formatName,r=i.formatOptions;if(s.formats[a]){var l=e;try{var c=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},u=c.locale||c.lng||o.locale||o.lng||n;l=s.formats[a](e,u,oe(oe(oe({},r),o),c))}catch(e){s.logger.warn(e)}return l}return s.logger.warn("there was no format function for ".concat(a)),e}),e)}}]),e}();function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){p(s,e);var t,n,o=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=g(t);if(n){var s=g(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return m(this,e)});function s(e,t,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l(this,s),i=o.call(this),N&&k.call(d(i)),i.backend=e,i.store=t,i.services=n,i.languageUtils=n.languageUtils,i.options=a,i.logger=_.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(n,a.backend,a),i}return u(s,[{key:"queueLoad",value:function(e,t,n,o){var s=this,i=[],a=[],r=[],l=[];return e.forEach((function(e){var o=!0;t.forEach((function(t){var r="".concat(e,"|").concat(t);!n.reload&&s.store.hasResourceBundle(e,t)?s.state[r]=2:s.state[r]<0||(1===s.state[r]?a.indexOf(r)<0&&a.push(r):(s.state[r]=1,o=!1,a.indexOf(r)<0&&a.push(r),i.indexOf(r)<0&&i.push(r),l.indexOf(t)<0&&l.push(t)))})),o||r.push(e)})),(i.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:o}),{toLoad:i,pending:a,toLoadLanguages:r,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var o=e.split("|"),s=o[0],i=o[1];t&&this.emit("failedLoading",s,i,t),n&&this.store.addResourceBundle(s,i,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,o){var s=S(e,t,Object),i=s.obj,a=s.k;i[a]=i[a]||[],i[a].push(n)}(n.loaded,[s],i),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var o=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(r,l){r&&l&&s<5?setTimeout((function(){o.read.call(o,e,t,n,s+1,2*i,a)}),i):a(r,l)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,o,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.split("|"),s=o[0],i=o[1];this.read(s,i,"read",void 0,void 0,(function(o,a){o&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(s," failed"),o),!o&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(s),a),t.loaded(e,o,a)}))}},{key:"saveMissing",value:function(e,t,n,o,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,o,null,ae(ae({},i),{},{isUpdate:s})),e&&e[0]&&this.store.addResource(e[0],t,n,o))}}]),s}(k);function le(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===r(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===r(e[2])||"object"===r(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,o){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ce(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(){}function pe(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var me=function(e){p(s,e);var t,n,o=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=g(t);if(n){var s=g(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return m(this,e)});function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(l(this,s),e=o.call(this),N&&k.call(d(e)),e.options=ce(t),e.services={},e.logger=_,e.modules={external:[]},pe(d(e)),n&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,n),m(e,d(e));setTimeout((function(){e.init(t,n)}),0)}return e}return u(s,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var o=le();function s(e){return e?"function"==typeof e?new e:e:null}if(this.options=de(de(de({},o),this.options),ce(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=de(de({},o.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var i;this.modules.logger?_.init(s(this.modules.logger),this.options):_.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=se);var a=new J(this.options);this.store=new F(this.options.resources,this.options);var r=this.services;r.logger=_,r.resourceStore=this.store,r.languageUtils=a,r.pluralResolver=new X(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(r.formatter=s(i),r.formatter.init(r,this.options),this.options.interpolation.format=r.formatter.format.bind(r.formatter)),r.interpolator=new te(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new re(s(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",(function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];e.emit.apply(e,[t].concat(o))})),this.modules.languageDetector&&(r.languageDetector=s(this.modules.languageDetector),r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=s(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new q(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];e.emit.apply(e,[t].concat(o))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=he),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var d=C(),h=function(){var t=function(t,o){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),d.resolve(o),n(t,o)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),d}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he,o=n,s="string"==typeof e?e:this.language;if("function"==typeof e&&(o=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&"cimode"===s.toLowerCase())return o();var i=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};if(s)a(s);else{var r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);r.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(i,this.options.ns,o)}else o(null)}},{key:"reloadResources",value:function(e,t,n){var o=C();return e||(e=this.languages),t||(t=this.options.ns),n||(n=he),this.services.backendConnector.reload(e,t,(function(e){o.resolve(),n(e)})),o}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&$.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var o=C();this.emit("languageChanging",e);var s=function(e){if(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<n.languages.length;t++){var o=n.languages[t];if(!(["cimode","dev"].indexOf(o)>-1)&&n.store.hasLanguageSomeTranslations(o)){n.resolvedLanguage=o;break}}},i=function(i){e||i||!n.services.languageDetector||(i=[]);var a="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);a&&(n.language||s(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,i){i?(s(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,o.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(e,t,n){var o=this,s=function e(t,s){var i;if("object"!==r(s)){for(var a=arguments.length,l=new Array(a>2?a-2:0),c=2;c<a;c++)l[c-2]=arguments[c];i=o.options.overloadTranslationOptionHandler([t,s].concat(l))}else i=de({},s);i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns;var u=o.options.keySeparator||".",d=n?"".concat(n).concat(u).concat(t):t;return o.t(d,i)};return"string"==typeof e?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=n,s}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.resolvedLanguage||this.languages[0],s=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;var a=function(e,n){var o=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===o||2===o};if(n.precheck){var r=n.precheck(this,a);if(void 0!==r)return r}return!!this.hasResourceBundle(o,e)||!this.services.backendConnector.backend||!(!a(o,e)||s&&!a(i,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,o=C();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){o.resolve(),t&&t(e)})),o):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=C();"string"==typeof e&&(e=[e]);var o=this.options.preload||[],s=e.filter((function(e){return o.indexOf(e)<0}));return s.length?(this.options.preload=o.concat(s),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he,o=de(de(de({},this.options),t),{isClone:!0}),i=new s(o),a=["store","services","language"];return a.forEach((function(t){i[t]=e[t]})),i.services=de({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new q(i.services,i.options),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.emit.apply(i,[e].concat(n))})),i.init(o,n),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),s}(k);f(me,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new me(e,t)}));var ge=me.createInstance();ge.createInstance=me.createInstance,ge.createInstance,ge.init,ge.loadResources,ge.reloadResources,ge.use,ge.changeLanguage,ge.getFixedT,ge.t,ge.exists,ge.setDefaultNamespace,ge.hasLoadedNamespace,ge.loadNamespaces,ge.loadLanguages;const fe=ge;var we=[],be=we.forEach,ye=we.slice;function ve(e){return be.call(ye.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var _e=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ke=function(e,t,n){var o=n||{};o.path=o.path||"/";var s=e+"="+encodeURIComponent(t);if(o.maxAge>0){var i=o.maxAge-0;if(isNaN(i))throw new Error("maxAge should be a Number");s+="; Max-Age="+Math.floor(i)}if(o.domain){if(!_e.test(o.domain))throw new TypeError("option domain is invalid");s+="; Domain="+o.domain}if(o.path){if(!_e.test(o.path))throw new TypeError("option path is invalid");s+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(s+="; HttpOnly"),o.secure&&(s+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s},Ce={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var s=n[o];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+60*n*1e3)),o&&(s.domain=o),document.cookie=ke(e,encodeURIComponent(t),s)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},xe={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),o=0;o<n.length;o++){var s=n[o].indexOf("=");s>0&&n[o].substring(0,s)===e.lookupQuerystring&&(t=n[o].substring(s+1))}return t}},Ee=null,Se=function(){if(null!==Ee)return Ee;try{Ee="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Ee=!1}return Ee},Oe={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&Se()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&Se()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Le=null,Pe=function(){if(null!==Le)return Le;try{Le="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Le=!1}return Le},Te={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&Pe()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&Pe()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},Ie={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Ae={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},Be={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},Ne={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}},je=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return u(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=ve(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Ce),this.addDetector(xe),this.addDetector(Oe),this.addDetector(Te),this.addDetector(Ie),this.addDetector(Ae),this.addDetector(Be),this.addDetector(Ne)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var o=t.detectors[e].lookup(t.options);o&&"string"==typeof o&&(o=[o]),o&&(n=n.concat(o))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();je.type="languageDetector";const Re={page:JSON.parse('{"logout":"Logout","darkmode":"Dark Theme","lightmode":"Light Theme","reqFailed":"Request failed.","noChannel":"No connected chatroom","reqDelay":"Retry after {{time}} seconds.","serverError":"Server error","unknownErrorOccured":"An unknown error has occurred.","authFailed":"Authentication failed. Please refresh and try again.","channelIdInputPh":"Channel ID","connect":"Connect","recentConnection":"Recent connections","onlineFollowed":"Online (Followed)","getMore":"Get more","refresh":"Refresh","loginTwitch":"Login with Twitch","setting":"Setting","filterSetting":"Filter setting","reverseChatOrder":"Reverse Chat Position","chatFontSize":"Chat Font Size","fontSmall":"Small","fontDefault":"Default","fontBig":"Big","fontBigger":"Bigger","chat":"Chat","add":"Add","search":"Search","tokenRefreshed":"Session has been renewed. Please try again.","reqFailedMessage":"The request failed. Please try again.","contactDeveloper":"Contact Developer","advertise":"Get the web version of Twitch Badge Collector!","advertiseChat":"Get the web version of Twitch Badge Collector! https://wtbc.bluewarn.dev"}'),filterPage:JSON.parse('{"title":"{{APP_NAME}} :: Filter Setting","addFilter":"Add Filter","searchBadges":"Search badges","filterList":"Filter list","filterDelete":"Delete Filter","filterApply":"Apply Filter","filterInitConfirm":"All existing filters are reset.","filterDeleteAllConfirm":"Delete all filters.","filterDeleteConfirm":"{{length}} filters are deleted.","searchBadgeDescription":"If you omit the channel name, the Twitch global badge will search.","addFilterInputPlaceholder":"enter your contents","searchChannelInputPlaceholder":"channel","searchBadgeInputPlaceholder":"search badge lists","searchFilterInputPlaceholder":"search filter lists","noInputValue":"Please enter your content.","filterAlreadyExist":"That filter already exists.","uploadFilter":"Upload Filter","noMetaInFile":"No metadate in your files.","noFilterID":"Filter ID not found.","displaySearchResult":"Total of {{count}} search results.","bits":"Bits","tier":"Tier","condition":"cond.","contents":"contents","category":"category","badgeName":"badge name","note":"note","channel":"channel","removeSelection":"Remove","removeAll":"Remove All","backupFile":"Backup to files","uploadFile":"Upload file"}'),chatSaver:JSON.parse('{"title":"{{APP_NAME}} :: Save Chat","saveChat":"Save Chat","saveChat_description":"Save Chat as Image","saveChat_description_1":"Only available with the [ {{settingName}} ] setting.","selectChatRoom":"Select Chat Room","InputImageWidthPlaceholder":"Image Width (px)","InputFilenamePlaceholder":"filename","download":"Download","selectChat":"Select Chat","selectChatRoomError":"Please select chat room.","noChatList":"No Chat Lists","insertChatClient":"Insert Chat Client"}'),tmi:JSON.parse('{"connecting":"connecting Twitch chat server..","connected":"connected to chat server.","channelNotFound":"#{{channel}} channel not found.","emoteEnabled":"{{channel}} channel has emote-only mode enabled.","emoteDisabled":"emote-only mode is disabled for channel {{channel}}.","followerEnabled":"Channel {{channel}} has follower only chat active for {{length}} minutes.","followerDisabled":"Follower only chat is disabled on channel {{channel}}.","slowModeEnabled":"{{channel}} {{length}} second slow mode enabled.","slowModeDisabled":"{{channel}} slow mode disabled.","messageDeleted":"Message deleted.","claerchat":"All chats on {{channel}} have been deleted.","timeout":"You are banned for {{duration}} seconds.","subscribersEnabled":"#{{channel}} Subscriber-only chat enabled.","subscribersDisabled":"#{{channel}} Subscriber-only chat disabled","hosting":"Hosting #{{target}}.","raid":"[raid] {{username}} is raiding with a party of {{viewers}}","chatConnecting":"Connecting #{{channel}}..","chatConnectFailed":"Failed to connect {{channel}} chatroom.","chatConnected":"connected #{{channel}}."}'),filter:JSON.parse('{"broadcaster":"Streamer","manager":"Manager","vip":"VIP","verified":"Verified","login_name":"Name","badge_uuid":"Badge","keyword":"Keyword","include":"Include","exclude":"Exclude","sleep":"Sleep"}')},Me={page:JSON.parse('{"logout":"로그아웃","darkmode":"어두운 테마","lightmode":"밝은 테마","reqFailed":"요청 실패","noChannel":"연결된 채팅방이 없습니다.","reqDelay":"{{time}} 초 뒤 다시 시도하세요.","serverError":"서버 오류","unknownErrorOccured":"알 수 없는 오류가 발생했습니다.","authFailed":"인증 실패. 새로고침 후 다시 시도하세요.","channelIdInputPh":"채널 아이디 입력","connect":"연결","recentConnection":"최근 연결","onlineFollowed":"온라인 (팔로우)","getMore":"더 보기","refresh":"새로고침","loginTwitch":"트위치로 로그인","setting":"설정","filterSetting":"필터 설정","reverseChatOrder":"채팅 위치 변경","chatFontSize":"채팅 글자 크기","fontSmall":"작게","fontDefault":"기본값","fontBig":"크게","fontBigger":"더 크게","chat":"채팅","add":"추가","search":"검색","cancel":"취소","apply":"적용","tokenRefreshed":"세션이 갱신되었습니다. 다시 시도하세요.","reqFailedMessage":"요청이 실패했습니다. 다시 시도하세요.","contactDeveloper":"개발자에게 문의하기","advertise":"웹 버전을 사용해보세요!","advertiseChat":"Twitch Badge Collector 웹 버전을 사용해보세요! https://wtbc.bluewarn.dev"}'),filterPage:JSON.parse('{"title":"{{APP_NAME}} :: 필터 설정","addFilter":"필터 추가","searchBadges":"배지 검색","filterList":"필터 목록","filterDelete":"필터 삭제","filterApply":"필터 적용","filterInitConfirm":"기존 필터가 모두 초기화됩니다. 계속 할까요?","filterDeleteAllConfirm":"필터가 모두 삭제됩니다. 계속 할까요?","filterDeleteConfirm":"{{length}} 개의 필터가 삭제됩니다. 계속 할까요?","searchBadgeDescription":"채널 이름을 생략하면 트위치 글로벌 배지에서 찾습니다.","addFilterInputPlaceholder":"내용 입력","searchChannelInputPlaceholder":"채널 이름을 입력하세요.","searchBadgeInputPlaceholder":"배지 이름 검색","searchFilterInputPlaceholder":"필터 목록 검색","noInputValue":"내용을 입력하세요.","filterAlreadyExist":"이미 존재하는 필터입니다.","uploadFilter":"필터 업로드","noMetaInFile":"백업 파일에 메타데이터가 없습니다.","noFilterID":"필터 아이디가 없습니다.","displaySearchResult":"총 {{count}} 개의 검색 결과가 있습니다.","bits":"비트","tier":"티어","condition":"조건","contents":"내용","category":"카테고리","badgeName":"배지 이름","note":"비고","channel":"채널","removeSelection":"선택 삭제","removeAll":"전체 삭제","backupFile":"파일 백업","uploadFile":"파일 업로드"}'),chatSaver:JSON.parse('{"title":"{{APP_NAME}} :: 채팅 저장","saveChat":"채팅 저장","saveChat_description":"채팅을 이미지로 저장합니다.","saveChat_description_1":"[ {{settingName}} ] 설정으로만 사용할 수 있습니다.","selectChatRoom":"채팅방 선택","InputImageWidthPlaceholder":"이미지 폭을 입력하세요 (px 단위)","InputFilenamePlaceholder":"파일 이름을 입력하세요","download":"다운로드","selectChat":"채팅 선택","selectChatRoomError":"채팅방을 선택하세요.","noChatList":"채팅 목록이 없습니다.","insertChatClient":"트위치 채팅 클라이언트 삽입"}'),tmi:JSON.parse('{"connecting":"채팅 서버에 연결 중입니다..","connected":"채팅 서버에 연결 되었습니다.","channelNotFound":"#{{channel}} 채널을 찾을 수 없습니다.","emoteEnabled":"{{channel}} 채널에 이모티콘 전용 모드가 활성화되었습니다.","emoteDisabled":"{{channel}} 채널에 이모티콘 전용 모드가 비활성화되었습니다.","followerEnabled":"{{channel}} 채널에 팔로우 전용 채팅이 {{length}} 분간 활성화되었습니다.","followerDisabled":"{{channel}} 채널에 팔로우 전용 채팅이 비활성화되었습니다.","slowModeEnabled":"{{channel}} 채널에 {{length}} 초 슬로우 모드가 활성화되었습니다.","slowModeDisabled":"{{channel}} 채널에 슬로우 모드가 비활성화되었습니다.","messageDeleted":"메시지가 삭제되었습니다.","claerchat":"{{channel}} 채널의 채팅이 모두 삭제되었습니다.","timeout":"{{duration}}초 동안 임시 퇴장됐습니다.","subscribersEnabled":"#{{channel}} 구독자 전용 채팅이 활성화되었습니다.","subscribersDisabled":"#{{channel}} 구독자 전용 채팅이 비활성화되었습니다.","hosting":"#{{target}} 호스트 중.","raid":"[raid] {{username}} is raiding with a party of {{viewers}}","chatConnecting":"#{{channel}} 채팅방에 연결중입니다...","chatConnectFailed":"#{{channel}} 채팅방 연결에 실패했습니다.","chatConnected":"#{{channel}} 채팅방에 연결되었습니다."}'),filter:JSON.parse('{"broadcaster":"스트리머","manager":"매니저","vip":"VIP","verified":"인증 완료","login_name":"닉네임","badge_uuid":"배지","keyword":"키워드","include":"포함","exclude":"제외","sleep":"꺼짐"}')},De={order:["localStorage","cookie","htmlTag","querystring"],lookupLocalStorage:"language",lookupCookie:"language",htmlTag:document.documentElement};fe.use(je).init({resources:{en:Re,ko:Me},fallbackLng:"en",ns:["page","filterPage","chatSaver","tmi","filter"],detection:De});const Fe=fe;class $e{static isEmpty(e){return 0===Object.keys(e).length}static trim_hash(e){let t="";return e&&""!==e&&(t="#"===e[0]?e.substring(1):e),t}static getRandomString(){return Math.random().toString(36).substring(2,12)}}const Ue="https://wtbc.bluewarn.dev",He="qrh8nkx7bzpij23zdudqsh05wzi9k0";class ze{constructor(){this.Toast=i().mixin(a)}getToken(){return fetch(`${Ue}/token`,{method:"POST"}).then((e=>(history.replaceState({},"",location.pathname),e.json()))).catch((e=>{this.onError()}))}login(e,t){const n=new URLSearchParams;n.append("cstate",e),n.append("page",t),location.replace(`${Ue}/login?${n}`)}logout(e){const t=new URLSearchParams;t.append("page",e),location.replace(`${Ue}/logout?${t}`)}toggleLoginStatus(e,t){e.access_token?this.logout(t):this.login($e.getRandomString(),t)}onError(){this.Toast.fire({icon:"error",title:Fe.t("page:serverError"),text:Fe.t("page:unknownErrorOccured")})}}class qe{}var Ve;qe.map=new Map,function(e){e.Badge_UUID="badge_uuid",e.Login_name="login_name",e.Keyword="keyword"}(Ve||(Ve={}));class Je{constructor(e,t){this._filter=t,this.tapi=e}checkFilterWithValues(e,t,n,o){if(!this._filter)return"";let s=new Map,i=this.checkFilter("login_name",n,!0),a=this.checkFilter("login_name",o,!0);s.set("u_login_name",i),s.set("d_login_name",a);let r=[];if(e)for(let t of e.split(",")){let e=this.tapi.channel_badges.get(t)||this.tapi.global_badges.get(t);if(!e)break;let n=new URL(e.image_url_1x).pathname.split("/")[3],o=this.checkFilter("badge_uuid",n,!0);r.push(o)}s.set("badge",this.select_cf_result(r));let l=this.checkFilter("keyword",t,!1);s.set("keyword",l);for(const[e,t]of s)if("FILTER_NOT_FOUND"!==t){if("FILTER_INCLUDE"===t)return["u_login_name","d_login_name"].includes(e)?"login_name":e;break}return""}checkFilter(e,t,n){if(!this._filter)return"";let o,s,i=Object.keys(this._filter).map((e=>this._filter[e])).filter((t=>t.category===e&&"sleep"!=t.filter_type));n?(o=i.filter((e=>e.value.toLowerCase()===t.toLowerCase()&&"include"===e.filter_type)),s=i.filter((e=>e.value.toLowerCase()===t.toLowerCase()&&"exclude"===e.filter_type))):(o=i.filter((e=>t.includes(e.value)&&"include"===e.filter_type)),s=i.filter((e=>t.includes(e.value)&&"exclude"===e.filter_type)));let a=o.length,r=s.length;return 0===a&&0===r?"FILTER_NOT_FOUND":0!=a&&0===r?"FILTER_INCLUDE":"FILTER_EXCLUDE"}select_cf_result(e){if(0===e.length)return"FILTER_NOT_FOUND";let t=e.includes("FILTER_EXCLUDE"),n=e.includes("FILTER_INCLUDE"),o=e.includes("FILTER_NOT_FOUND");return t?"FILTER_EXCLUDE":!t&&n?"FILTER_INCLUDE":t||n||!o?void 0:"FILTER_NOT_FOUND"}set filter(e){this._filter=e}}const Ke=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"];class We{constructor(){}rgbToHsl(e,t,n){e/=255,t/=255,n/=255;var o,s,i=Math.max(e,t,n),a=Math.min(e,t,n),r=(i+a)/2;if(i==a)o=s=0;else{var l=i-a;switch(s=r>.5?l/(2-i-a):l/(i+a),i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return[o,s,r]}hslToRgb(e,t,n){var o,s,i;if(0==t)o=s=i=n;else{function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var a=n<.5?n*(1+t):n+t-n*t,r=2*n-a;o=l(r,a,e+1/3),s=l(r,a,e),i=l(r,a,e-1/3)}return[255*o,255*s,255*i]}getNewBrightnessColor(e,t){let n,o=this.convertHexCodeToDecArray(e),s=this.rgbToHsl(o[0],o[1],o[2]);return n=this.hslToRgb(s[0],s[1],t/100),"#"+this.convertToTwoDigitHexCodeFromDecimal(n[0])+this.convertToTwoDigitHexCodeFromDecimal(n[1])+this.convertToTwoDigitHexCodeFromDecimal(n[2])}getReadableColor(e,t){const n=document.documentElement.classList.contains("light_theme"),o=n?"light_theme":"dark_theme",s=n?"#f7f7f8":"#121212";let i=this.resolveColor(e,t);const a=this.contrast(i,s);if(a<=4){const e=this.convertHexCodeToDecArray(i),t=this.rgbToHsl(e[0],e[1],e[2]);let n=Math.floor(100*t[2]);if("light_theme"===o)for(let e=0;e<10&&(n=n-9+(4-a),i=this.getNewBrightnessColor(i,n),!(this.contrast(i,s)>=4));e++);else for(let e=0;e<10&&(n=n+9+(4-a),i=this.getNewBrightnessColor(i,n),!(this.contrast(i,s)>=4));e++);}return i}resolveColor(e,t){let n=qe.map.get(e);if(n)t&&n!==t&&(n=t,qe.map.set(e,n));else{if(!t){const e=Math.floor(Math.random()*Ke.length);t=Ke[e]}qe.map.set(e,t),n=t}return n}convertToTwoDigitHexCodeFromDecimal(e){var t=Math.round(e).toString(16);return t.length>1||(t="0"+t),t}convertHexCodeToDecArray(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]}luminance(e,t,n){var o=[e,t,n].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*o[0]+.7152*o[1]+.0722*o[2]}contrast(e,t){let n=this.convertHexCodeToDecArray(e),o=this.convertHexCodeToDecArray(t),s=this.luminance(n[0],n[1],n[2]),i=this.luminance(o[0],o[1],o[2]);return(Math.max(s,i)+.05)/(Math.min(s,i)+.05)}}const Ye=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gi;class Ge{constructor(e,t,n,o,s){this.badges=t.badges,this.badges_raw=t["badges-raw"],this.login_name=t.username||t.login,this.disp_name=t["display-name"],this.color=t.color,this.text=e,this.msg_id=t["msg-id"],this.user_id=t["user-id"],this.messge_type=t["message-type"],this.tmi_send_ts=t["tmi-sent-ts"],this.id=t.id,this.emotes=t.emotes,this.bits=t.bits,this._cheermotes=o.cheermotes||new Map,this.self=n,this.filter=s,this.cb_info=o.channel_badges,this.gb_info=o.global_badges,this.emoteset=o.emote_sets}checkFilter(){return this.filter.checkFilterWithValues(this.badges_raw,this.text,this.login_name,this.disp_name)}render_chat(){let e=document.createElement("div"),t=this.render_author(),n=this.render_message();return e.appendChild(this.render_time()),this.badges&&e.appendChild(this.render_badges()),e.appendChild(t),e.appendChild(n),e.classList.add("chat",this.login_name),e.id=this.id,e}render_badges(){let e=document.createElement("span");e.classList.add("badges");const t=this.cb_info,n=this.gb_info,o=this.badges_raw.split(",");if(!t||!n)return e;for(let s=0;s<o.length;s++){let i=t.get(o[s])||n.get(o[s]);if(!i)continue;const a=document.createElement("img");a.classList.add("chat_badge"),a.src=i.image_url_1x,a.srcset=`${i.image_url_1x} 1x, ${i.image_url_2x} 2x, ${i.image_url_4x} 4x`,e.appendChild(a)}return e}render_author(){let e=document.createElement("span"),t=document.createElement("span"),n=document.createElement("span"),o=document.createElement("span");t.classList.add("chat_author_disp"),n.classList.add("chat_author_login"),o.classList.add("chat_message_separator"),o.textContent=": ",e.classList.add("author"),t.textContent=this.disp_name,e.appendChild(t),this.login_name&&this.login_name!==this.disp_name.toLowerCase()&&(n.textContent=` (${this.login_name})`,e.appendChild(n));const s=new We;return e.style.color=s.getReadableColor(this.login_name,this.color),"action"!==this.messge_type?e.appendChild(o):o.textContent=" ",e.appendChild(o),e}render_message(){let e=this.text,t=document.createElement("span");t.classList.add("chat_message"),"action"===this.messge_type&&t.classList.add("italic"),"highlighted-message"===this.msg_id&&t.classList.add("highlighted-message");const n=[...this.resolveLink(e),...this.resolveMotes(e)];n.sort(((e,t)=>e.idx[0]-t.idx[0])),0===n.length&&t.appendChild(this.getTextTag(e));for(let o=0;o<n.length;o++){const s=n[o];if(0===o&&0!==s.idx[0]&&t.appendChild(this.getTextTag(e.substring(0,s.idx[0]))),"emote"===s.type)t.appendChild(this.getEmoteTag(s.value));else if("cheermote"===s.type){let e=document.createElement("span");const n=s.value[0],o=s.value[1],i=this.getMinBits(o),a=this.getTierByMinBits(n,i),r=a.images.dark.animated,l=a.color;e.classList.add("bits_amount"),e.style.color=l,e.textContent=o.toString(),t.appendChild(this.getCheermoteTag(r[1],r[2],r[3])),t.appendChild(e)}else if("link"===s.type){const n=e.substring(s.idx[0],s.idx[1]+1);t.appendChild(this.getLinkAnchor(n))}if(n.length-1===o)s.idx[1]<e.length-1&&t.appendChild(this.getTextTag(e.substring(s.idx[1]+1,e.length)));else{const i=n[o+1];t.appendChild(this.getTextTag(e.substring(s.idx[1]+1,i.idx[0])))}}return t}getTextTag(e){let t=document.createElement("span");return t.textContent=e,t}getEmoteTag(e){let t=document.createElement("div"),n=document.createElement("img"),o=`https://static-cdn.jtvnw.net/emoticons/v2/${e}/default/dark`;return t.classList.add("emoticon_container"),n.classList.add("emoticon"),n.src=o+"/1.0",n.srcset=`${o}/1.0 1x, ${o}/2.0 2x, ${o}/3.0 4x`,t.appendChild(n),t}getCheermoteTag(...e){let t=document.createElement("div"),n=document.createElement("img");return t.classList.add("emoticon_container"),n.classList.add("emoticon"),n.src=e[0],n.srcset=`${e[0]} 1x, ${e[1]} 2x, ${e[2]} 4x`,t.appendChild(n),t}getLinkAnchor(e){const t=document.createElement("a");return t.href=e,t.target="_blank",t.rel="noreferrer",t.textContent=e,t}getTierByMinBits(e,t){const n=this._cheermotes.get(e);for(let e of n)if(t===e.min_bits)return e}getMinBits(e){let t=0;return e>=1&&e<=99?t=1:e>=100&&e<=999?t=100:e>=1e3&&e<=4999?t=1e3:e>=5e3&&e<=9999?t=5e3:e>=1e4&&(t=1e4),t}resolveMotes(e){const t=[],n=e.split(" ");let o=0;const s=this.emotes||{},i=0===Object.keys(s).length&&Object.getPrototypeOf(s)===Object.prototype;i||Object.keys(s).forEach((e=>{for(let n of s[e])t.push({type:"emote",value:e,idx:n.split("-").map((e=>parseInt(e)))})}));for(let e=0;e<n.length;e++){const s=n[e],a=[o,o+s.length-1],r=this.checkCheermote(s);if(this.bits&&0!==r.length)t.push({type:"cheermote",value:r,idx:a});else if(i&&this.emoteset.has(s)){const e=this.emoteset.get(s).id;t.push({type:"emote",value:e,idx:a})}o=o+s.length+1}return t}resolveLink(e){const t=e.matchAll(Ye),n=[];for(const e of t)n.push({type:"link",idx:[e.index,e.index+e[0].length-1]});return n}checkCheermote(e){const t=e.split(/([1-9]+[0-9]*)$/);return this._cheermotes.has(t[0])?[t[0],t[1]]:[]}render_time(){let e,t,n,o=document.createElement("span");return e=this.tmi_send_ts?new Date(parseInt(this.tmi_send_ts)):new Date,t=((e.getHours()+11)%12+1).toString(),n=e.getMinutes().toString(),n=1===n.length?"0"+n:n,o.textContent=t+":"+n,o.classList.add("chat_sent_ts"),o}}class Ze{constructor(e){this.text=e}render_message(){let e=document.createElement("div"),t=document.createElement("span");return e.classList.add("chat","irc_message"),t.classList.add("irc_message_span"),t.textContent=this.text,e.appendChild(t),e}}class Xe{constructor(e,t){this.msg_id=e,this.system_msg=t}render_sub_container(){const e=document.createElement("div"),t=document.createElement("span");return e.classList.add("usernotice",this.msg_id),t.classList.add("system_msg"),t.textContent=this.system_msg,e.appendChild(t),e}}Promise.resolve(!1),Promise.resolve(!0);var Qe=Promise.resolve();function et(e,t){return e||(e=0),new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}function tt(){return Math.random().toString(36).substring(2)}var nt=0,ot=0;function st(){var e=(new Date).getTime();return e===nt?1e3*e+ ++ot:(nt=e,ot=0,1e3*e)}var it="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);const at={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),Qe}catch(e){return Promise.reject(e)}},canBeUsed:function(){if(it&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:st};var rt=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var t=this;this.timeMap.set(e,lt()),this.set.add(e),setTimeout((function(){!function(e){for(var t=lt()-e.ttl,n=e.set[Symbol.iterator]();;){var o=n.next().value;if(!o)return;if(!(e.timeMap.get(o)<t))return;e.timeMap.delete(o),e.set.delete(o)}}(t)}),0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function lt(){return(new Date).getTime()}function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var ut="messages";function dt(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function ht(e){e.closed||pt(e).then((function(){return et(e.options.idb.fallbackInterval)})).then((function(){return ht(e)}))}function pt(e){return e.closed?Qe:e.messagesCallback?(t=e.db,n=e.lastCursorId,o=t.transaction(ut).objectStore(ut),s=[],new Promise((function(e){(function(){try{var e=IDBKeyRange.bound(n+1,1/0);return o.openCursor(e)}catch(e){return o.openCursor()}}()).onsuccess=function(t){var o=t.target.result;o?o.value.id<n+1?o.continue(n+1):(s.push(o.value),o.continue()):e(s)}}))).then((function(t){var n=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return n.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),Qe})):Qe;var t,n,o,s}const mt={create:function(e,t){return t=ct(t),function(e){var t="pubkey.broadcast-channel-0-"+e,n=dt().open(t,1);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(ut,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}(e).then((function(n){var o={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:tt(),eMIs:new rt(2*t.idb.ttl),writeBlockPromise:Qe,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){o.closed=!0,t.idb.onclose&&t.idb.onclose()},ht(o),o}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,pt(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var o={uuid:t,time:(new Date).getTime(),data:n},s=e.transaction([ut],"readwrite");return new Promise((function(e,t){s.oncomplete=function(){return e()},s.onerror=function(e){return t(e)},s.objectStore(ut).add(o)}))}(e.db,e.uuid,t)})).then((function(){var t,n;0===(0,10,Math.floor(11*Math.random()+0))&&(t=e.db,n=e.options.idb.ttl,function(e,t){var n=(new Date).getTime()-t,o=e.transaction(ut).objectStore(ut),s=[];return new Promise((function(e){o.openCursor().onsuccess=function(t){var o=t.target.result;if(o){var i=o.value;if(!(i.time<n))return void e(s);s.push(i),o.continue()}else e(s)}}))}(t,n).then((function(e){return Promise.all(e.map((function(e){return function(e,t){var n=e.transaction([ut],"readwrite").objectStore(ut).delete(t);return new Promise((function(e){n.onsuccess=function(){return e()}}))}(t,e.id)})))})))})),e.writeBlockPromise},canBeUsed:function(){return!it&&!!dt()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:st};function gt(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function ft(e){return"pubkey.broadcastChannel-"+e}function wt(){if(it)return!1;var e=gt();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}const bt={create:function(e,t){if(t=ct(t),!wt())throw new Error("BroadcastChannel: localstorage cannot be used");var n=tt(),o=new rt(t.localstorage.removeTimeout),s={channelName:e,uuid:n,eMIs:o};return s.listener=function(e,t){var i=ft(e),a=function(e){var t;e.key===i&&(t=JSON.parse(e.newValue),s.messagesCallback&&t.uuid!==n&&t.token&&!o.has(t.token)&&(t.data.time&&t.data.time<s.messagesCallbackTime||(o.add(t.token),s.messagesCallback(t.data))))};return window.addEventListener("storage",a),a}(e),s},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){et().then((function(){var o=ft(e.channelName),s={token:tt(),time:(new Date).getTime(),data:t,uuid:e.uuid},i=JSON.stringify(s);gt().setItem(o,i);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=o,a.newValue=i,window.dispatchEvent(a),n()}))}))},canBeUsed:wt,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:st};var yt=st,vt=new Set;const _t={create:function(e){var t={name:e,messagesCallback:null};return vt.add(t),t},close:function(e){vt.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(vt).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:yt};var kt=[at,mt,bt],Ct=new Set,xt=0,Et=function(e,t){var n,o,s;this.id=xt++,Ct.add(this),this.name=e,this.options=ct(t),this.method=function(e){var t=[].concat(e.methods,kt).filter(Boolean);if(e.type){if("simulate"===e.type)return _t;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||it||(t=t.filter((function(e){return"idb"!==e.type})));var o=t.find((function(e){return e.canBeUsed()}));if(o)return o;throw new Error("No useable method found in "+JSON.stringify(kt.map((function(e){return e.type}))))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,(s=o=(n=this).method.create(n.name,n.options))&&"function"==typeof s.then?(n._prepP=o,o.then((function(e){n._state=e}))):n._state=o};function St(e,t,n){var o={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Qe).then((function(){var t=e.method.postMessage(e._state,o);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function Ot(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Lt(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&Ot(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var n=e.time-1e5;t.time>=n&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function Pt(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!Ot(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}Et._pubkey=!0,Et.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return St(this,"message",e)},postInternal:function(e){return St(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};Pt(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,Lt(this,"message",t)):this._onML=null},addEventListener:function(e,t){Lt(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){Pt(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){Ct.delete(this),this.closed=!0;var t=this._prepP?this._prepP:Qe;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};const Tt="Twitch Badge Collector",It=document.getElementById("twitch_login_btn_small"),At=document.getElementById("auth_info"),Bt=document.getElementById("user_setting"),Nt=document.getElementById("setting_btn"),jt=document.getElementById("dark_mode_btn"),Rt=document.getElementById("reverse_chat_btn"),Mt=document.getElementById("sidebar"),Dt=document.getElementById("sidebar_btn"),Ft=document.getElementById("flw_str_control"),$t=document.getElementById("channel_id"),Ut=document.getElementById("connect_channel"),Ht=document.getElementById("chat_list_container"),zt=Ht.getElementsByClassName("chat_list origin")[0],qt=Ht.getElementsByClassName("chat_list clone")[0],Vt=document.getElementById("chat_text_input"),Jt=document.getElementById("chat_text_send"),Kt=document.getElementById("channel_list_container"),Wt=document.getElementsByClassName("channel_list recent")[0],Yt=document.getElementsByClassName("channel_list online")[0],Gt=document.getElementById("setting"),Zt=document.getElementById("font_size_examples"),Xt=document.getElementById("handler"),Qt=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${Qt}px`);const en=Math.floor(1e3+9e3*Math.random()),tn=new Et("Filter"),nn=new Et("Chat"),on=i().mixin(a);let sn="",an=0,rn=localStorage.getItem("ratio")||0,ln="true"===localStorage.getItem("ratio"),cn="";Ln(localStorage.getItem("fontSize")),On(localStorage.getItem("language")),Pn(`${Tn()}_theme`),Sn(parseInt(localStorage.getItem("ratio"))||30),_n();const un=new ze,dn=new class{constructor(e){this._emote_sets=new Map,this._cheermotes=new Map,this.auth=new ze,this.Toast=i().mixin(a),this.client_id=e}async get_users(...e){let t=new URLSearchParams;e.forEach((e=>{t.append("login",e)}));const n=await this.request(`/api/users?${t}`,"GET");return n.error&&this.Toast.fire(Fe.t("page:reqFailed"),Fe.t(n.message),"error"),n}async get_followed_streams(e,t){if(null===t)return Promise.reject();let n=new URLSearchParams;n.append("user_id",e),t&&n.append("after",t),n.append("first","20");const o=`/api/streams/followed?${n}`,s=await this.request(o,"GET");return s.error&&this.Toast.fire(Fe.t("page:reqFailed"),Fe.t(s.message),"error"),s}async get_channel_chat_badges(e,t){const n=`/api/chat/badges?broadcaster_id=${e}`,o=await this.request(n,"GET");return o.error&&this.Toast.fire(Fe.t("page:reqFailed"),Fe.t(o.message),"error"),t?this.badge_data_to_map(o):o}async get_global_chat_badges(e){const t=await this.request("/api/chat/badges/global","GET");return t.error&&this.Toast.fire(Fe.t("page:reqFailed"),Fe.t(t.message),"error"),e?this.badge_data_to_map(t):t}async getChannelChatBadges(e){let t=new URLSearchParams;t.append("language",Fe.language);const n=`/udapi/badges/channels/${e}/display?${t}`,o=await this.request(n,"GET");return o.error&&this.Toast.fire(Fe.t("page:reqFailed"),Fe.t(o.message),"error"),o}async getGlobalChatBadges(){let e=new URLSearchParams;e.append("language",Fe.language);const t=`/udapi/badges/global/display?${e}`,n=await this.request(t,"GET");return n.error&&this.Toast.fire(Fe.t("page:reqFailed"),Fe.t(n.message),"error"),n}async get_emote_sets(e){let t=new URLSearchParams;for(let n=0;n<e.length;n++)t.append("emote_set_id",e[n]);const n=await this.request("/api/chat/emotes/set?"+t,"GET");return n.error&&this.Toast.fire(Fe.t("page:reqFailed"),Fe.t(n.message),"error"),n.data.forEach((e=>{this.emote_sets.set(e.name,e)})),this.emote_sets}async get_cheermotes(e){const t=`/api/bits/cheermotes?broadcaster_id=${e}`,n=await this.request(t,"GET");return n.error&&this.Toast.fire(Fe.t("page:reqFailed"),Fe.t(n.message),"error"),this.cheermote_map(n)}get user_id(){return this._user_id}set user_id(e){this._user_id=e}get username(){return this._username}set username(e){this._username=e}get access_token(){return this.token}set access_token(e){this.token=e}get expire_time(){return this.t_expire}set expire_time(e){this.t_expire=e}get current_channel(){return this.cur_channel}set current_channel(e){this.cur_channel=e}get targetChannel(){return this._targetChannel}set targetChannel(e){this._targetChannel=e}get channel_badges(){return this.ch_badges}set channel_badges(e){this.ch_badges=e}get global_badges(){return this.gb_badges}set global_badges(e){this.gb_badges=e}get emote_sets(){return this._emote_sets}set emote_sets(e){this._emote_sets=e}get cheermotes(){return this._cheermotes}set cheermotes(e){this._cheermotes=e}request(e,t){return fetch(e,{method:t}).then((async e=>{if(e.ok)return e.json();401===e.status?this.auth.getToken().then((e=>{e.status?(this.access_token=e.access_token,this.Toast.fire(Fe.t("page:reqFailed"),Fe.t("page:tokenRefreshed"),"error")):this.showErrorMessage()})).catch((e=>{this.showErrorMessage()})):this.showErrorMessage()})).catch((e=>{this.showErrorMessage()}))}showErrorMessage(){this.Toast.fire(Fe.t("page:reqFailed"),Fe.t("page:reqFailedMessage"),"error")}badge_data_to_map(e){const t=e.data;let n=new Map;for(let e=0;e<t.length;e++){let o=t[e];for(let e=0;e<o.versions.length;e++){const t=`${o.set_id}/${o.versions[e].id}`;n.set(t,o.versions[e])}}return n}cheermote_map(e){const t=e.data;let n=new Map;for(let e=0;e<t.length;e++){let o=t[e];n.set(o.prefix,o.tiers)}return n}get_query_str(e,t){let n="";if(!e)return n;for(let o=0;o<e.length;o++)e&&(n+=`&${t}=${e[o]}`);return"?"+n}}(He);let hn,pn=JSON.parse(localStorage.getItem("filter"));hn=pn?new Je(dn,Object.fromEntries(pn)):new Je(dn);const mn=new class{constructor(e,t,n){this.CHAT_COUNT=144,this.CHAT_COUNT_MAX=444,this._origChatIsAtBottom=!0,this._cloneChatIsAtBottom=!0,this.chat_list_container=document.getElementById("chat_list_container"),this.chat_list_origin=this.chat_list_container.getElementsByClassName("chat_list origin")[0],this.chat_list_clone=this.chat_list_container.getElementsByClassName("chat_list clone")[0],this.filter=e,this.tapi=t,this.origin=n}addMessage(e,t,n,o){if(!(o=null===e)&&$e.trim_hash(e)!==$e.trim_hash(this.tapi.current_channel))return;const s=""!==(n=n||""),i=document.createElement("div");let a=s?"tbc_highlight_"+n:"tbc_highlight";if(i.classList.add("chat_line"),i.classList.add(a),i.appendChild(t),s||!this.origin&&o){let e=i.cloneNode(!0);this.chat_list_clone.appendChild(e),this.maintainChatCount(this.chat_list_clone),this._cloneChatIsAtBottom&&this.scrollDownChatList(this.chat_list_clone)}this.origin&&(this.chat_list_origin.appendChild(i),this.maintainChatCount(this.chat_list_origin),this._origChatIsAtBottom&&this.scrollDownChatList(this.chat_list_origin))}addChatMessage(e,t,n,o){const s=new Ge(t,n,o,this.tapi,this.filter);this.addMessage(e,s.render_chat(),s.checkFilter())}addIRCMessage(e,t,n){const o=new Ze(t);this.addMessage(e,o.render_message(),null,n)}addUserNoticeMessage(e,t,n){let o="";const s=new Xe(t["message-type"],t["system-msg"]).render_sub_container();if(n){const e=new Ge(n,t,!1,this.tapi,this.filter);o=e.checkFilter(),s.appendChild(e.render_chat())}this.addMessage(e,s,o)}maintainChatCount(e){if(!e.classList.contains("chat_list"))return;const t=e.childElementCount,n=(e.classList.contains("origin")?this._origChatIsAtBottom:this._cloneChatIsAtBottom)?this.CHAT_COUNT:this.CHAT_COUNT_MAX;if(t>n)for(let t of Array.from(e.childNodes))e.childElementCount>n&&t.remove()}scrollDownChatList(e){e.scrollTop=e.scrollHeight}clearAllChat(e){Array.from(this.chat_list_origin.childNodes).forEach((t=>{if(e){const e=t;e.children[0].classList.contains("irc_message")||e.classList.add("cancel_line")}else t.remove()}))}clearCopiedChat(){Array.from(this.chat_list_clone.childNodes).forEach((e=>{e.remove()}))}clearUserChat(e,t){Array.from(this.chat_list_origin.getElementsByClassName(e)).forEach((e=>{t?e.classList.contains("chat")&&e.classList.add("cancel_line"):e.getElementsByClassName("chat_message")[0].textContent=`< ${Fe.t("tmi:messageDeleted")} >`}))}set origChatIsAtBottom(e){this._origChatIsAtBottom=e}set cloneChatIsAtBottom(e){this._cloneChatIsAtBottom=e}}(hn,dn,!0);let gn={options:{clientId:He,skipUpdatingEmotesets:!0,skipMembership:!0},connection:{reconnect:!0,secure:!0},identity:{username:"",password:""}},fn=new o.Client(gn);function wn(e,t){return dn.get_followed_streams(e,t).then((e=>{document.getElementById("followed_online-list").classList.remove("hidden"),sn=$e.isEmpty(e.pagination)?null:e.pagination.cursor;const t=document.getElementsByClassName("channel_list online")[0];let n=e.data;for(let e=0;e<n.length;e++)yn(t,n[e].user_name,n[e].user_login)}))}function bn(e,t){let n=document.createElement("div"),o=document.createElement("span");const s=document.createElement("span"),i=document.createElement("span");return n.classList.add("channel_container"),n.setAttribute("channel",t),s.textContent=e,i.textContent=` (${t})`,s.classList.add("c_disp_name"),i.classList.add("c_login_name"),o.appendChild(s),o.appendChild(i),o.classList.add("channel"),n.appendChild(o),n}function yn(e,t,n){e.appendChild(bn(t,n))}function vn(){return JSON.parse(localStorage.getItem("RECENT_CONN_LIST"))||[]}function _n(){Ut.textContent=Fe.t("page:connect"),$t.placeholder=Fe.t("page:channelIdInputPh"),document.getElementById("recentChannel").textContent=Fe.t("page:recentConnection"),document.getElementById("onlineChannel").textContent=Fe.t("page:onlineFollowed"),document.getElementById("get_more_flw_str").textContent=Fe.t("page:getMore"),document.getElementById("refresh_flw_str").textContent=Fe.t("page:refresh"),document.getElementById("contact-developer__a").textContent=Fe.t("page:contactDeveloper"),document.getElementById("setting_btn_text").textContent=Fe.t("page:setting"),document.getElementById("filter-setting__link").textContent=Fe.t("page:filterSetting");const e="light_theme"===localStorage.getItem("theme")?"darkmode":"lightmode";document.getElementById("dark_mode_btn_text").textContent=Fe.t(`page:${e}`),document.getElementById("reverse_chat_btn_text").textContent=Fe.t("page:reverseChatOrder"),document.getElementById("twitch_login_small_text").textContent=Fe.t("page:loginTwitch"),document.getElementById("popup_title").textContent=Fe.t("page:setting"),document.getElementById("fontSizeSetting").textContent=Fe.t("page:chatFontSize"),document.getElementById("fontSmallText").textContent=Fe.t("page:fontSmall"),document.getElementById("fontDefaultText").textContent=Fe.t("page:fontDefault"),document.getElementById("fontBigText").textContent=Fe.t("page:fontBig"),document.getElementById("fontBiggerText").textContent=Fe.t("page:fontBigger"),document.getElementById("chat_text_send").textContent=Fe.t("page:chat")}function kn(){Mt.classList.toggle("hidden")}function Cn(){Mt.classList.add("hidden")}async function xn(e){dn.targetChannel=e;const t=(new Date).getTime()-an;let n=!1;if(!e||""===e)return;if(t<=3e3)return void mn.addIRCMessage(null,Fe.t("page:reqDelay",{time:1+~~((3e3-t)/1e3)}),!0);if("CLOSED"===fn.readyState()&&(n=await function(e,t){const n=Math.floor(1e3+9e3*Math.random());return gn.identity.username=t?e:"justinfan"+n,gn.identity.password=t?`oauth:${t}`:"",fn.connect().then((()=>!0)).catch((e=>!1))}(dn.username,dn.access_token)),"OPEN"!==fn.readyState())return;if("OPEN"===fn.readyState()&&(n=!0),!n)return;if(dn.current_channel===e)return;mn.addIRCMessage(null,Fe.t("tmi:chatConnecting",{channel:e}),!0);let o=await dn.get_users(e);if(0===o.data.length)return void mn.addIRCMessage(null,Fe.t("tmi:channelNotFound",{channel:e}),!0);let s=await dn.get_channel_chat_badges(o.data[0].id,!0),i=await dn.get_cheermotes(o.data[0].id);const a=o.data[0].display_name,r=o.data[0].login;await fn.join(r).then((e=>{!function(e,t,n,o){En(e),function(e,t){let n=vn(),o=!1;for(let e of n)e.channel===t.toLocaleLowerCase()&&(o=!0);if(o)return;const s=Wt.getElementsByClassName("channel_container");n.push({channel:t.toLocaleLowerCase(),disp_name:e}),Wt.prepend(bn(e,t)),n.length>4&&(n.shift(),s[s.length-1].remove()),localStorage.setItem("RECENT_CONN_LIST",JSON.stringify(n))}(t,e),cn=t,an=(new Date).getTime(),dn.channel_badges=n,dn.cheermotes=o;const s=fn.getChannels();for(let t=0;t<s.length;t++)s[t]!=="#"+e&&fn.part(s[t]);qe.map.clear(),mn.clearAllChat(!1),mn.clearCopiedChat(),mn.addIRCMessage(e,Fe.t("tmi:chatConnected",{channel:e}),!0)}(r,a,s,i)})).catch((e=>{mn.addIRCMessage(r,Fe.t("tmi:chatConnectFailed",{channel:r}),!0)}))}function En(e){let t=`#${e}`,n=`#${e} ) ${Tt}`;e&&""!==e||(t=Fe.t("page:noChannel"),n=Tt),Vt.placeholder=t,document.title=n,dn.current_channel=e}function Sn(e){0!=e&&(e=e||30);let t=0===e?1:10===e?0:1,n=0===e?0:10===e?1:0;1<=e&&e<=100&&(n=parseFloat((.01*e).toFixed(2)),t=parseFloat((1-n).toFixed(2))),ln&&([t,n]=[n,t]),zt.style.flex=String(t),qt.style.flex=String(n)}function On(e){let t="";e.includes("ko")?t="ko":e.includes("en")&&(t="en");const n=document.getElementById("language-options").getElementsByClassName("language");for(let e of n)e.classList.remove("language-status__enabled");document.getElementById(`language__${t}`).classList.add("language-status__enabled"),localStorage.setItem("language",e),Fe.changeLanguage(e),_n()}function Ln(e){e||(e="font_default");let t="";t="font_small"===e?"font_size_0":"font_big"===e?"font_size_2":"font_bigger"===e?"font_size_3":"font_size_1";let n=Zt.children;for(let t of n){const n=t.getElementsByClassName("font_example")[0];t.id===e?n.classList.add("selected"):n.classList.remove("selected")}const o=document.getElementById("chat_room");for(let e of o.classList)/font_size_[0-9]$/.test(e)&&o.classList.remove(e);o.classList.add(t),localStorage.setItem("fontSize",e)}function Pn(e){let t,n;"light_theme"===e?(t=Fe.t("page:darkmode"),n="dark_mode"):(t=Fe.t("page:lightmode"),n="light_mode"),document.getElementById("dark_mode_btn_text").textContent=t,document.getElementById("dark_mode_btn_icon").textContent=n,localStorage.setItem("theme",e),document.documentElement.className=e}function Tn(){return"dark_theme"===localStorage.getItem("theme")?"dark":"light"}dn.get_global_chat_badges(!0).then((e=>{dn.global_badges=e}));const In=vn();for(let e of In.reverse()||[])yn(Wt,e.disp_name,e.channel);function An(e){e.preventDefault(),window.addEventListener("mousemove",Bn),window.addEventListener("touchmove",Bn),window.addEventListener("mouseup",Nn),window.addEventListener("touchend",Nn)}function Bn(e){const t="touches"in e?e.touches[0].clientY:e.clientY;if(Ht){const e=Ht.getBoundingClientRect();rn=100*(1-(t-e.y)/e.height),rn=Math.max(0,Math.min(100,Math.round(rn))),Sn(rn)}}function Nn(){localStorage.setItem("ratio",rn.toString()),window.removeEventListener("mousemove",Bn),window.removeEventListener("touchmove",Bn),window.removeEventListener("mouseup",Nn),window.removeEventListener("touchend",Nn)}un.getToken().then((e=>{if(e.status){const t=6e4;dn.access_token=e.access_token,dn.expire_time=t,Kt.classList.remove("hidden"),dn.get_users().then((e=>{let t=e.data[0];dn.user_id=t.id,dn.username=t.login,function(e){const t=document.getElementById("twitch_login_small_text"),n=document.getElementById("login_btn_icon"),o=document.getElementById("user_info"),s=document.getElementById("user_profile_img"),i=document.getElementById("user_disp_name");n.textContent="logout",t.textContent=Fe.t("page:logout"),s.src=e.profile_image_url,i.textContent=e.display_name,o.classList.remove("hidden")}(t),wn(t.id)}))}})),fn.on("connecting",((e,t)=>{mn.addIRCMessage(null,Fe.t("tmi:connecting"),!0),Jt.disabled=!0})),fn.on("connected",((e,t)=>{const n=fn.getChannels();mn.addIRCMessage(null,Fe.t("tmi:connected"),!0),0===n.length&&n.includes(dn.targetChannel)&&xn(dn.targetChannel),Jt.disabled=!1})),fn.on("reconnect",(()=>{Jt.disabled=!0})),fn.on("disconnected",(async e=>{if("Login authentication failed"===e){const e=await un.getToken();e.status?(dn.access_token=e.access_token,mn.addIRCMessage(null,Fe.t("page:tokenRefreshed"),!0)):mn.addIRCMessage(null,Fe.t("page:authFailed"),!0)}Jt.disabled=!0})),fn.on("part",((e,t,n)=>{qe.map.delete(t)})),fn.on("emoteonly",((e,t)=>{t?mn.addIRCMessage(null,Fe.t("tmi:emoteEnabled",{channel:e}),!1):mn.addIRCMessage(null,Fe.t("tmi:emoteDisabled",{channel:e}),!1)})),fn.on("followersonly",((e,t,n)=>{t?mn.addIRCMessage(null,Fe.t("tmi:followerEnabled",{channel:e,length:n}),!1):mn.addIRCMessage(null,Fe.t("tmi:followerDisabled",{channel:e,length:n}),!1)})),fn.on("slowmode",((e,t,n)=>{t?mn.addIRCMessage(null,Fe.t("tmi:slowModeEnabled",{channel:e,length:n}),!1):mn.addIRCMessage(null,Fe.t("tmi:slowModeDisabled",{channel:e}),!1)})),fn.on("message",((e,t,n,o)=>{mn.addChatMessage(e,n,t,o)})),fn.on("clearchat",(e=>{mn.clearAllChat(!0),mn.addIRCMessage(null,Fe.t("tmi:claerchat",{channel:e}),!1)})),fn.on("messagedeleted",((e,t,n,o)=>{})),fn.on("timeout",((e,t,n,o)=>{t===dn.username&&mn.addIRCMessage(null,Fe.t("tmi:timeout",{duration:o}),!1),mn.clearUserChat(t,!0)})),fn.on("ban",((e,t,n)=>{mn.clearUserChat(t,!0)})),fn.on("subscription",((e,t,n,o,s)=>{mn.addUserNoticeMessage(e,s,o)})),fn.on("cheer",((e,t,n)=>{mn.addChatMessage(e,n,t,!1)})),fn.on("giftpaidupgrade",((e,t,n,o)=>{mn.addUserNoticeMessage(e,o,o.message)})),fn.on("anongiftpaidupgrade",((e,t,n)=>{mn.addUserNoticeMessage(e,n,n.message)})),fn.on("submysterygift",((e,t,n,o,s)=>{mn.addUserNoticeMessage(e,s,s.message)})),fn.on("resub",((e,t,n,o,s,i)=>{mn.addUserNoticeMessage(e,s,o)})),fn.on("primepaidupgrade",((e,t,n,o)=>{mn.addUserNoticeMessage(e,o,o.message)})),fn.on("subgift",((e,t,n,o,s,i)=>{mn.addUserNoticeMessage(e,i,i.message)})),fn.on("raided",((e,t,n)=>{const o={"message-type":"raided","system-msg":`[raid] ${t} is raiding with a party of ${n}`};mn.addUserNoticeMessage(e,o)})),fn.on("subscribers",((e,t)=>{let n="";n=t?Fe.t("tmi:subscribersEnabled",{channel:e}):Fe.t("tmi:subscribersDisabled",{channel:e}),mn.addIRCMessage(e,n,!1)})),fn.on("hosting",((e,t,n)=>{mn.addIRCMessage(e,Fe.t("tmi:hosting"),!1)})),fn.on("notice",((e,t,n)=>{mn.addIRCMessage(e,n,!1)})),fn.on("emotesets",((e,t)=>{let n=e.split(",");for(let e=0;e<n.length;e+=25)dn.get_emote_sets(n.splice(0,25))})),Ut.addEventListener("click",(e=>{xn($t.value),$t.value=""})),Jt.addEventListener("click",(e=>{const t=Vt.value;if(""===t)return;0===fn.getChannels().length&&En(null);const n=dn.current_channel;n&&""!==n?fn.say(n,t).then((e=>{Vt.value=""})).catch((e=>{mn.addIRCMessage(n,e,!1)})):mn.addIRCMessage(n,Fe.t("page:noChannel"),!1)})),$t.addEventListener("keyup",(e=>{"Enter"!==e.key&&"Enter"!=e.code||Ut.click()})),Vt.addEventListener("keyup",(e=>{"Enter"!==e.key&&"Enter"!=e.code||Jt.click()})),zt.addEventListener("scroll",(function(){mn.origChatIsAtBottom=zt.scrollTop+zt.clientHeight>=zt.scrollHeight-40}),!1),qt.addEventListener("scroll",(function(){mn.cloneChatIsAtBottom=qt.scrollTop+qt.clientHeight>=qt.scrollHeight-40}),!1),At.addEventListener("click",(e=>{Bt.classList.toggle("hidden")})),It.addEventListener("click",(e=>{un.toggleLoginStatus(dn,"main")})),Nt.addEventListener("click",(e=>{Gt.classList.remove("hidden"),Bt.classList.add("hidden")})),jt.addEventListener("click",(e=>{const t=new We,n=document.getElementById("chat_list_container").getElementsByClassName("chat");"dark_theme"===localStorage.getItem("theme")?Pn("light_theme"):Pn("dark_theme");for(let e of n){const n=e.getElementsByClassName("author")[0];if(!n)continue;const o=e.classList.item(1);n.style.color=t.getReadableColor(o,null)}})),Rt.addEventListener("click",(e=>{let t="arrow_upward";zt.classList.toggle("reversed"),qt.classList.toggle("reversed"),ln=!ln,ln&&(t="arrow_downward"),document.getElementById("reverse_chat_btn_icon").textContent=t,localStorage.setItem("reversed",JSON.stringify(ln))})),Ft.addEventListener("click",(e=>{const t=e.target;if("BUTTON"===t.tagName)if(t.disabled=!0,"get_more_flw_str"===t.id){if(null===sn)return;wn(dn.user_id,sn).then((e=>{null!==sn&&(t.disabled=!1)})).catch((e=>{t.disabled=!1}))}else if("refresh_flw_str"===t.id){const e=document.getElementById("get_more_flw_str");Array.from(Yt.childNodes).forEach((e=>{e.remove()})),wn(dn.user_id).then((n=>{e.disabled=!1,t.disabled=!1})).catch((e=>{t.disabled=!1}))}})),Kt.addEventListener("click",(e=>{if(e.target instanceof Element){const t=e.target.closest(".channel_container");t&&(xn(t.getAttribute("channel")),kn(),e.stopPropagation())}})),Dt.addEventListener("click",(e=>{kn()})),document.getElementById("language-options").addEventListener("click",(e=>{On(e.target.id.replace("language__",""))})),Zt.addEventListener("click",(e=>{const t=e.target;t.classList.contains("font_example")&&Ln(t.parentElement.id)})),Xt.addEventListener("mousedown",An),Xt.addEventListener("touchstart",An,{passive:!0}),window.addEventListener("resize",(()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)})),document.getElementById("sidebar-close__btn").addEventListener("click",(e=>{Cn()})),document.addEventListener("click",(e=>{const t=e.target;t.closest("#user_setting")||t.closest("#auth_info")||Bt.classList.add("hidden"),t.closest("#sidebar")||t.closest("#sidebar_btn")||Cn(),t.closest("#setting")||t.closest("#setting_btn")||Gt.classList.add("hidden"),e.stopPropagation()})),tn.onmessage=e=>{e.to.includes("wtbc-main")&&(e.filter?(hn.filter=Object.fromEntries(e.filter),on.fire("필터 업데이트","필터가 업데이트 되었습니다.","info")):on.fire("필터 업데이트","필터를 업데이트하지 못했습니다.","warning"))},nn.onmessage=e=>{if("REQUEST_CHATROOM_ID"===e.type){if(!dn.current_channel)return void console.log("연결된 채널이 없습니다.");nn.postMessage({type:"RESPONSE_CHATROOM_ID",theme:Tn(),channel:dn.current_channel,displayName:cn,random:en})}if("REQUEST_CHAT_LIST"===e.type){if(e.id!==`${en}-${dn.current_channel}`)return;const t=(new XMLSerializer).serializeToString(document.getElementsByClassName("chat_list")[1]);nn.postMessage({type:"chatList",chatListXML:t})}},document.getElementById("debug-1").addEventListener("click",(e=>{fn.connect()})),document.getElementById("debug-2").addEventListener("click",(e=>{fn.disconnect()}))},604:()=>{},726:()=>{}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(565),n(153)})();
//# sourceMappingURL=main.js.map